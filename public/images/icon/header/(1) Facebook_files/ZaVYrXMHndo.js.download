if (self.CavalryLogger) { CavalryLogger.start_js(["8+AuH"]); }

__d("MWChatForwardDialogQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[b],d={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:c,storageKey:null},e=[{kind:"Literal",name:"first",value:5}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],i={alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:h,storageKey:null},j=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[f,g,b,i],storageKey:null},b],storageKey:null}],k={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatForwardDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:c,storageKey:null},d,{args:null,kind:"FragmentSpread",name:"CometMessengerResharesTargets_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatForwardDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"broadcast_list_type",value:"WEB"}],concreteType:"SuggestedRecipientsConnection",kind:"LinkedField",name:"messenger_suggested_recipients",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"section_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:e,concreteType:"SuggestedRecipientsAttachmentsConnection",kind:"LinkedField",name:"attachments_pageable",plural:!1,selections:[{alias:null,args:null,concreteType:"SuggestedRecipientsAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,b,{kind:"TypeDiscriminator",abstractKey:"__isMessengerSearchable"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:j,storageKey:"other_participants(first:3)"},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},k],type:"MessengerViewerGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:j,storageKey:"other_participants(first:1)"},k],type:"MessengerViewer1To1Thread",abstractKey:null},{kind:"InlineFragment",selections:[g,i],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:"attachments_pageable(first:5)"},{alias:null,args:e,filters:null,handle:"connection",key:"CometMessengerReshareDialogSuggestionsSection_section_attachments_pageable",kind:"LinkedHandle",name:"attachments_pageable"},b],storageKey:null}],storageKey:'messenger_suggested_recipients(broadcast_list_type:"WEB")'},d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,b],storageKey:null}],storageKey:null}]},params:{id:"3150584431630584",metadata:{relayPreloadable:!0},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWTeardownOnMessageDelete",["MWChatDeleteMessageEventEmitter","MWChatMessageId.re","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.messageID,d=a.onClose;return g.useEffect(function(){var a=b("MWChatDeleteMessageEventEmitter").subscribe(function(a){var e=b("MWChatMessageId.re").getMessageId(c);e===a&&d()});return function(){a()}},[c,d])}}),null);
__d("MWChatForwardDialog.react",["fbt","regeneratorRuntime","CometCardedDialog.react","CometMessengerResharesTargets.react","CometRelay","MWChatThreadId.re","React","cometPushToast","unrecoverableViolation","useMWTeardownOnMessageDelete","useResharesDialogState","MWChatForwardDialogQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function j(a){return a.targetID}function k(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:(c=a.onSendMessage,d=a.target),c(b("MWChatThreadId.re").fromJs(d));case 2:case"end":return e.stop()}},null,this)}function a(a){var c,d=a.props;a=a.queries;a=b("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("MWChatForwardDialogQuery.graphql"),a.forwardQueryReference);a=a==null?void 0:a.viewer;var e=a==null?void 0:a.actor;c=a==null?void 0:(c=a.account_user)==null?void 0:c.id;if(a==null||c==null||e==null)throw b("unrecoverableViolation")("Need a viewer id, actor in order to forward a message","messenger_web_product");if((e==null?void 0:e.id)!==c)throw b("unrecoverableViolation")("Forward in Messenger currently only supports forwarding as the account user","messenger_web_product");b("useMWTeardownOnMessageDelete")({messageID:d.messageID,onClose:d.onClose});e=i.useCallback(function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(k({onSendMessage:d.onSend,target:a}));case 2:case"end":return c.stop()}},null,this)},[d.onSend]);c=i.useCallback(function(){b("cometPushToast").cometPushErrorToast({message:g._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi chuy\u1ec3n ti\u1ebfp tin nh\u1eafn n\u00e0y. Vui l\u00f2ng th\u1eed l\u1ea1i sau.")})},[]);c=b("useResharesDialogState")({getTargetKey:j,handleError:c,sharePost:e});e=c.getTargetAction;return i.jsx(b("CometCardedDialog.react"),{onClose:d.onClose,size:"small",title:g._("Chuy\u1ec3n ti\u1ebfp qua nhi\u1ec1u tin nh\u1eafn ri\u00eang"),withCloseButton:!0,children:i.jsx(b("CometMessengerResharesTargets.react"),{getTargetAction:e,hideDivider:!0,viewer:a})})}}),null);