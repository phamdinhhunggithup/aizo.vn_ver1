if (self.CavalryLogger) { CavalryLogger.start_js(["yy3kc"]); }

__d("Base64.bs",["base64-js"],(function(a,b,c,d,e,f){"use strict";function g(a){return b("base64-js").fromByteArray(new TextEncoder().encode(a))}function a(a){var c=new TextDecoder();return c.decode(b("base64-js").toByteArray(a))}function c(a){var b=new TextDecoder();a=new Uint8Array(a);return g(b.decode(a))}function d(a){return b("base64-js").fromByteArray(new Uint8Array(a))}function e(a){return b("base64-js").toByteArray(a).buffer}f.encodeUnicode=g;f.decodeUnicode=a;f.encodeArrayBuffer=c;f.fromArrayBuffer=d;f.toArrayBuffer=e}),null);
__d("SignalProtocolJavaScript.bs",["Promise","Base64.bs","SkytaleDB","SkytaleDB.bs","bs_caml_array","bs_caml_int64","bs_pervasives","bs_belt_Option","bs_caml_format","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";c={};d={SENDING:1,RECEIVING:2};e={};var g={},h={binary:"binary",base64:"base64"};h={Types:h};var i={};h={Encoding:h,ByteBuffer:i};i={regular:1,preKey:3};var j=function(a){return a.type};i={MessageTypes:i,getEncryptType:j};j={};var k={};function l(a){a=a.split(".");return{user_id:b("bs_caml_array").caml_array_get(a,0),instance_id:b("bs_caml_array").caml_array_get(a,1)}}var m={from_signal_protocal_address_str:l};function n(a){a=a.split("::");return{senderKeyId:b("bs_caml_format").caml_int64_of_string(b("bs_caml_array").caml_array_get(a,0)),deviceAddress:l(b("bs_caml_array").caml_array_get(a,1))}}var o={fromSenderKeyNameStr:n};function p(a,b,c,d,e,f){return{a:a,b:b,c:c,d:d,e:e}}function q(a,b,c,d,e,f){return{a:a,b:b,c:c,d:d,e:e}}function r(a,b,c,d,e,f,g){return{a:a,b:b,c:c,d:d,e:e,f:f}}function a(a,c,d){var e={contents:b("Promise").resolve(0)};return{getIdentityKeyPair:function(c){return b("Promise").resolve(a)},getLocalRegistrationId:function(a){return b("Promise").resolve(c)},isTrustedIdentity:function(a,c,e){e=a.split(".");e.length!==2&&b("bs_pervasives").failwith("Expected user and device id to be defined.");return b("SkytaleDB").table(d,"secure_message_session_state").get([b("bs_caml_format").caml_int64_of_string(e[0]),[e[1],0]]).then(function(a){return b("bs_belt_Option").mapWithDefault(a,b("Promise").resolve(!0),function(a){return b("bs_belt_Option").mapWithDefault(a.d,b("Promise").resolve(!0),function(a){if(a==="")return b("Promise").resolve(!0);else return b("Promise").resolve(b("Base64.bs").fromArrayBuffer(c)===a)})})})["catch"](function(a){return b("Promise").resolve(!1)})},loadIdentityKey:function(a){a=l(a);return b("SkytaleDB").table(d,"secure_message_session_state").get([b("bs_caml_format").caml_int64_of_string(a.user_id),[a.instance_id,0]]).then(function(a){if(a!==void 0){a=a.d;if(a!==void 0)return b("Promise").resolve(b("Base64.bs").toArrayBuffer(a));else return b("Promise").resolve(void 0)}else return b("Promise").resolve(void 0)})},saveIdentity:function(a,c){var f=e.contents.then(function(e){e=l(a);var f=b("bs_caml_format").caml_int64_of_string(e.user_id),g=e.instance_id,h=b("Base64.bs").fromArrayBuffer(c),i=b("bs_caml_int64").of_float(Date.now());return b("SkytaleDB").table(d,"secure_message_session_state").get([f,[g,0]]).then(function(a){if(a!==void 0){var c=a;return b("SkytaleDB.bs").Table.update(b("SkytaleDB").table(d,"secure_message_session_state"),[f,[g,0]],function(a){return p(f,g,c.c,h,i,0)})}else return b("SkytaleDB").table(d,"secure_message_session_state").put(p(f,g,void 0,h,i,0))}).then(function(a){return b("Promise").resolve(!0)})["catch"](function(a){return b("Promise").resolve(!1)})});e.contents=f.then(function(a){return b("Promise").resolve(0)})["catch"](function(a){return b("Promise").resolve(0)});return f},loadPreKey:function(a){a=b("bs_caml_int64").of_int32(a);return b("SkytaleDB").table(d,"secure_message_pre_keys").get([a,0]).then(function(a){if(a!==void 0){a=a;var c=a.c;a=a.b;return b("Promise").resolve({privKey:b("Base64.bs").toArrayBuffer(c),pubKey:b("Base64.bs").toArrayBuffer(a)})}else return b("Promise").resolve(void 0)})},removePreKey:function(a){return b("SkytaleDB").table(d,"secure_message_pre_keys")["delete"]([b("bs_caml_int64").of_int32(a),0])},storePreKey:function(c,a){c=b("bs_caml_int64").of_int32(c);var e=b("Base64.bs").fromArrayBuffer(a.pubKey);a=b("Base64.bs").fromArrayBuffer(a.privKey);return b("SkytaleDB").table(d,"secure_message_pre_keys").put(q(c,e,a,void 0,b("bs_caml_int64").of_float(Date.now()),0))},loadSignedPreKey:function(a){a=b("bs_caml_int64").of_int32(a);return b("SkytaleDB").table(d,"secure_message_pre_keys").get([a,0]).then(function(a){if(a!==void 0){a=a;var c=a.c;a=a.b;return b("Promise").resolve({privKey:b("Base64.bs").toArrayBuffer(c),pubKey:b("Base64.bs").toArrayBuffer(a)})}else return b("Promise").resolve(void 0)})},removeSignedPreKey:function(a){return b("SkytaleDB").table(d,"secure_message_pre_keys")["delete"]([b("bs_caml_int64").of_int32(a),0])},storeSignedPreKey:function(c,a){c=b("bs_caml_int64").of_int32(c);var e=b("Base64.bs").fromArrayBuffer(a.pubKey);a=b("Base64.bs").fromArrayBuffer(a.privKey);return b("SkytaleDB").table(d,"secure_message_pre_keys").put(q(c,e,a,void 0,b("bs_caml_int64").of_float(Date.now()),0))},Direction:{SENDING:1,RECEIVING:2},loadSession:function(a){a=l(a);return b("SkytaleDB").table(d,"secure_message_session_state").get([b("bs_caml_format").caml_int64_of_string(a.user_id),[a.instance_id,0]]).then(function(a){if(a!==void 0){a=a.c;if(a!==void 0)return b("Promise").resolve(a);else return b("Promise").resolve(void 0)}else return b("Promise").resolve(void 0)})},storeSession:function(a,c){var f=e.contents.then(function(e){e=l(a);var f=b("bs_caml_format").caml_int64_of_string(e.user_id),g=e.instance_id,h=b("bs_caml_int64").of_float(Date.now());return b("SkytaleDB").table(d,"secure_message_session_state").get([f,[g,0]]).then(function(a){if(a!==void 0){var e=a;return b("SkytaleDB.bs").Table.update(b("SkytaleDB").table(d,"secure_message_session_state"),[f,[g,0]],function(a){return p(f,g,c,e.d,h,0)})}else return b("SkytaleDB").table(d,"secure_message_session_state").put(p(f,g,c,void 0,h,0))})});e.contents=f["catch"](function(a){return b("Promise").resolve(0)});return f},loadSenderKey:function(a){a=n(a);return b("SkytaleDB").table(d,"secure_message_sender_key").get([a.senderKeyId,[b("bs_caml_format").caml_int64_of_string(a.deviceAddress.user_id),[a.deviceAddress.instance_id,0]]]).then(function(a){if(a!==void 0){a=a.d;return b("Promise").resolve(b("bs_js_null_undefined").fromOption(a))}else return b("Promise").resolve(void 0)})},storeSenderKey:function(a,c){a=n(a);var e=a.senderKeyId,f=b("bs_caml_format").caml_int64_of_string(a.deviceAddress.user_id),g=a.deviceAddress.instance_id,h=b("bs_caml_int64").of_float(Date.now());return b("SkytaleDB").table(d,"secure_message_sender_key").get([e,[f,[g,0]]]).then(function(a){if(a!==void 0){var i=a;return b("SkytaleDB.bs").Table.update(b("SkytaleDB").table(d,"secure_message_sender_key"),[e,[f,[g,0]]],function(a){return r(e,f,g,c,i.e,h,0)})}else return b("SkytaleDB").table(d,"secure_message_sender_key").put(r(e,f,g,c,void 0,h,0))})}}}f.KeyHelper=c;f.direction=d;f.SignalProtocolAddress=e;f.SessionBuilder=g;f.Transcoding=h;f.SessionCipher=i;f.SenderKeySessionBuilder=j;f.SenderKeyCipher=k;f.DeviceAddress=m;f.SenderKey=o;f.createSessionStateRow=p;f.createMessagePreKeysRow=q;f.createMessageSenderKeyRow=r;f.make=a}),null);
__d("ArrayBuffer.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.reduce(function(a,b){return a+b.byteLength|0},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength|0},0);return c.buffer}f.mergeBuffers=a}),null);
__d("SkytaleCryptoConstsUtil.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new DataView(new Uint8Array(2).buffer);c.setUint8(0,a);c.setUint8(1,b);return c.buffer}b=2;f.additionalDataLength=b;f.makeAAD=a}),null);
__d("SkytaleCryptoConsts.bs",["SkytaleCryptoConstsUtil.bs"],(function(a,b,c,d,e,f){"use strict";a=b("SkytaleCryptoConstsUtil.bs").makeAAD(1,2);c=new Uint8Array(0).buffer;d=1;e=2;b=b("SkytaleCryptoConstsUtil.bs").additionalDataLength;var g=12,h=256,i=128,j=33,k=32,l=4;f.version=d;f.cipherID=e;f.additionalDataLength=b;f.attachmentsAdditionalData=a;f.aesGCMIvLength=g;f.aesGCMKeyLength=h;f.aesGCMTagLength=i;f.identityKeyPubKeyLength=j;f.hkdfInfo=c;f.hkdfSeedLength=k;f.preKeyKeyIdLength=l}),null);
__d("TextEncoder.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.encode(b).buffer}f.encodeToArrayBuffer=a}),null);
__d("UInt8Array.bs",["bs_string","bs_caml_array","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=[];for(var d=0;d<=255;++d)c.push(d.toString(16).padStart(2,"0"));d=new Uint8Array(a);a=[];for(var e=0,f=d.length;e<=f;++e){var g=d[e];g=b("bs_caml_array").caml_array_get(c,g);a.push(g)}return b("bs_string").trim(a.join(" "))}function c(a){var c=a.length;if(c>0&&c%2===0&&/^[\da-f]+$/gi.test(a)){var d=[];for(var e=0,c=(c/2|0)-1|0;e<=c;++e){var f=parseInt(a.substring(e<<1,(e<<1)+2|0),16);d.push(f)}return b("bs_caml_option").some(new Uint8Array(d))}}function d(a){return crypto.getRandomValues(new Uint8Array(a)).buffer}f.toHexOctets=a;f.fromHexString=c;f.getBufferWithRandomValuesFromLength=d}),null);
__d("SkytaleCrypto.bs",["invariant","Promise","bs_array","bs_int64","Base64.bs","bs_js_dict","bs_caml_array","bs_pervasives","UInt8Array.bs","ArrayBuffer.bs","TextEncoder.bs","SkytaleCryptoConsts.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b("UInt8Array.bs").getBufferWithRandomValuesFromLength(b("SkytaleCryptoConsts.bs").aesGCMIvLength);return crypto.subtle.encrypt({name:"AES-GCM",iv:d,additionalData:b("SkytaleCryptoConsts.bs").attachmentsAdditionalData,tagLength:b("SkytaleCryptoConsts.bs").aesGCMTagLength},a,c).then(function(a){return b("Promise").resolve(b("ArrayBuffer.bs").mergeBuffers([b("SkytaleCryptoConsts.bs").attachmentsAdditionalData,d,a]))})}function i(a,c){var d,e=c.slice(0,(d=b("SkytaleCryptoConsts.bs")).additionalDataLength),f=c.slice(d.additionalDataLength,d.aesGCMIvLength+d.additionalDataLength|0);c=c.slice(d.aesGCMIvLength+d.additionalDataLength|0);return crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:e,tagLength:d.aesGCMTagLength},a,c)}function a(a,c){return i(a,c).then(function(a){var c=a.slice(0,b("SkytaleCryptoConsts.bs").identityKeyPubKeyLength);a=a.slice(b("SkytaleCryptoConsts.bs").identityKeyPubKeyLength);return b("Promise").resolve({privKey:a,pubKey:c})})}function c(a,c){c=b("ArrayBuffer.bs").mergeBuffers([c.pubKey,c.privKey]);return h(a,c)}function d(a,c){var d=new DataView(new Uint8Array(b("SkytaleCryptoConsts.bs").preKeyKeyIdLength).buffer);d.setInt32(0,c.keyId);d=d.buffer;d=b("ArrayBuffer.bs").mergeBuffers([d,c.keyPair.pubKey,c.keyPair.privKey]);return h(a,d)}function e(a,c){return i(a,c).then(function(a){var c,d=a.slice(0,(c=b("SkytaleCryptoConsts.bs")).preKeyKeyIdLength);d=new DataView(d);d=d.getInt32(0);var e=a.slice(c.preKeyKeyIdLength,c.identityKeyPubKeyLength+c.preKeyKeyIdLength|0);a=a.slice(c.identityKeyPubKeyLength+c.preKeyKeyIdLength|0);return b("Promise").resolve({keyId:d,keyPair:{privKey:a,pubKey:e}})})}function j(a){var c={},d=a.length;for(var e=0,d=d-1|0;e<=d;++e){var f=b("bs_caml_array").caml_array_get(a,e),g=b("bs_int64").to_string(f.user_id);f=[f.instance_id];var h=b("bs_js_dict").get(c,g);if(h!==void 0){h=b("bs_array").append(h,f);h.sort();c[g]=h}else c[g]=f}var i=[];Object.keys(c).forEach(function(d){var a=b("bs_js_dict").get(c,d);if(a!==void 0){a=a.join(",");i.push(d+(":"+a));return 0}else return 0});h=i.join(";");return h}function k(a){a.length===0&&b("bs_pervasives").failwith("Serialized participant input should be something");a=b("TextEncoder.bs").encodeToArrayBuffer(new TextEncoder(),a);return crypto.subtle.digest("SHA-256",a).then(function(a){return b("Promise").resolve(b("Base64.bs").fromArrayBuffer(a))})}function l(a){return k(j(a))}function m(a,b){return crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then(function(a){return crypto.subtle.sign("HMAC",a,b)})}function n(a){return b("UInt8Array.bs").getBufferWithRandomValuesFromLength(b("SkytaleCryptoConsts.bs").hkdfSeedLength)}function o(a,b,c,d,e){a.byteLength===32||g(0,20660);return crypto.subtle.importKey("raw",a,"AES-GCM",!1,["encrypt"]).then(function(a){return crypto.subtle.encrypt({name:"AES-GCM",iv:c,additionalData:d,tagLength:e},a,b)})}f.encryptData=h;f.decryptData=i;f.decryptIdentityKey=a;f.encryptIdentityKey=c;f.encryptPreKey=d;f.decryptPreKey=e;f.serilizeParticipants=j;f.createBase64EncodedSHA256Hash=k;f.createParticipantsChecksum=l;f.hmacSHA256=m;f.createSenderHmacKey=n;f.symmetricGCMEncryptedDataCreate=o}),null);
__d("LSTasks.bs",["LSJson","SkytaleDB","bs_caml_int64","bs_pervasives","LSPendingTasksPluginType.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case 0:return"10003";case 1:return"10002";case 2:return"155";case 3:return"10001";case 4:return"10007";case 5:return"10006";case 6:return"14";case 7:return"10004";case 8:return"10005";case 9:return"29";case 10:return"33";case 11:return b("bs_pervasives").failwith("Not a supported task type.")}}function a(a){switch(a){case 0:return"secure-message-batchlookup";case 1:return"secure-message-createthread";case 2:return"delete_message";case 3:case 4:case 5:return"secure-message-deviceregistration";case 6:return"message_range";case 7:return"secure-message-prekeyupload";case 9:return"reaction";case 10:return"unsend_message";case 8:case 11:return b("bs_pervasives").failwith("Not a supported task type")}}function c(a,c,d,e){return b("SkytaleDB").table(a,"pending_tasks").add({b:d,c:b("LSJson").stringify(e),d:g(c),e:b("bs_caml_int64").of_float(Date.now()),f:[0,0],g:[0,0],h:[0,0],i:void 0,j:void 0,k:b("LSPendingTasksPluginType.bs").lsBroker,l:[0,0],m:void 0,n:void 0,o:void 0})}f.createLabelForTask=g;f.queueFromType=a;f.enqueue=c}),null);
__d("MWLSDatabaseNames.bs",["CurrentUserInitialData"],(function(a,b,c,d,e,f){"use strict";var g;a="GlobalStore"+(g||b("CurrentUserInitialData")).USER_ID;c="LightSpeed";f.globalStore=a;f.lightspeedPrefix=c}),null);
__d("MPWKeychain.bs",["Promise","bs_curry","bs_caml_obj","bs_pervasives","UInt8Array.bs","bs_belt_Option","bs_caml_option","SkytaleCrypto.bs","bs_caml_exceptions","bs_camlinternalLazy","MessengerWebKeys","MWLSDatabaseNames.bs","SkytaleCryptoConsts.bs","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g="key_stores",h=window.libsignal.KeyHelper.PRE_KEY_MEDIUM_MAX_VALUE,i="browserEncryptionKey",j="deviceEncryptionKey",k="identityKey",l="keystoreEncryptionSeed",m="lastResortPreKey",n="masterKey",o=b("bs_caml_exceptions").create("MPWKeychain.FailedWrite");function p(a){return new(b("Promise"))(function(c,d){a.onupgradeneeded=function(a){a=a.target.result;a.createObjectStore(g,{keyPath:"key",autoIncrement:!1});return 0};a.onerror=function(a){return b("unrecoverableViolation")("Failed to open db "+b("MWLSDatabaseNames.bs").globalStore,"messenger")};a.onblocked=function(a){return b("unrecoverableViolation")("DB blocked"+b("MWLSDatabaseNames.bs").globalStore,"messenger")};a.onsuccess=function(a){return c(a.target.result)};return 0})}function q(a,c){return new(b("Promise"))(function(d,e){e=a.transaction(g,"readonly").objectStore(g).get(c);e.onsuccess=function(a){a=a.target.result;if(a!==void 0)return d(b("bs_caml_option").valFromOption(a).value);else return d(void 0)};e.onerror=function(a){return d(void 0)};return 0})}function r(a,c,d){return new(b("Promise"))(function(b,e){var f=a.transaction(g,"readwrite").objectStore(g).put({key:c,value:d});f.onsuccess=function(a){return b(d)};f.onerror=function(a){return e([o,c])};return 0})}function s(a,c,d){return q(a,c).then(function(e){if(e!==void 0)return b("Promise").resolve(b("bs_caml_option").valFromOption(e));else return b("bs_curry")._1(d,0).then(function(b){return r(a,c,b)})})}function t(a,c,d,e){return q(a,c).then(function(f){if(f!==void 0)return b("Promise").resolve(b("bs_caml_option").valFromOption(f));else return b("bs_curry")._1(d,e).then(function(b){return r(a,c,b)})})}function u(a){a=b("UInt8Array.bs").getBufferWithRandomValuesFromLength(b("SkytaleCryptoConsts.bs").hkdfSeedLength);return crypto.subtle.importKey("raw",a,{name:"HKDF"},!1,["deriveKey"])}function v(a){return window.libsignal.KeyHelper.generateIdentityKeyPair().then(function(c){return b("SkytaleCrypto.bs").encryptIdentityKey(a,c)})}function w(a){return window.libsignal.KeyHelper.generatePreKey(h).then(function(c){return b("SkytaleCrypto.bs").encryptPreKey(a,c)})}function x(a){return crypto.subtle.generateKey({name:"AES-GCM",length:b("SkytaleCryptoConsts.bs").aesGCMKeyLength},!0,["encrypt","decrypt"]).then(function(a){return crypto.subtle.exportKey("raw",a)}).then(function(c){return b("SkytaleCrypto.bs").encryptData(a,c)})}function y(a){var c=b("UInt8Array.bs").getBufferWithRandomValuesFromLength(b("SkytaleCryptoConsts.bs").hkdfSeedLength);return b("SkytaleCrypto.bs").encryptData(a,c)}function z(a,c){return crypto.subtle.deriveKey({name:"HKDF",salt:a,info:b("SkytaleCryptoConsts.bs").hkdfInfo,hash:{name:"SHA-256"}},c,{name:"AES-GCM",length:b("SkytaleCryptoConsts.bs").aesGCMKeyLength},!1,["encrypt","decrypt"])}function A(a,c,d,e){var f=e[0];a=b("SkytaleCrypto.bs").decryptIdentityKey(d,e[1]);var g=b("SkytaleCrypto.bs").decryptData(d,e[2]);e=b("SkytaleCrypto.bs").decryptPreKey(d,e[3]);a=[a,g,e];return b("Promise").all(a).then(function(a){var e=a[2],g=a[0];a=z(a[1],f);var h=window.libsignal.KeyHelper.generateSignedPreKey(g,0);a=[a,h];return b("Promise").all(a).then(function(a){return b("Promise").resolve({browserEncryptionKey:f,deviceEncryptionKey:c,identityKey:g,keystoreEncryptionKey:a[0],lastResortPreKey:e,masterKey:d,signedPreKey:a[1]})})})}function B(a,c){return b("SkytaleCrypto.bs").decryptData(a,c).then(function(a){return crypto.subtle.importKey("raw",a,{name:"AES-GCM"},!1,["encrypt","decrypt"])})}function C(a){a=b("UInt8Array.bs").fromHexString(b("MessengerWebKeys").accountKey);b("bs_belt_Option").isNone(a)&&b("bs_pervasives").failwith("Invalid value for account key.");return crypto.subtle.importKey("raw",b("bs_belt_Option").getExn(a).buffer,{name:"AES-GCM"},!1,["encrypt","decrypt"])}function D(a){return C(0).then(function(c){return t(a,j,x,c).then(function(a){return B(c,a)}).then(function(a){return b("Promise").resolve([c,a])})}).then(function(c){var d=c[1],e=c[0];return t(a,n,x,d).then(function(a){return B(d,a)}).then(function(c){var f=s(a,i,u),g=t(a,k,v,c),h=t(a,l,y,c),j=t(a,m,w,c);f=[f,g,h,j];return b("Promise").all(f).then(function(a){return A(e,d,c,a)})})})}function E(a){return C(0).then(function(c){return q(a,j).then(function(a){return B(c,b("bs_belt_Option").getExn(a))}).then(function(a){return b("Promise").resolve(a)})}).then(function(c){return q(a,n).then(function(a){return B(c,b("bs_belt_Option").getExn(a))})})}function F(a){try{return E(a).then(function(c){return q(a,k).then(function(a){return b("SkytaleCrypto.bs").decryptIdentityKey(c,b("bs_belt_Option").getExn(a))})})}catch(a){return b("bs_pervasives").failwith("An error occurred when trying to fetch the identity key")}}function G(a){try{return q(a,i)}catch(a){return b("bs_pervasives").failwith("An error occured when trying to fetch the browser key")}}function H(a){try{return E(a).then(function(c){return q(a,l).then(function(a){return b("SkytaleCrypto.bs").decryptData(c,b("bs_belt_Option").getExn(a))})})}catch(a){return b("bs_pervasives").failwith("An error occured when trying to fetch the keystore encryption seed")}}var I=b("bs_caml_obj").caml_lazy_make(function(a){return p(indexedDB.open(b("MWLSDatabaseNames.bs").globalStore,1))});function a(a){return b("bs_camlinternalLazy").force(I).then(D)}function c(a){return b("bs_camlinternalLazy").force(I).then(F).then(function(a){return b("Promise").resolve(a)})}function d(a){return b("bs_camlinternalLazy").force(I).then(G)}function e(a){return b("bs_camlinternalLazy").force(I).then(function(a){var c=G(a);a=H(a);c=[c,a];return b("Promise").all(c).then(function(a){return z(a[1],b("bs_belt_Option").getExn(a[0]))})})}var J=0;f.storeName=g;f.lastResortPreKeyId=h;f.initSignedPreKeyId=J;f.browserEncryptionKeyStorageKey=i;f.deviceEncryptionKeyStoragekey=j;f.identityKeyStorageKey=k;f.keystoreEncryptionSeedStorageKey=l;f.lastResortPreKeyStorageKey=m;f.masterKeyStoragekey=n;f.FailedWrite=o;f.initialiaseDB=p;f.getValueFromDb=q;f.setValueToDb=r;f.ensureExistsInDb=s;f.ensureEncryptedInDb=t;f.defaultBrowserEncryptionKey=u;f.defaultEncryptIdentityKey=v;f.defaultEncryptLastResortPreKey=w;f.defaultEncryptedRandomGeneratedKey=x;f.defaultEncryptedRandomSeed=y;f.deriveKeyFromEncryptionSeed=z;f.generateAllKeys=A;f.importNonExportableEncryptedKey=B;f.genAccountKey=C;f.fetchKeys=D;f.fetchMasterKey=E;f.fetchIdentityKey=F;f.fetchBrowserEncryptionKey=G;f.fetchKeystoreEncryptionSeed=H;f.db=I;f.initialiseThenGetKeys=a;f.getIdentityKey=c;f.getBrowserEncryptionKey=d;f.getKeystoreEncryptionKey=e}),null);
__d("MPWLSDBCreateSchema.bs",["bs_js_dict","LSSchemas","LSMetadata","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";var g=b("LSMetadata").buildMetadata(b("LSSchemas"));function a(a,c,d,e,f){f=b("bs_belt_Option").getExn(b("bs_js_dict").get(a.tableNames,d));f.cascadeUpdates.push({tableName:c,indexName:e});return 0}a(g,"attachments","messages","fk_messages",0);a(g,"messages","threads",void 0,0);function c(a){b("bs_js_dict").values(g.tableIds).forEach(function(b){a.createObjectStore(b.name,{autoIncrement:!0});return 0});return 0}f.metadata=g;f.addForeignKey=a;f.run=c}),null);
__d("MWLSDatabaseInitialData.bs",["bs_curry","LSDict","LSJson","SkytaleDB","bs_caml_format","CurrentUser","LSSyncChannel.bs","LSDatabaseType.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,b){return b.reduce(function(b,c){return b.then(function(b){return a.put(c)})},window.Promise.resolve(0))}function h(a){var c={a:"",b:[0,0],c:void 0,d:void 0,e:[0,0],f:[0,0],g:[0,0],h:void 0},d={a:[0,0],b:void 0,c:[0,0],d:void 0,e:!1,f:[-1,4294967295],g:!1,n:b("LSSyncChannel.bs").realtime,h:[0,0],i:[0,0],j:void 0,k:void 0,l:void 0,m:void 0};return[function(d){return g(b("SkytaleDB").table(a,"network_requests"),[{a:c.a,b:(d=b("LSDatabaseType.bs")).mailbox,c:c.c,d:c.d,e:c.e,f:c.f,g:c.g,h:c.h},{a:c.a,b:d.contact,c:c.c,d:c.d,e:c.e,f:c.f,g:c.g,h:c.h},{a:c.a,b:d.presence,c:c.c,d:c.d,e:c.e,f:c.f,g:c.g,h:c.h},{a:c.a,b:d.securemailbox,c:c.c,d:c.d,e:c.e,f:c.f,g:c.g,h:c.h},{a:c.a,b:d.payments,c:c.c,d:c.d,e:c.e,f:c.f,g:c.g,h:c.h},{a:c.a,b:d.threadTheme,c:c.c,d:c.d,e:c.e,f:c.f,g:c.g,h:c.h}])},function(c){var e,f;return g(b("SkytaleDB").table(a,"sync_groups"),[{a:(c=b("LSDatabaseType.bs")).mailbox,b:void 0,c:d.c,d:(e=b("LSJson")).stringify(new(f=b("LSDict"))([["scale",1],["preview_height",200],["full_height",200]])),e:d.e,f:[-1,4294967295],g:d.g,n:d.n,h:d.h,i:d.i,j:d.j,k:d.k,l:d.l,m:d.m},{a:c.contact,b:void 0,c:d.c,d:e.stringify(new f([])),e:d.e,f:[-1,4294967295],g:d.g,n:d.n,h:d.h,i:d.i,j:d.j,k:d.k,l:d.l,m:d.m},{a:c.presence,b:void 0,c:d.c,d:e.stringify(new f([])),e:d.e,f:[-1,4294967295],g:d.g,n:d.n,h:d.h,i:d.i,j:d.j,k:d.k,l:d.l,m:d.m},{a:c.payments,b:void 0,c:d.c,d:e.stringify(new f([])),e:d.e,f:[-1,4294967295],g:d.g,n:d.n,h:d.h,i:d.i,j:d.j,k:d.k,l:d.l,m:d.m},{a:c.threadTheme,b:void 0,c:d.c,d:e.stringify(new f([])),e:d.e,f:[-1,4294967295],g:d.g,n:d.n,h:d.h,i:d.i,j:d.j,k:d.k,l:d.l,m:d.m}])},function(c){return g(b("SkytaleDB").table(a,"_user_info"),[{a:[0,1],b:b("bs_caml_format").caml_int64_of_string(b("CurrentUser").getID())}])}]}function a(a){return h(a).reduce(function(a,c){return a.then(b("bs_curry").__1(c))},window.Promise.resolve(0))}f.writeRows=g;f.writeData=h;f.run=a}),null);
__d("LSSecureMailboxAddThreadDevices.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxAddThreadDevices not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxCalculateParticipantsChecksum.bs",["Promise","bs_pervasives","SkytaleCrypto.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");a=d.map(function(a){return{user_id:a.get("user_id"),instance_id:a.get("instance_id")}});return b("SkytaleCrypto.bs").createParticipantsChecksum(a).then(function(a){return b("Promise").resolve([a])})}f.call=a}),null);
__d("LSSecureMailboxDecryptGroupData.bs",["Promise","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("Promise").resolve(["TODO: Implement this logic later."])}f.call=a}),null);
__d("LSSecureMailboxDecryptGroupPacket.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxDecryptGroupPacket not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxDecryptGroupPacketV2.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxDecryptGroupPacketV2 not implemented","messenger_comet")}f.call=a}),null);
__d("MPWSalamanderPacket.bs",["bs_block","bs_curry","bs_caml_obj","bs_caml_int32","bs_caml_int64","bs_pervasives","ArrayBuffer.bs","bs_belt_Option","bs_caml_option","bs_caml_exceptions"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("MPWSalamanderPacket.Salamander_invalid_type"),h=b("bs_caml_exceptions").create("MPWSalamanderPacket.Salamander_invalid_enum_id"),i=b("bs_caml_exceptions").create("MPWSalamanderPacket.Salamander_parse_error");function j(a){return a<<1^a>>31}function k(a){return b("bs_caml_int64").xor(b("bs_caml_int64").lsl_(a,1),b("bs_caml_int64").asr_(a,63))}function l(a){if(typeof a==="number")if(a===0)return 2;else return 1;else switch(a.tag|0){case 0:return 5;case 1:return 6;case 2:return 8;case 3:return 9;case 4:return 12;case 5:return 11}}function m(a,b){var c=new DataView(new Uint8Array(1).buffer);c.setUint8(0,a);b.push(c.buffer);return 0}function n(a,c,d,e,f,g,h){f=f;h=h;while(!0){var i=f,j=b("bs_caml_obj").caml_greaterequal(i,g);if(j){var k=(j=b("bs_curry"))._2(c,i,127),l=j._2(d,i,7);j._2(e,j._2(a,k,g),h);f=l;continue}else{b("bs_curry")._2(e,i,h);return b("ArrayBuffer.bs").mergeBuffers(h)}}}function o(a){return n(function(a,b){return a+b|0},function(a,b){return a&b},function(a,b){return a>>>b|0},m,a,128,[])}function p(a){return n(b("bs_caml_int64").add,function(a,c){return b("bs_caml_int64").and_(a,b("bs_caml_int64").of_int32(c))},b("bs_caml_int64").lsr_,function(a,c){return m(b("bs_caml_int64").to_int32(a),c)},a,[0,128],[])}function q(a,b){a=o(a);b.push(a);return 0}function r(a,b){a=p(a);b.push(a);return 0}function s(a,b){q(a.byteLength,b);b.push(a);return 0}function t(a){a.push(new Uint8Array(1).buffer);return 0}function u(a,b){var c={contents:0};a.forEach(function(a,d,e){w(c.contents,d,a,b);c.contents=d;return 0});return t(b)}function v(a,b){if(typeof a==="number")return 0;else switch(a.tag|0){case 0:return q(j(a[0]),b);case 1:return r(k(a[0]),b);case 2:return s(a[0],b);case 3:return x(a[0][0],b);case 4:return u(a[0],b);case 5:return y(a[0][0],b)}}function w(a,b,c,d){a=a!==void 0?a:0;b=b!==void 0?b:0;a=b-a|0;var e=l(c);if(a<16){a=a<<4;a=a+e|0;m(a,d)}else m(e,d),q(j(b),d);return v(c,d)}function x(a,b){var c=a.length;if(c>14){var d=252,e=new DataView(new Uint32Array(1).buffer);e.setUint32(0,j(c));m(d,b);b.push(e.buffer)}else{d=(c<<4)+12|0;m(d,b)}a.forEach(function(a){return u(a,b)});return 0}function y(a,b){var c=a.size;if(c===0)return m(c,b);else{var d=175;q(j(c),b);m(d,b);a.forEach(function(a,c,d){r(k(c),b);return x(a[0],b)});return 0}}function a(a,b){return q(j(a),b)}function z(a){var c=[];v(a,c);return b("ArrayBuffer.bs").mergeBuffers(c)}function A(a){return b("bs_block").__(4,[new Map(a)])}function B(a){return b("bs_block").__(2,[a])}function C(a){return b("bs_block").__(2,[new TextEncoder().encode(a).buffer])}function D(a){return b("bs_block").__(0,[a])}function c(a){return b("bs_block").__(1,[a])}function d(a){return b("bs_block").__(4,[new Map([a])])}function e(a){return b("bs_block").__(3,[[a]])}function E(a){return b("bs_block").__(5,[[a]])}function F(c,d,a,e){if(b("bs_belt_Option").isSome(d)){d=b("bs_belt_Option").getExn(d);e.push([c,b("bs_curry")._1(a,d)]);return 0}else return 0}function G(d,e,a,c){if(b("bs_belt_Option").isSome(e))return c.set(d,b("bs_curry")._1(a,b("bs_belt_Option").getExn(e)));else return c}a={intToZigZag:j,int64ToZigZag:k,getFieldTypeId:l,writeUint8:m,encodeVarInt:n,encodeVarI32:o,encodeVarI64:p,writeVarInt32:q,writeVarInt64:r,writeBinary:s,writeStop:t,writeStruct:u,writeFieldId:a,writeField:w,writeList:x,writeMap:y,writeValue:v,encode:z,struct_:A,binary:B,string:C,i32:D,i64:c,union:d,list:e,map:E,addOptToList:F,setOptInStruct:G};function H(a){return a>>>1^(-(a&1)|0)}function I(a){var c;return(c=b("bs_caml_int64")).xor(c.lsr_(a,1),c.neg(c.and_(a,[0,1])))}function J(a,c,d,e,f){d=d;c=c;var g=0;while(!0){var h=g,j=c,k=d;if(h>f)throw[i,"expected end of var int"];var l=a.getUint8(j),m=(l&128)!==0;l=l&b("bs_pervasives").lnot(128);k=b("bs_curry")._3(e,k,l,h);if(m){g=h+1|0;c=j+1|0;d=k;continue}else return[k,j+1|0]}}function K(a,c){return J(a,c,0,function(a,c,d){return a+(c<<b("bs_caml_int32").imul(7,d))|0},4)}function L(a,c){return J(a,c,[0,0],function(a,c,d){return b("bs_caml_int64").add(a,b("bs_caml_int64").lsl_(b("bs_caml_int64").of_int32(c),b("bs_caml_int32").imul(7,d)))},9)}function M(a,b){a=K(a,b);return[H(a[0]),a[1]]}function N(a,b){a=L(a,b);return[I(a[0]),a[1]]}function O(a,b){b=K(a,b);var c=b[1];b=b[0];var d=a.buffer;return[function(a){return function(b){return d.slice(a,b)}}(c)(c+b|0),c+b|0]}function P(a,c){var d=a.getUint8(c),e=d&15;d=d>>>4;d=d===15?M(a,c):[d,c+1|0];var f=d[0];c=function(e,c,g,h){while(!0){var d=h,i=g;d=b("bs_curry")._2(c,a,d);var j=d[1];e.push(d[0]);if((i+1|0)<f){h=j;g=i+1|0;continue}else return[e,j]}};if(e!==12)return b("bs_pervasives").failwith("unexpected type id: "+String(e));else{e=c([],S,0,d[1]);return[[e[0]],e[1]]}}function Q(a,c,d){switch(a){case 1:return[1,d];case 2:return[0,d];case 5:var e=M(c,d);return[b("bs_block").__(0,[e[0]]),e[1]];case 6:e=N(c,d);return[b("bs_block").__(1,[e[0]]),e[1]];case 8:e=O(c,d);return[b("bs_block").__(2,[e[0]]),e[1]];case 9:e=P(c,d);return[b("bs_block").__(3,[e[0]]),e[1]];case 3:case 4:case 7:case 10:break;case 11:e=T(c,d);return[b("bs_block").__(5,[e[0]]),e[1]];case 12:e=S(c,d);return[b("bs_block").__(4,[e[0]]),e[1]];default:}return b("bs_pervasives").failwith("unexpected value type id: "+String(a))}function R(a,b,c){var d=b.getUint8(c),e=d&15;d=d>>>4;if(d===0){var f=H(b.getUint16(c+1|0)),g=Q(e,b,c+3|0);return[f,g[0],g[1]]}else{f=a+d|0;g=Q(e,b,c+1|0);return[f,g[0],g[1]]}}function S(a,b){var c=new Map(),d=0;b=b;while(!0){var e=b,f=d,g=c;if(a.getUint8(e)===0)return[g,e+1|0];else{f=R(f,a,e);e=f[0];b=f[2];d=e;c=g.set(e,f[1]);continue}}}function T(a,c){var d=new Map(),e=a.getUint8(c);if(e===0)return[[d],c+1|0];else{e=M(a,c);c=e[1];var f=a.getUint8(c),g=f&15;f=f>>>4;f!==10&&g!==15&&b("bs_pervasives").failwith("Unexpected (key, value) type id: "+(String(g)+(","+String(g))));f=d;g=e[0];d=a;e=c+1|0;while(!0){a=e;c=g;var h=f;if(c===0)return[[h],a];else{a=N(d,a);var i=P(d,a[1]);e=i[1];g=c-1|0;f=h.set(a[0],i[0]);continue}}}}function aa(a){return b("bs_block").__(4,[S(new DataView(a),0)[0]])}function U(a,d,c){return b("bs_curry")._1(c,b("bs_caml_option").nullable_to_opt(a.get(d)))}function V(a){a=b("bs_belt_Option").getExn(a);if(typeof a==="number")throw[g,"expected buffer"];else if(a.tag===2)return a[0];else throw[g,"expected buffer"]}function ba(a,c){c=b("bs_belt_Option").getExn(c);if(typeof c==="number")throw[g,"expected struct"];else if(c.tag===4){c=c[0];if(c.size!==1)throw[g,"expected union should have one key"];var d=Array.from(c.keys())[0];return b("bs_curry")._2(a,d,b("bs_caml_option").nullable_to_opt(c.get(d)))}else throw[g,"expected struct"]}function W(a){return new TextDecoder().decode(V(a))}function X(a){a=b("bs_belt_Option").getExn(a);if(typeof a==="number")throw[g,"expected i32"];else if(a.tag)throw[g,"expected i32"];else return a[0]}function Y(a){a=b("bs_belt_Option").getExn(a);if(typeof a==="number")throw[g,"expected i64"];else if(a.tag===1)return a[0];else throw[g,"expected i64"]}function Z(a){a=b("bs_belt_Option").getExn(a);if(typeof a==="number")throw[g,"expected struct"];else if(a.tag===4)return a[0];else throw[g,"expected struct"]}function ca(a){a=b("bs_belt_Option").getExn(a);if(typeof a==="number")throw[g,"expected list of struct"];else if(a.tag===3)return a[0][0];else throw[g,"expected list of struct"]}function da(a){return a[0]}function ea(a){a=b("bs_belt_Option").getExn(a);if(typeof a==="number")throw[g,"expected list of struct"];else if(a.tag===5)return a[0][0];else throw[g,"expected list of struct"]}function $(a,c){if(c!==void 0)return b("bs_caml_option").some(b("bs_curry")._1(a,c))}c={zigzagToInt:H,zigzagToInt64:I,readVarInt:J,readVarInt32:K,readVarInt64:L,readI32:M,readI64:N,readBinary:O,readList:P,readFieldValue:Q,readField:R,readStruct:S,readMap:T,decode:aa,field:U,binary:V,union:ba,string:W,i32:X,i64:Y,struct_:Z,listOfStruct:ca,listToArrStruct:da,mapI64ToListOfStruct:ea,optional:$};d={Encoder:a,Decoder:c};function fa(a){a=Z(aa(a));return{type_:b("bs_caml_int64").of_int32(U(a,2,X)),body:U(a,3,function(a){return ba(function(a,c){switch(a){case 3:return b("bs_block").__(0,[W(c)]);case 4:return b("bs_block").__(2,[ca(c).map(function(a){var c,d=U(a,11,function(a){return $(Z,a)}),e=U(a,12,function(a){return $(Z,a)}),f=U(a,14,function(a){return $(Z,a)}),g=U(a,15,function(a){return $(Z,a)});return{secretKey:U(a,2,V),downloadFbid:U(a,4,Y),downloadSizeBytes:U(a,5,Y),downloadHash:U(a,6,V),suggestedFileName:U(a,8,W),fileMimeType:U(a,9,W),thumbnailData:U(a,10,function(a){return $(V,a)}),imageMetadata:(c=b("bs_belt_Option")).map(d,function(a){return{width:U(a,2,function(a){return $(X,a)}),height:U(a,3,function(a){return $(X,a)})}}),videoMetadata:c.map(e,function(a){return{width:U(a,2,function(a){return $(X,a)}),height:U(a,3,function(a){return $(X,a)}),durationMs:U(a,4,function(a){return $(X,a)}),rotation:U(a,5,function(a){return $(X,a)})}}),downloadMac:U(a,13,W),audioMetadata:c.map(f,function(a){return{durationMs:U(a,1,function(a){return $(X,a)})}}),attributionInfo:c.map(g,function(a){return{sourceAppFbid:U(a,1,function(a){return $(W,a)})}})}})]);case 5:throw[h,a];case 6:return b("bs_block").__(1,[{fbid:U(Z(c),2,Y)}]);case 7:var d=U(Z(c),4,function(a){return $(ea,a)});return b("bs_block").__(3,[{thread_fbid:U(Z(c),2,Y),sender_key:U(Z(c),3,V),thread_participants:b("bs_belt_Option").map(d,function(a){return Array.from(a.entries()).reduce(function(b,a){var c=a[1][0];c=c.map(function(a){return{user_id:U(a,2,Y),instance_id:U(a,3,W)}});return b.set(a[0],c)},new Map())})}]);default:throw[h,a]}},a)}),senderHmacKey:U(a,4,function(a){return $(V,a)})}}function ga(c){var d=c.body,a;switch(d.tag|0){case 0:a=[3,C(d[0])];break;case 1:var e=[[2,b("bs_block").__(1,[d[0].fbid])]];a=[6,b("bs_block").__(4,[new Map(e)])];break;case 2:e=d[0].map(function(a){var c,d=(c=b("bs_belt_Option")).map(a.imageMetadata,function(a){var b=[];F(2,a.width,D,b);F(3,a.height,D,b);return b}),e=c.map(a.videoMetadata,function(a){var b=[];F(2,a.width,D,b);F(3,a.height,D,b);F(4,a.durationMs,D,b);F(5,a.rotation,D,b);return b}),f=c.map(a.videoMetadata,function(a){var b=[];F(1,a.durationMs,D,b);return b});c=c.map(a.attributionInfo,function(a){var b=[];F(1,a.sourceAppFbid,C,b);return b});return G(15,c,A,G(14,f,A,G(12,e,A,G(11,d,A,G(10,a.thumbnailData,B,new Map().set(2,(c=b("bs_block")).__(2,[a.secretKey])).set(4,c.__(1,[a.downloadFbid])).set(5,c.__(1,[a.downloadSizeBytes])).set(6,c.__(2,[a.downloadHash])).set(8,C(a.suggestedFileName)).set(9,C(a.fileMimeType))))).set(13,C(a.downloadMac))))});a=[4,b("bs_block").__(3,[[e]])];break;case 3:e=d[0];d=b("bs_belt_Option").map(e.thread_participants,function(a){return Array.from(a.entries()).reduce(function(a,c){var d=c[1].map(function(a){return new Map().set(2,b("bs_block").__(1,[a.user_id])).set(3,C(a.instance_id))});return a.set(c[0],[d])},new Map())});e=[[2,b("bs_block").__(1,[e.thread_fbid])],[3,b("bs_block").__(2,[e.sender_key])]];F(4,d,E,e);a=[7,b("bs_block").__(4,[new Map(e)])];break}var f=[[2,b("bs_block").__(0,[b("bs_caml_int64").to_int32(c.type_)])],[3,b("bs_block").__(4,[new Map([a])])]];b("bs_belt_Option").map(c.senderHmacKey,function(a){return f.push([4,b("bs_block").__(2,[a])])});return z(b("bs_block").__(4,[new Map(f)]))}f.Salamander_invalid_type=g;f.Salamander_invalid_enum_id=h;f.Salamander_parse_error=i;f.Thrift=d;f.readSalamander=fa;f.encodeSalamander=ga}),null);
__d("MPWSalamanderUtil.bs",["bs_int64","LSDict","LSJson","LSJson.bs","bs_belt_Option","MessagingAttachmentType.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){return btoa(new Uint8Array(a).reduce(function(a,b){return a+String.fromCharCode(b)},""))}function h(a){a=a.map(function(a){var c=a.imageMetadata;if(c!==void 0){c=c;c=[b("MessagingAttachmentType.bs").image,c.height,c.width,void 0,void 0]}else{var d=a.videoMetadata;if(d!==void 0){d=d;c=[b("MessagingAttachmentType.bs").video,d.height,d.width,d.durationMs,d.rotation]}else{d=a.audioMetadata;c=d!==void 0?[b("MessagingAttachmentType.bs").audio,void 0,void 0,d.durationMs,void 0]:void 0}}return b("bs_belt_Option").map(c,function(c){var d=g(a.secretKey),e=g(a.downloadHash);return new(b("LSDict"))([["attachment_type",c[0]],["encryptionKeyBase64",d],["mime_type",a.fileMimeType],["hash",e],["file_name",a.suggestedFileName],["file_size",a.downloadSizeBytes],["fbid",a.downloadFbid],["mac",a.downloadMac],["width",(d=b("LSJson.bs")).optional(c[2],function(a){return a})],["height",d.optional(c[1],function(a){return a})],["duration_ms",d.optional(c[3],function(a){return a})],["rotation",d.optional(c[4],function(a){return a})],["thumbnail",d.optional(b("bs_belt_Option").map(a.thumbnailData,g),function(a){return a})]])})}).filter(b("bs_belt_Option").isSome).map(b("bs_belt_Option").getExn);return b("LSJson").stringify(new(b("LSDict"))([["attachments",b("LSJson.bs").array(a)]]))}function a(a){a=a.body;switch(a.tag|0){case 0:return a[0];case 1:return b("bs_int64").to_string(a[0].fbid);case 2:return h(a[0]);case 3:return g(a[0].sender_key)}}f.arrayBufferToBase64=g;f.serializeAttachmentInfoList=h;f.createDecodedString=a}),null);
__d("MSMAttachmentUtil.bs",["Base64.bs","LSJson.bs","bs_js_dict","bs_caml_int64","bs_pervasives","bs_belt_Option","MessagingAttachmentType.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f){if(b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").image)){var g={width:c,height:d};return[g,void 0]}else if(b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").video)){g={width:c,height:d,durationMs:e,rotation:f};return[void 0,g]}else if(b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").audio))return b("bs_pervasives").failwith("Secure audio metadata is not supported");else return b("bs_pervasives").failwith("Unexpected file type when trying to create file metadata")}function a(a){try{a=b("LSJson.bs").Parser.dict(b("LSJson.bs").Parser.parse(a));a=b("LSJson.bs").Parser.array(b("bs_belt_Option").getExn(b("bs_js_dict").get(a,"attachments")));return a.map(function(a){var c,d,e;a=(c=b("LSJson.bs")).Parser.dict(a);var f=c.Parser.int64((d=b("bs_belt_Option")).getExn((e=b("bs_js_dict")).get(a,"attachment_type"))),h=d.map(e.get(a,"width"),function(a){return b("bs_caml_int64").to_int32(b("LSJson.bs").Parser.int64(a))}),i=d.map(e.get(a,"height"),function(a){return b("bs_caml_int64").to_int32(b("LSJson.bs").Parser.int64(a))}),j=d.map(e.get(a,"duration_ms"),function(a){return b("bs_caml_int64").to_int32(b("LSJson.bs").Parser.int64(a))}),k=d.map(e.get(a,"rotation"),function(a){return b("bs_caml_int64").to_int32(b("LSJson.bs").Parser.int64(a))});f=g(f,h,i,j,k);return{secretKey:b("Base64.bs").toArrayBuffer(c.Parser.string(d.getExn(e.get(a,"encryptionKeyBase64")))),downloadFbid:c.Parser.int64(d.getExn(e.get(a,"fbid"))),downloadSizeBytes:c.Parser.int64(d.getExn(e.get(a,"file_size"))),downloadHash:b("Base64.bs").toArrayBuffer(c.Parser.string(d.getExn(e.get(a,"hash")))),suggestedFileName:c.Parser.string(d.getExn(e.get(a,"file_name"))),fileMimeType:c.Parser.string(d.getExn(e.get(a,"mime_type"))),thumbnailData:d.map(e.get(a,"thumbnail"),function(a){return b("Base64.bs").toArrayBuffer(b("LSJson.bs").Parser.string(a))}),imageMetadata:f[0],videoMetadata:f[1],downloadMac:c.Parser.string(d.getExn(e.get(a,"mac"))),audioMetadata:void 0,attributionInfo:void 0}})}catch(a){return b("bs_pervasives").failwith("An error occured trying to create attachment list from string")}}f.fileMetadataCreate=g;f.createAttachmentListFromString=a}),null);
__d("MSMDBFetchUtil.bs",["Promise","SkytaleDB","bs_caml_int64","bs_belt_Option","SkytaleDBQuery.bs","LSSecureMailboxSenderKeyStatus.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("SkytaleDBQuery.bs").toArray(b("SkytaleDB").table(a,"secure_message_sender_key").asc).then(function(a){return b("Promise").resolve(a.filter(function(a){return b("bs_caml_int64").eq(c,a.a)}).map(function(a){return{user_id:a.b,instance_id:a.c}}))})}function c(a,c){return b("SkytaleDBQuery.bs").toArray(b("SkytaleDB").table(a,"secure_message_sender_key").asc).then(function(a){return b("Promise").resolve(a.filter(function(a){if(b("bs_caml_int64").eq(c,a.a))if(b("bs_belt_Option").isNone(a.e))return!0;else return b("bs_belt_Option").mapWithDefault(a.e,!1,function(a){return b("bs_caml_int64").eq(a,b("LSSecureMailboxSenderKeyStatus.bs").pendingSend)});else return!1}).map(function(a){return{user_id:a.b,instance_id:a.c}}))})}function d(a,c){return b("SkytaleDBQuery.bs").toArray(b("SkytaleDB").table(a,"secure_message_sender_key").asc).then(function(a){a=a.filter(function(a){if(b("bs_caml_int64").eq(c,a.a))return b("bs_belt_Option").mapWithDefault(a.e,!1,function(a){return b("bs_caml_int64").eq(a,b("LSSecureMailboxSenderKeyStatus.bs").sendingToServer)});else return!1}).length;return b("Promise").resolve(a!==0)})}f.fetchDevicesInThread=a;f.fetchDevicesToSendSenderKey=c;f.hasSenderKeySendingToServer=d}),null);
__d("MSMSender.bs",["Promise","bs_block","bs_int64","Base64.bs","LSDict","LSJson.bs","LSTasks.bs","SkytaleDB","SkytaleDB.bs","bs_caml_int64","bs_pervasives","bs_belt_Option","bs_caml_format","bs_caml_option","MPWKeychain.bs","SkytaleCrypto.bs","MSMDBFetchUtil.bs","MSMAttachmentUtil.bs","Tincan_PacketType.bs","MPWSalamanderPacket.bs","Tincan_SalamanderType.bs","SignalProtocolJavaScript.bs","LSSecureMailboxSenderKeyStatus.bs"],(function(a,b,c,d,e,f){"use strict";var g={initRegistrationId:0};function h(a,c,d,e,f){return b("SkytaleDB.bs").Table.update(b("SkytaleDB").table(a,"secure_message_sender_key"),[c,[d,[e,0]]],function(a){return{a:c,b:d,c:e,d:void 0,e:b("LSSecureMailboxSenderKeyStatus.bs").sendingToServer,f:f}})}function i(a,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=[["packet_type",c],["from_device",b("LSJson.bs").tincanDeviceAddress(e)],["packet_id",f],["thread_key",b("bs_int64").to_string(g)],["participant_checksum",h],["encrypted_content",dcodeIO.ByteBuffer.btoa(i)],["is_prekey_message",k],["is_message",l],["is_multi_send",m]];(c=b("bs_belt_Option")).map(d,function(a){return p.push(["to_user_id",b("bs_int64").to_string(a.user_id)],["to_instance_id",a.instance_id])});c.map(j,function(a){return p.push(["sender_hmac",b("Base64.bs").fromArrayBuffer(a)])});c.map(n,function(a){return p.push(["timestamp_ms",a])});c.map(o,function(a){return p.push(["trace_id",a])});return b("LSTasks.bs").enqueue(a,8,b("bs_int64").to_string(g),new(b("LSDict"))(p))}function a(a,b){return crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then(function(a){return crypto.subtle.sign("HMAC",a,b)})}function j(a,c,d){return b("MPWSalamanderPacket.bs").encodeSalamander(b("bs_caml_int64").eq(c,b("Tincan_SalamanderType.bs").plainText)?{type_:b("Tincan_SalamanderType.bs").plainText,body:b("bs_block").__(0,[a]),senderHmacKey:d}:b("bs_caml_int64").eq(c,b("Tincan_SalamanderType.bs").stickerInfo)?{type_:b("Tincan_SalamanderType.bs").stickerInfo,body:b("bs_block").__(1,[{fbid:b("bs_caml_format").caml_int64_of_string(a)}]),senderHmacKey:d}:b("bs_caml_int64").eq(c,b("Tincan_SalamanderType.bs").attachmentInfoList)?{type_:b("Tincan_SalamanderType.bs").attachmentInfoList,body:b("bs_block").__(2,[b("MSMAttachmentUtil.bs").createAttachmentListFromString(a)]),senderHmacKey:d}:b("bs_pervasives").failwith("Expected Plaintext or StickerInfo Salamander"))}function c(a,c,d){return b("MPWSalamanderPacket.bs").encodeSalamander({type_:b("Tincan_SalamanderType.bs").threadSenderKey,body:b("bs_block").__(3,[{thread_fbid:a,sender_key:c.buffer,thread_participants:d}]),senderHmacKey:void 0})}function k(a,c,d){return b("MPWKeychain.bs").getIdentityKey(0).then(function(e){var f=new window.libsignal.SignalProtocolAddress(b("bs_int64").to_string(c),d);e=b("SignalProtocolJavaScript.bs").make(e,0,a);return b("Promise").resolve(new window.libsignal.SessionCipher(e,f))})}function l(a,c){return b("bs_int64").to_string(a)+("::"+c.toString())}function m(a,c,d,e){return b("MPWKeychain.bs").getIdentityKey(0).then(function(f){var g=new window.libsignal.SignalProtocolAddress(b("bs_int64").to_string(d),e);f=b("SignalProtocolJavaScript.bs").make(f,0,a);var h=l(c,g);return b("Promise").resolve(new window.libsignal.GroupCipher(f,h,g))})}function d(a,c){var d=b("SkytaleCrypto.bs").createSenderHmacKey(0);a=j(a,c,b("bs_caml_option").some(d));return[a,b("SkytaleCrypto.bs").hmacSHA256(d,a)]}function n(a,c,d){return k(a,c.user_id,c.instance_id).then(function(a){return a.encrypt(d).then(function(a){var c=b("SignalProtocolJavaScript.bs").SessionCipher.getEncryptType(a)===b("SignalProtocolJavaScript.bs").SessionCipher.MessageTypes.preKey;return b("Promise").resolve([a,c])})})}function e(a,b,c,d,e){return m(a,b,c,d).then(function(a){return a.encrypt(e)})}function o(a,c,d,e,f,g,j,k){return b("MSMDBFetchUtil.bs").fetchDevicesInThread(a,g).then(function(d){return b("Promise").all([b("SkytaleCrypto.bs").createParticipantsChecksum(d),n(a,c,e)])}).then(function(e){var l=e[1];return i(a,b("Tincan_PacketType.bs").threadSenderKey,c,d,f,g,e[0],l[0].body,void 0,l[1],!1,!1,void 0,j).then(function(b){return h(a,g,c.user_id,c.instance_id,k)})})}f.Const=g;f.updateSecureMessageSenderKeyStatusCQL=h;f.createEnqueueAndSendMessagePayload=i;f.hmacSHA256=a;f.createMessageContentSalamanderPacket=j;f.createSenderKeyInfoSalamanderPacket=c;f.createP2PSessionCipher=k;f.createSenderKeyName=l;f.createSenderKeyCipher=m;f.prepareMessageContentForSend=d;f.createP2PEncryptedData=n;f.createSenderKeyEncryptedData=e;f.sendSenderKeyMesage=o}),null);
__d("LSSecureMailboxDecryptGroupPacketV3.bs",["Promise","MSMSender.bs","bs_pervasives","MPWSalamanderUtil.bs","MPWSalamanderPacket.bs","SignalProtocolJavaScript.bs","LSSecureMailboxNativeOperationResultCode.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("MSMSender.bs").createSenderKeyCipher(a,f,g,h).then(function(a){return a.decryptSenderKeyMessage(e,b("SignalProtocolJavaScript.bs").Transcoding.Encoding.Types.base64).then(function(a){var c=b("MPWSalamanderPacket.bs").readSalamander(a);a=b("MPWSalamanderUtil.bs").arrayBufferToBase64(a);var d=b("MPWSalamanderUtil.bs").createDecodedString(c);return b("Promise").resolve([a,d,c.type_,[0,0],b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess])["catch"](function(a){return b("Promise").resolve(["","",[0,0],[0,0],b("LSSecureMailboxNativeOperationResultCode.bs").msmErrGeneric])})})})}f.call=a}),null);
__d("LSSecureMailboxDecryptP2PData.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxDecryptP2PData not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxDecryptP2PPacket.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxDecryptP2PPacket not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxDecryptP2PPacketV2.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxDecryptP2PPacketV2 not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxDecryptP2PPacketV3.bs",["Promise","bs_int64","MSMSender.bs","bs_pervasives","MPWKeychain.bs","MPWSalamanderUtil.bs","MPWSalamanderPacket.bs","SignalProtocolJavaScript.bs","LSSecureMailboxNativeOperationResultCode.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");var j=new window.libsignal.SignalProtocolAddress(b("bs_int64").to_string(f),g);return b("MPWKeychain.bs").getIdentityKey(0).then(function(c){c=b("SignalProtocolJavaScript.bs").make(c,b("MSMSender.bs").Const.initRegistrationId,a);c=new window.libsignal.SessionCipher(c,j);return(h?c.decryptPreKeyWhisperMessage(e,b("SignalProtocolJavaScript.bs").Transcoding.Encoding.Types.base64):c.decryptWhisperMessage(e,b("SignalProtocolJavaScript.bs").Transcoding.Encoding.Types.base64)).then(function(a){var c=b("MPWSalamanderPacket.bs").readSalamander(a);a=b("MPWSalamanderUtil.bs").arrayBufferToBase64(a);var d=b("MPWSalamanderUtil.bs").createDecodedString(c);return b("Promise").resolve([a,d,c.type_,[0,0],b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess])})["catch"](function(a){return b("Promise").resolve(["","",[0,0],[0,0],b("LSSecureMailboxNativeOperationResultCode.bs").msmErrGeneric])})})}f.call=a}),null);
__d("LSSecureMailboxDecryptString.bs",["Promise","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("Promise").resolve([d])}f.call=a}),null);
__d("LSSecureMailboxDeserializeAttachmentMetadata.bs",["Promise","bs_int64","LSJson.bs","bs_js_dict","SkytaleDB","bs_caml_int64","bs_pervasives","bs_belt_Option","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function c(a,c,d,e,f,g,h){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");try{d=b("LSJson.bs").Parser.dict(b("LSJson.bs").Parser.parse(h));c=b("LSJson.bs").Parser.array(b("bs_belt_Option").getExn(b("bs_js_dict").get(d,"attachments")));return b("Promise").all(c.map(function(c,d){var h;c=b("LSJson.bs").Parser.dict(c);var i=(h=b("bs_js_dict")).get(c,"fbid"),j=h.get(c,"offline_id"),k=h.get(c,"offline_id"),l=h.get(c,"fbid"),m=h.get(c,"fbid"),n=h.get(c,"mac");h=h.get(c,"file_uri");var o,p=0;m!==void 0&&n!==void 0?o="https://lookaside.fbsbx.com/si/neotenic/"+(b("bs_int64").to_string(b("LSJson.bs").Parser.int64(m))+("?mac="+b("LSJson.bs").Parser.string(n))):p=1;p===1&&(o=h!==void 0?b("LSJson.bs").Parser.string(h):b("bs_pervasives").failwith("expected fbid and mac, or fileUri"));return b("SkytaleDB").table(a,"secure_attachments").put({a:e,b:i!==void 0?b("bs_int64").to_string(b("LSJson.bs").Parser.int64(i)):j!==void 0?b("LSJson.bs").Parser.string(j):b("bs_pervasives").failwith("expected offlineId or fbidId"),c:f,d:g,e:k!==void 0?b("LSJson.bs").Parser.string(k):l!==void 0?b("bs_int64").to_string(b("LSJson.bs").Parser.int64(l)):b("bs_pervasives").failwith("expected offlineId or fbidId"),f:b("bs_caml_int64").of_int32(d),g:b("bs_int64").to_string(b("LSJson.bs").Parser.int64(b("bs_belt_Option").getExn(b("bs_js_dict").get(c,"attachment_type")))),h:o,i:b("bs_belt_Option").map(b("bs_js_dict").get(c,"file_size"),function(a){return b("bs_int64").to_string(b("LSJson.bs").Parser.int64(a))}),j:b("bs_belt_Option").map(b("bs_js_dict").get(c,"file_name"),function(a){return b("LSJson.bs").Parser.string(a)}),k:b("LSJson.bs").Parser.string(b("bs_belt_Option").getExn(b("bs_js_dict").get(c,"mime_type"))),l:b("LSJson.bs").Parser.string(b("bs_belt_Option").getExn(b("bs_js_dict").get(c,"encryptionKeyBase64"))),m:b("bs_belt_Option").map(b("bs_js_dict").get(c,"hash"),b("LSJson.bs").Parser.string),n:b("bs_belt_Option").map(b("bs_js_dict").get(c,"mac"),function(a){return b("LSJson.bs").Parser.string(a)}),o:b("bs_belt_Option").flatMap(b("bs_js_dict").get(c,"width"),function(a){return b("bs_belt_Option").map(b("LSJson.bs").Parser.nullable(a,b("LSJson.bs").Parser.int64),b("bs_int64").to_string)}),p:b("bs_belt_Option").flatMap(b("bs_js_dict").get(c,"height"),function(a){return b("bs_belt_Option").map(b("LSJson.bs").Parser.nullable(a,b("LSJson.bs").Parser.int64),b("bs_int64").to_string)}),q:b("bs_belt_Option").flatMap(b("bs_js_dict").get(c,"duration_ms"),function(a){return b("bs_belt_Option").map(b("LSJson.bs").Parser.nullable(a,b("LSJson.bs").Parser.int64),b("bs_int64").to_string)}),r:void 0,s:b("bs_belt_Option").flatMap(b("bs_js_dict").get(c,"thumbnail"),function(a){return b("bs_belt_Option").map(b("LSJson.bs").Parser.nullable(a,b("LSJson.bs").Parser.string),function(a){return a})})})})).then(function(a){return b("Promise").resolve([[0,0]])})}catch(a){b("recoverableViolation")("An error occured deserializing attachment metadata","messenger_privacy_web");return b("Promise").resolve([[-1,4294967295]])}}d=b("bs_int64").to_string;f.encryptInt64=d;f.encryptString=a;f.call=c}),null);
__d("Base32.bs",["hi-base32"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("hi-base32").encode(new Uint8Array(a))}function g(a){var b=/([=]*)$/g;return a.replace(b,"")}function c(a){a=new Uint8Array(a);return g(b("hi-base32").encode(a))}function d(a){a=b("hi-base32").decode.asBytes(a);return new Uint8Array(a).buffer}f.encodeFromArrayBuffer=a;f.removePadding=g;f.encodeFromArrayBufferNoPadding=c;f.decodeToArrayBuffer=d}),null);
__d("LSTincanDeviceInfo.bs",["Base32.bs","bs_caml_format","CurrentUserInitialData"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return b("Base32.bs").encodeFromArrayBufferNoPadding(a.identityKey.pubKey)}function c(a){return{user_id:b("bs_caml_format").caml_int64_of_string((g||(g=b("CurrentUserInitialData"))).USER_ID),instance_id:b("Base32.bs").encodeFromArrayBufferNoPadding(a.identityKey.pubKey)}}f.getCurrentInstanceId=a;f.getCurrentDevice=c}),null);
__d("LSSecureMailboxEncryptRatchetMessage.bs",["Promise","bs_int64","Base64.bs","MSMSender.bs","bs_pervasives","MPWKeychain.bs","LSTincanDeviceInfo.bs","LSSecureMailboxNativeOperationResultCode.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");d=e===!1?b("MSMSender.bs").createP2PEncryptedData(a,{user_id:g,instance_id:h},b("Base64.bs").toArrayBuffer(i)).then(function(a){return b("Promise").resolve([btoa(a[0].body),a[1],b("bs_int64").to_string(f),b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess])}):b("MPWKeychain.bs").initialiseThenGetKeys(0).then(function(c){c=b("LSTincanDeviceInfo.bs").getCurrentDevice(c);return b("MSMSender.bs").createSenderKeyEncryptedData(a,f,c.user_id,c.instance_id,b("Base64.bs").toArrayBuffer(i)).then(function(a){return b("Promise").resolve([btoa(a),!1,b("bs_int64").to_string(f),b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess])})});return d["catch"](function(a){return b("Promise").resolve(["",!1,b("bs_int64").to_string(f),b("LSSecureMailboxNativeOperationResultCode.bs").msmErrGeneric])})}f.call=a}),null);
__d("LSSecureMailboxEncryptString.bs",["Promise","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("Promise").resolve([d])}f.call=a}),null);
__d("LSSecureMailboxFetchIdentityKey.bs",["Promise","Base32.bs","bs_pervasives","MPWKeychain.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("MPWKeychain.bs").getIdentityKey(0).then(function(a){return b("Promise").resolve([b("Base32.bs").encodeFromArrayBufferNoPadding(a.pubKey)])})}f.call=a}),null);
__d("MSMThreadSeed.bs",["Promise","Base64.bs","SkytaleDB","UInt8Array.bs","SkytaleCryptoConsts.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("UInt8Array.bs").getBufferWithRandomValuesFromLength(b("SkytaleCryptoConsts.bs").hkdfSeedLength)}function c(a,c){return b("SkytaleDB").table(a,"secure_threads").get([c,0]).then(function(a){if(a!==void 0){a=a.i;if(a!==void 0){a=a;if(a!=="")return b("Promise").resolve([b("Base64.bs").toArrayBuffer(a),a])}}a=b("UInt8Array.bs").getBufferWithRandomValuesFromLength(b("SkytaleCryptoConsts.bs").hkdfSeedLength);return b("Promise").resolve([a,b("Base64.bs").fromArrayBuffer(a)])})}f.generateSeed=a;f.fetchOrCreateThreadSeed=c}),null);
__d("LSSecureMailboxFetchOrCreateAndEncryptThreadEncryptionKey.bs",["bs_pervasives","MSMThreadSeed.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("MSMThreadSeed.bs").fetchOrCreateThreadSeed(a,d)}f.call=a}),null);
__d("LSSecureMailboxFetchOrCreateThreadEncryptionKey.bs",["Promise","Base64.bs","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("Promise").resolve([b("Base64.bs").toArrayBuffer("")])}f.call=a}),null);
__d("LSSecureMailboxFetchSyncParameter.bs",["Promise","bs_pervasives","MPWKeychain.bs","LSTincanDeviceInfo.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){a=JSON.stringify({identity_key:a});if(a!==void 0)return a;else return b("bs_pervasives").failwith("Failed to json encode sync parameters")}function a(a,c,d){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("MPWKeychain.bs").initialiseThenGetKeys(0).then(function(a){return b("Promise").resolve([g(b("LSTincanDeviceInfo.bs").getCurrentInstanceId(a))])})}f.createSecureMailboxSyncParams=g;f.call=a}),null);
__d("LSSecureMailboxGenerateMessageId.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxGenerateMessageId not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxGeneratePreKeyRecords.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxGeneratePreKeyRecords not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxGeneratePreKeyRecordsV2.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxGeneratePreKeyRecordsV2 not implemented","messenger_comet")}f.call=a}),null);
__d("OfflineThreadingId.bs",["bs_int64","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=(a=b("bs_caml_int64")).of_float(Date.now()),d=crypto.getRandomValues(new Uint8Array(8));d=new DataView(d.buffer);d=a.add(a.lsl_(a.of_int32(d.getUint32(0)),32),a.of_int32(d.getUint32(4)));return b("bs_int64").to_string(a.and_(a.or_(a.lsl_(c,22),a.and_(d,[0,4194303])),[2147483647,4294967295]))}f.make=a}),null);
__d("LSSecureMailboxGenerateSenderKeyAndPrepareForSend.bs",["Promise","Base64.bs","MSMSender.bs","bs_pervasives","MPWKeychain.bs","LSTincanDeviceInfo.bs","OfflineThreadingId.bs","LSSecureMailboxNativeOperationResultCode.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("MPWKeychain.bs").initialiseThenGetKeys(0).then(function(c){c=b("LSTincanDeviceInfo.bs").getCurrentDevice(c);return b("MSMSender.bs").createSenderKeyCipher(a,e,c.user_id,c.instance_id).then(function(a){return a.createSenderKeyDistributionMsg().then(function(a){a=b("MSMSender.bs").createSenderKeyInfoSalamanderPacket(e,a,void 0);return b("Promise").resolve([b("Base64.bs").fromArrayBuffer(a),b("OfflineThreadingId.bs").make(0),b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess])})["catch"](function(a){return b("Promise").resolve(["","",b("LSSecureMailboxNativeOperationResultCode.bs").msmErrGeneric])})})})}f.call=a}),null);
__d("LSSecureMailboxGenerateSignedPreKeyRecord.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxGenerateSignedPreKeyRecord not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxGenerateSignedPreKeyRecordV2.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxGenerateSignedPreKeyRecordV2 not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxGetThreadDevicesChangeList.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxGetThreadDevicesChangeList not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxAdminMessage.bs",["Promise","bs_int64","SkytaleDB","bs_belt_Array","bs_caml_int64","bs_pervasives","bs_belt_Option","SkytaleDBQuery.bs","LSAuthorityLevel.bs","OfflineThreadingId.bs","LSMessageSendStatus.bs","MessagingThreadType.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c){var d;return b("Promise").all([(d=b("SkytaleDBQuery.bs")).toArray(d.take(d.map(d.bounds(b("SkytaleDB").table(a,"secure_messages").index("threadKeyPrimarySortKey").desc,[-467688003,[[448478038,[c,0]],[-555702441,[c,0]]]]),function(a){a=a.r;return b("bs_belt_Option").getWithDefault(a,[0,0])}),1)).then(function(a){return b("Promise").resolve(b("bs_belt_Array").get(a,0))}),d.toArray(d.take(d.map(d.filter(d.bounds(b("SkytaleDB").table(a,"secure_messages").index("threadKeyTimeStampMs").desc,[-467688003,[[448478038,[c,0]],[-555702441,[c,0]]]]),function(a){if(a.j)return!1;else return!a.n}),function(a){return a.b}),1)).then(function(a){return b("Promise").resolve(b("bs_belt_Array").get(a,0))})]).then(function(a){var c=b("bs_belt_Option").getWithDefault(a[0],[0,0]);a=b("bs_belt_Option").getWithDefault(a[1],[0,0]);return b("Promise").resolve(b("bs_int64").compare(c,a)===1?c:a)})}function a(a,c,d,e,f){return b("SkytaleDB").table(a,"secure_threads").get([c,0]).then(function(h){if(h!==void 0){h=h;var i=f!==void 0?f:b("bs_caml_int64").of_float(Date.now()),j=b("OfflineThreadingId.bs").make(0);return b("SkytaleDB").table(a,"secure_threads").put({a:c,b:h.b,c:h.c,d:h.d,e:h.e,f:h.f,g:!1,h:d,i:"",j:h.j,k:h.k,l:b("MessagingThreadType.bs").tincanOneToOne,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0,r:!1,s:void 0,t:[0,0],u:h.u})["catch"](function(a){return b("bs_pervasives").failwith("[MSMMessagingInsertAdminMessage] Error - fail to update thread")}).then(function(f){return g(a,c).then(function(f){return b("SkytaleDB").table(a,"secure_messages").add({a:c,b:i,c:j,d:void 0,e:void 0,f:void 0,g:j,h:e,i:d,j:!0,k:b("LSMessageSendStatus.bs").serverReceived,l:void 0,m:void 0,n:!1,o:[0,0],p:void 0,q:void 0,r:f,s:i,t:!1,u:b("LSAuthorityLevel.bs").optimistic})})})["catch"](function(a){return b("bs_pervasives").failwith("[MSMMessagingInsertAdminMessage] Error - fail to insert admin message.")})}else return b("bs_pervasives").failwith("[MSMMessagingInsertAdminMessage] Error - thread doesn't exist")})}f.getLastKnownServerTimeMs=g;f.insert=a}),null);
__d("LSSecureMailboxInsertAdminMessage.bs",["bs_caml_int64","bs_pervasives","bs_caml_builtin_exceptions","LSSecureMailboxAdminMessage.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return a+0|0}function c(a){if(a<=2&&0<=a)return a-0|0}function d(a){return a+1|0}function g(a){if(a<=11&&1<=a)return a-1|0}function h(a){switch(a){case 0:return"Recipient must update their app in order to receive your messages";case 1:return"To send further messages, you must update your app";case 2:return"A connection setup error has occurred";case 3:return"A connection setup error has occurred: This device is currently disabled for secret conversations.";case 4:return"A connection setup error has occurred: Please ask the other party to turn on Secret Conversations on one of their devices.";case 5:return"The devices in this conversation have changed.";case 6:return"You added a new device to this conversation.";case 7:return"You removed a device from this conversation.";case 8:return"A new device was added to this conversation.";case 9:return"A device was removed from this conversation.";case 10:return"Failed to receive an ephemeral message as it is unsupported on this version of Messenger."}}function e(a,c,d,e,f,i){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");i=g(b("bs_caml_int64").to_int32(f));if(i!==void 0){c=h(i);f=b("LSSecureMailboxAdminMessage.bs").insert(a,e,d,c,void 0)}else f=b("bs_pervasives").failwith("[MSMDasmNativeInsertAdminMessage] Fail to get localized admin message.");return f.then(function(a){return[!0]})["catch"](function(a){a[0]===b("bs_caml_builtin_exceptions").failure;return[!1]})}f.runmodeToJs=a;f.runmodeFromJs=c;f.adminMessageToJs=d;f.adminMessageFromJs=g;f.getLocalizedAdminMessage=h;f.call=e}),null);
__d("LSSecureMailboxInsertAdminMessageV2.bs",["SkytaleDB","bs_caml_array","bs_caml_int64","bs_pervasives","SkytaleDBQuery.bs","bs_caml_builtin_exceptions","LSSecureMailboxAdminMessage.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return a+0|0}function c(a){if(a<=2&&0<=a)return a-0|0}function d(a){return a+1|0}function g(a){if(a<=13&&1<=a)return a-1|0}function h(a,c){switch(a){case 0:return"Recipient must update their app in order to receive your messages";case 1:return"To send further messages, you must update your app";case 2:return"A connection setup error has occurred";case 3:return"A connection setup error has occurred: This device is currently disabled for secret conversations.";case 4:return"Please ask the recipient to enable Secret Conversations on one of their devices.";case 5:return"The devices in this conversation have changed.";case 6:return"You added a new device to this conversation.";case 7:return"You removed a device from this conversation.";case 8:return"A new device was added to this conversation.";case 9:return"A device was removed from this conversation.";case 10:return"Failed to receive an ephemeral message as it is unsupported on this version of Messenger.";case 11:if(c.length>0)return b("bs_caml_array").caml_array_get(c,0)+" added a new device to this conversation.";else return"A new device was added to this conversation.";case 12:if(c.length>0)return b("bs_caml_array").caml_array_get(c,0)+" removed a device from this conversation.";else return"A device was removed from this conversation."}}function e(a,c,d,e,f,i){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");var j=g(b("bs_caml_int64").to_int32(e));return b("SkytaleDBQuery.bs").firstExn(b("SkytaleDB").table(a,"_user_info").asc).then(function(c){if(j!==void 0){var e=h(j,f);return b("LSSecureMailboxAdminMessage.bs").insert(a,d,c.b,e,void 0)}else return b("bs_pervasives").failwith("[MSMDasmNativeInsertAdminMessage] Fail to get localized admin message.")}).then(function(a){return[!0]})["catch"](function(a){a[0]===b("bs_caml_builtin_exceptions").failure;return[!1]})}f.runmodeToJs=a;f.runmodeFromJs=c;f.adminMessageToJs=d;f.adminMessageFromJs=g;f.getLocalizedAdminMessage=h;f.call=e}),null);
__d("LSSecureMailboxIsScreenshotNotificationAdminMessage.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("Promise").resolve([!1])}f.call=a}),null);
__d("LSSecureMailboxLogTraceEvent.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxLogTraceEvent not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxLogTraceEventWithExtraData.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e,f,g){return[]}f.call=a}),null);
__d("LSSecureMailboxPrepareMessagePayloadForSend.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxPrepareMessagePayloadForSend not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxPreparePendingMessageForSend.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxPreparePendingMessageForSend not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxPreparePendingMessageForSendV2.bs",["Promise","Base64.bs","MSMSender.bs","bs_pervasives","bs_caml_option","SkytaleCrypto.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");a=b("SkytaleCrypto.bs").createSenderHmacKey(0);var i=b("MSMSender.bs").createMessageContentSalamanderPacket(f,g,b("bs_caml_option").some(a));return b("SkytaleCrypto.bs").hmacSHA256(a,i).then(function(a){return b("Promise").resolve([b("Base64.bs").fromArrayBuffer(i),b("Base64.bs").fromArrayBuffer(a)])})}f.call=a}),null);
__d("LSSecureMailboxProcessCreateThreadResult.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxProcessCreateThreadResult not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxProcessGroupSenderKeyMessage.bs",["Promise","MSMSender.bs","bs_pervasives","SignalProtocolJavaScript.bs","LSSecureMailboxNativeOperationResultCode.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("MSMSender.bs").createSenderKeyCipher(a,f,g,h).then(function(a){return a.decryptSenderKeyDistributionMessage(e,b("SignalProtocolJavaScript.bs").Transcoding.Encoding.Types.base64)}).then(function(a){return b("Promise").resolve([b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess])})["catch"](function(a){return b("Promise").resolve([b("LSSecureMailboxNativeOperationResultCode.bs").msmErrGeneric])})}f.call=a}),null);
__d("LSSecureMailboxProcessParticipantPreKey.bs",["bs_int64","Base32.bs","Base64.bs","MSMSender.bs","bs_caml_int64","bs_pervasives","MPWKeychain.bs","SignalProtocolJavaScript.bs","LSSecureMailboxNativeOperationResultCode.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");var l=new window.libsignal.SignalProtocolAddress(b("bs_int64").to_string(j),k);d=b("Base32.bs").decodeToArrayBuffer(k);c=b("Base64.bs").toArrayBuffer(e);j=b("Base64.bs").toArrayBuffer(g);k=b("Base64.bs").toArrayBuffer(i);e=b("MSMSender.bs").Const.initRegistrationId;g={keyId:b("bs_caml_int64").to_int32(h),publicKey:j,signature:k};i={keyId:b("bs_caml_int64").to_int32(f),publicKey:c};var m={registrationId:e,identityKey:d,signedPreKey:g,preKey:i};return b("MPWKeychain.bs").getIdentityKey(0).then(function(c){c=b("SignalProtocolJavaScript.bs").make(c,b("MSMSender.bs").Const.initRegistrationId,a);c=new window.libsignal.SessionBuilder(c,l);return c.processPreKey(m).then(function(a){return[b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess]})["catch"](function(a){return[b("LSSecureMailboxNativeOperationResultCode.bs").msmErrGeneric]})})}f.call=a}),null);
__d("LSSecureMailboxReceiveMarkThreadAsUnread.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxReceiveMarkThreadAsUnread not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxReceiveSecureMessage.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxReceiveSecureMessage not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxReceiveSecureMessageV2.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxReceiveSecureMessageV2 not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxReceiveSenderKey.bs",["Promise","MSMSender.bs","bs_pervasives","SignalProtocolJavaScript.bs","LSSecureMailboxNativeOperationResultCode.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("MSMSender.bs").createP2PSessionCipher(a,e,f).then(function(a){return(h?a.decryptPreKeyWhisperMessage(g,b("SignalProtocolJavaScript.bs").Transcoding.Encoding.Types.base64):a.decryptWhisperMessage(g,b("SignalProtocolJavaScript.bs").Transcoding.Encoding.Types.base64)).then(function(a){return b("Promise").resolve([b("LSSecureMailboxNativeOperationResultCode.bs").msmSuccess])})})}f.call=a}),null);
__d("LSSecureMailboxReceiveSenderKeyV2.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxReceiveSenderKeyV2 not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxRemoveThreadDevices.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxRemoveThreadDevices not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxRescheduleUIRefreshForEphemeralMessageIfNeeded.bs",["Promise","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");return b("Promise").resolve([])}f.call=a}),null);
__d("LSSecureMailboxResetThreadDeviceSenderKey.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxResetThreadDeviceSenderKey not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxSecureMessageEncrypt.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxSecureMessageEncrypt not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxSerializeMediaUploadResult.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxSerializeMediaUploadResult not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxSerializeMediaUploadResultList.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxSerializeMediaUploadResultList not implemented","messenger_comet")}f.call=a}),null);
__d("LSSecureMailboxSerializeSecureMediaUploadResultList.bs",["Promise","LSDict","LSJson","LSJson.bs","bs_js_dict","bs_pervasives","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function g(a){if(typeof a==="number")return b("bs_pervasives").failwith("Unexpected Null value in parsing");else switch(a.tag|0){case 3:case 5:return a[0];default:return b("bs_pervasives").failwith("expected Int, String, or Null while parsing")}}function a(a,c,d,e,f,h,i,j){c===0&&b("bs_pervasives").failwith("cannot be called dynamically");a=b("LSJson.bs").Parser.dict(b("LSJson.bs").Parser.parse(h));d=b("LSJson.bs").Parser.array(b("bs_belt_Option").getExn(b("bs_js_dict").get(a,"attachments")));e=d.map(function(a,c){var d,e;a=(d=b("LSJson.bs")).Parser.dict(a);var f=i[c];c=j[c];c=d.Parser.dict(d.Parser.parse(c));c=d.Parser.string(b("bs_belt_Option").getExn((e=b("bs_js_dict")).get(c,"mac")));d.Parser.string(b("bs_belt_Option").getExn(e.get(a,"offline_id")));d=e.map(g,a);d.fbid=f;d.mac=c;return new(b("LSDict"))(e.entries(d))});f=b("LSJson").stringify(new(b("LSDict"))([["attachments",b("LSJson.bs").array(e)]]));return b("Promise").resolve([f])}f.parseJsonPrimitiveValue=g;f.call=a}),null);
__d("LSSecureMailboxUpdateDisappearingThreadUnreadStatusAndSnippet.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("Promise").resolve([!0])}f.call=a}),null);
__d("LSSecureMailboxUpdateSyncParameter.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSSecureMailboxUpdateSyncParameter not implemented","messenger_comet")}f.call=a}),null);
__d("LSNativeOperations",["LSCoreCreateInvertibleBloomFilterEncoder.bs","LSCoreGetRandomNumber.bs","LSCoreLog.bs","LSCoreLogEventAnnotate.bs","LSCoreFunctionProfileEnter.bs","LSCoreFunctionProfileLeave.bs","LSCoreResolveLocalizedString.bs","LSCoreIsLocalizationSupported.bs","LSSecureMailboxUpdateSyncParameter.bs","LSSecureMailboxSecureMessageEncrypt.bs","LSSecureMailboxDecryptP2PData.bs","LSSecureMailboxDecryptP2PPacket.bs","LSSecureMailboxDecryptP2PPacketV2.bs","LSSecureMailboxDecryptP2PPacketV3.bs","LSSecureMailboxProcessParticipantPreKey.bs","LSSecureMailboxProcessGroupSenderKeyMessage.bs","LSSecureMailboxDecryptGroupData.bs","LSSecureMailboxDecryptGroupPacket.bs","LSSecureMailboxDecryptGroupPacketV2.bs","LSSecureMailboxDecryptGroupPacketV3.bs","LSSecureMailboxGenerateMessageId.bs","LSSecureMailboxPreparePendingMessageForSend.bs","LSSecureMailboxPrepareMessagePayloadForSend.bs","LSSecureMailboxPreparePendingMessageForSendV2.bs","LSSecureMailboxGenerateSenderKeyAndPrepareForSend.bs","LSSecureMailboxEncryptRatchetMessage.bs","LSSecureMailboxCalculateParticipantsChecksum.bs","LSSecureMailboxGetThreadDevicesChangeList.bs","LSSecureMailboxRemoveThreadDevices.bs","LSSecureMailboxAddThreadDevices.bs","LSSecureMailboxResetThreadDeviceSenderKey.bs","LSSecureMailboxFetchSyncParameter.bs","LSSecureMailboxIsScreenshotNotificationAdminMessage.bs","LSSecureMailboxEncryptString.bs","LSSecureMailboxDecryptString.bs","LSSecureMailboxFetchIdentityKey.bs","LSSecureMailboxFetchOrCreateThreadEncryptionKey.bs","LSSecureMailboxSerializeMediaUploadResultList.bs","LSSecureMailboxSerializeSecureMediaUploadResultList.bs","LSSecureMailboxSerializeMediaUploadResult.bs","LSSecureMailboxLogTraceEvent.bs","LSSecureMailboxLogTraceEventWithExtraData.bs","LSSecureMailboxLogToMSMLog.bs","LSSecureMailboxFetchOrCreateAndEncryptThreadEncryptionKey.bs","LSSecureMailboxDeserializeAttachmentMetadata.bs","LSSecureMailboxInsertAdminMessage.bs","LSSecureMailboxInsertAdminMessageV2.bs","LSSecureMailboxRescheduleUIRefreshForEphemeralMessageIfNeeded.bs","LSSecureMailboxGeneratePreKeyRecords.bs","LSSecureMailboxGenerateSignedPreKeyRecord.bs","LSSecureMailboxGeneratePreKeyRecordsV2.bs","LSSecureMailboxGenerateSignedPreKeyRecordV2.bs","LSSecureMailboxProcessCreateThreadResult.bs","LSSecureMailboxReceiveSecureMessage.bs","LSSecureMailboxReceiveSecureMessageV2.bs","LSSecureMailboxReceiveSenderKey.bs","LSSecureMailboxReceiveSenderKeyV2.bs","LSSecureMailboxReceiveMarkThreadAsUnread.bs","LSSecureMailboxUpdateDisappearingThreadUnreadStatusAndSnippet.bs"],(function(a,b,c,d,e,f){"use strict";e.exports.createInvertibleBloomFilterEncoder=b("LSCoreCreateInvertibleBloomFilterEncoder.bs").call,e.exports.getRandomNumber=b("LSCoreGetRandomNumber.bs").call,e.exports.log=b("LSCoreLog.bs").call,e.exports.LogEventAnnotate=b("LSCoreLogEventAnnotate.bs").call,e.exports.functionProfileEnter=b("LSCoreFunctionProfileEnter.bs").call,e.exports.functionProfileLeave=b("LSCoreFunctionProfileLeave.bs").call,e.exports.resolveLocalizedString=b("LSCoreResolveLocalizedString.bs").call,e.exports.isLocalizationSupported=b("LSCoreIsLocalizationSupported.bs").call,e.exports.updateSyncParameter=b("LSSecureMailboxUpdateSyncParameter.bs").call,e.exports.secureMessageEncrypt=b("LSSecureMailboxSecureMessageEncrypt.bs").call,e.exports.decryptP2PData=b("LSSecureMailboxDecryptP2PData.bs").call,e.exports.decryptP2PPacket=b("LSSecureMailboxDecryptP2PPacket.bs").call,e.exports.decryptP2PPacketV2=b("LSSecureMailboxDecryptP2PPacketV2.bs").call,e.exports.decryptP2PPacketV3=b("LSSecureMailboxDecryptP2PPacketV3.bs").call,e.exports.processParticipantPreKey=b("LSSecureMailboxProcessParticipantPreKey.bs").call,e.exports.processGroupSenderKeyMessage=b("LSSecureMailboxProcessGroupSenderKeyMessage.bs").call,e.exports.decryptGroupData=b("LSSecureMailboxDecryptGroupData.bs").call,e.exports.decryptGroupPacket=b("LSSecureMailboxDecryptGroupPacket.bs").call,e.exports.decryptGroupPacketV2=b("LSSecureMailboxDecryptGroupPacketV2.bs").call,e.exports.decryptGroupPacketV3=b("LSSecureMailboxDecryptGroupPacketV3.bs").call,e.exports.generateMessageId=b("LSSecureMailboxGenerateMessageId.bs").call,e.exports.preparePendingMessageForSend=b("LSSecureMailboxPreparePendingMessageForSend.bs").call,e.exports.prepareMessagePayloadForSend=b("LSSecureMailboxPrepareMessagePayloadForSend.bs").call,e.exports.preparePendingMessageForSendV2=b("LSSecureMailboxPreparePendingMessageForSendV2.bs").call,e.exports.generateSenderKeyAndPrepareForSend=b("LSSecureMailboxGenerateSenderKeyAndPrepareForSend.bs").call,e.exports.encryptRatchetMessage=b("LSSecureMailboxEncryptRatchetMessage.bs").call,e.exports.calculateParticipantsChecksum=b("LSSecureMailboxCalculateParticipantsChecksum.bs").call,e.exports.getThreadDevicesChangeList=b("LSSecureMailboxGetThreadDevicesChangeList.bs").call,e.exports.removeThreadDevices=b("LSSecureMailboxRemoveThreadDevices.bs").call,e.exports.addThreadDevices=b("LSSecureMailboxAddThreadDevices.bs").call,e.exports.resetThreadDeviceSenderKey=b("LSSecureMailboxResetThreadDeviceSenderKey.bs").call,e.exports.fetchSyncParameter=b("LSSecureMailboxFetchSyncParameter.bs").call,e.exports.isScreenshotNotificationAdminMessage=b("LSSecureMailboxIsScreenshotNotificationAdminMessage.bs").call,e.exports.encryptString=b("LSSecureMailboxEncryptString.bs").call,e.exports.decryptString=b("LSSecureMailboxDecryptString.bs").call,e.exports.fetchIdentityKey=b("LSSecureMailboxFetchIdentityKey.bs").call,e.exports.fetchOrCreateThreadEncryptionKey=b("LSSecureMailboxFetchOrCreateThreadEncryptionKey.bs").call,e.exports.serializeMediaUploadResultList=b("LSSecureMailboxSerializeMediaUploadResultList.bs").call,e.exports.serializeSecureMediaUploadResultList=b("LSSecureMailboxSerializeSecureMediaUploadResultList.bs").call,e.exports.serializeMediaUploadResult=b("LSSecureMailboxSerializeMediaUploadResult.bs").call,e.exports.logTraceEvent=b("LSSecureMailboxLogTraceEvent.bs").call,e.exports.logTraceEventWithExtraData=b("LSSecureMailboxLogTraceEventWithExtraData.bs").call,e.exports.logToMSMLog=b("LSSecureMailboxLogToMSMLog.bs").call,e.exports.fetchOrCreateAndEncryptThreadEncryptionKey=b("LSSecureMailboxFetchOrCreateAndEncryptThreadEncryptionKey.bs").call,e.exports.deserializeAttachmentMetadata=b("LSSecureMailboxDeserializeAttachmentMetadata.bs").call,e.exports.insertAdminMessage=b("LSSecureMailboxInsertAdminMessage.bs").call,e.exports.insertAdminMessageV2=b("LSSecureMailboxInsertAdminMessageV2.bs").call,e.exports.rescheduleUIRefreshForEphemeralMessageIfNeeded=b("LSSecureMailboxRescheduleUIRefreshForEphemeralMessageIfNeeded.bs").call,e.exports.generatePreKeyRecords=b("LSSecureMailboxGeneratePreKeyRecords.bs").call,e.exports.generateSignedPreKeyRecord=b("LSSecureMailboxGenerateSignedPreKeyRecord.bs").call,e.exports.generatePreKeyRecordsV2=b("LSSecureMailboxGeneratePreKeyRecordsV2.bs").call,e.exports.generateSignedPreKeyRecordV2=b("LSSecureMailboxGenerateSignedPreKeyRecordV2.bs").call,e.exports.processCreateThreadResult=b("LSSecureMailboxProcessCreateThreadResult.bs").call,e.exports.receiveSecureMessage=b("LSSecureMailboxReceiveSecureMessage.bs").call,e.exports.receiveSecureMessageV2=b("LSSecureMailboxReceiveSecureMessageV2.bs").call,e.exports.receiveSenderKey=b("LSSecureMailboxReceiveSenderKey.bs").call,e.exports.receiveSenderKeyV2=b("LSSecureMailboxReceiveSenderKeyV2.bs").call,e.exports.receiveMarkThreadAsUnread=b("LSSecureMailboxReceiveMarkThreadAsUnread.bs").call,e.exports.updateDisappearingThreadUnreadStatusAndSnippet=b("LSSecureMailboxUpdateDisappearingThreadUnreadStatusAndSnippet.bs").call}),null);
__d("LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2013872631919503313"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2013872631919503313"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return a.db.table(114).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(114).add({a:void 0,b:a.i64.of_float(Date.now()),c:e[0]})},function(b){return a.sp("531",a.i64.neq(e[0],c(h())))}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSConnectivityTruncateTableAndSetShowErrorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2700727150052957894"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2700727150052957894"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(115).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(115).add({a:void 0,b:a.i64.of_float(Date.now()),c:e[0]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSContactContactUploadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6052597144766152934"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["152"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["6052597144766152934"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return b=[a.createArray()],d[0]=b[0],b,a.seq([function(b){return a.db.table(7).openCursor().filter(function(b){return a.i64.gt(b.a,f[0])&&(a.i64.eq(b.H,c(k()))||a.i64.eq(b.H,c(j())))}).sortBy([["a","ASC",a.i64.compare]]).slice(0,a.i64.to_float(f[1])).forEach(function(a){a=a.item;return a=[(d[0].push(a.a),d[0])],d[7]=a[0],a})},function(b){return b=[a.i64.of_int32(d[0].length)],d[1]=b[0],b,b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("contact_ids",d[0])],d[3]=b[0],b,b=[d[2].set("is_last_page",a.i64.lt(d[1],f[1]))],d[4]=b[0],b,b=[d[2].set("last_primary_key",f[0])],d[5]=b[0],b,b=[a.toJSON(d[2])],d[6]=b[0],b,a.sp("1","contact_upload",c(i()),d[6],void 0,f[2],c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSContactDeleteThenInsertContactStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5777598790455242051"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["14342874"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["39423"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["5777598790455242051"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(n()))},function(b){return a.seq([function(b){return a.i64.eq(f[23],c(m()))?(b=[c(l())],d[1]=b[0],b):(a.i64.eq(f[23],c(k()))?(b=[c(j())],d[3]=b[0],b):(b=[void 0],d[3]=b[0],b),b=[d[3]],d[1]=b[0],b),a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.gt(b.J,f[21])}).next().then(function(b){var c=b.done;b.value;return c?a.db.table(7).put({a:f[0],b:f[2],c:f[3],d:f[4],e:f[5],f:f[6],g:f[7],h:f[9],K:f[40],i:f[10],j:f[33],k:f[11],l:f[12],m:f[35],n:f[14],o:f[17],p:f[18],q:f[19],r:f[20],J:f[21],s:f[22],t:f[23],u:f[24],v:f[25],w:f[26],z:f[27],x:f[28],y:f[29],A:f[30],B:f[31],C:f[32],E:f[34],F:f[36],G:f[37],D:d[1],H:f[38],I:f[39]}):0})},function(b){return a.sp("66",f[0],f[2],f[3],f[4],!1,!0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSContactInsertContactStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9211147476642515013"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["9211147476642515013"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.seq([function(b){return a.db.table(7).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.lt(b.J,e[21])}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(7).add({a:e[0],b:e[2],c:e[3],d:e[4],e:e[5],f:e[6],g:e[7],h:e[9],K:e[40],i:e[10],k:e[11],l:e[12],m:e[35],n:e[14],o:e[17],p:e[18],q:e[19],r:e[20],J:e[21],s:e[22],t:e[23],u:e[24],v:e[25],w:e[26],z:e[27],x:e[28],y:e[29],A:e[30],B:e[31],C:e[32],E:e[34],F:e[36],G:e[37],H:e[38],I:e[39]})}])},function(b){return a.sp("66",e[0],e[2],e[3],e[4],!1,!0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSContactOptimisticPseudoUnblockStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1252304464621845259"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["194"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["-67108865"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1252304464621845259"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(p()))},function(b){return a.seq([function(b){return a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(o())],d[0]=e[0],e):(b=a.item,e=[b.G],d[0]=e[0],e)})},function(b){return a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(n()),c(m()))}).forEach(function(b){var e=b.update;b.item;return e({G:a.i64.and_(d.G==null?c(l()):d.G,c(k()))})}))})},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("blockee_id",f[0])],d[4]=b[0],b,b=[d[2].set("request_id",f[1])],d[5]=b[0],b,b=[d[2].set("capabilities",d[0]==null?c(j()):d[0])],d[6]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","pseudo_unblock",c(i()),d[3],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSContactOptimisticSetBlockStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3059692141655389881"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["151"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["-4"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);u=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["1"]);a=function(){return b};return b}function c(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);c=function(){return a};return a}function d(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);d=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["3059692141655389881"]);v=function(){return a};return a}f=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(v()))},function(b){return a.seq([function(b){return a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){var g=b.done;b=b.value;return g?0:(e=b.item,d[4]=e.G,a.i64.eq(f[1],c(u()))?a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(t()),c(s()))}).forEach(function(b){var e=b.update;b.item;return e({n:f[1],w:!1,G:a.i64.and_(d[4]==null?c(r()):d[4],c(q()))})}):a.i64.eq(f[1],c(p()))?a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(o()),c(n()))}).forEach(function(b){var e=b.update;b.item;return e({n:f[1],w:!0,G:a.i64.or_(d[4]==null?c(m()):d[4],c(l()))})}):a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(k()),c(j()))}).forEach(function(a){var b=a.update;a.item;return b({n:f[1]})}))})},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("blockee_id",f[0])],d[3]=b[0],b,b=[d[1].set("blocked_by_viewer_status",f[1])],d[4]=b[0],b,b=[d[1].set("request_id",f[2])],d[5]=b[0],b,b=[d[1].set("use_optimistic_block_status",!1)],d[6]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","block_status",c(i()),d[2],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=f}),null);
__d("LSContactResetOptimisticBlockStateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5697973484267246350"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["5697973484267246350"]);m=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(m()))},function(b){return a.db.table(7).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(l()),c(k()))}).forEach(function(b){var d=b.update;b.item;return d({L:void 0,M:void 0,n:e[2]===!0?e[1]:a.i64.eq(e[1],c(j()))?c(i()):c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSContactSetContactCapabilitiesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5839391437418721304"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5839391437418721304"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(7).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({G:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSContactVerifyContactRowExistsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3045135056688871152"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["207"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["40"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["3045135056688871152"]);q=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(q()))},function(b){return d[0]=f[3]==null?"":f[3],a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(p()),c(o()))&&a.i64.gt(b.J,c(n()))}).next().then(function(b){var e=b.done;b.value;return e?a.seq([function(b){return a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(m()),c(l()))&&a.i64.lt(b.J,f[14])}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(7).add({a:f[0],b:f[2]==null?"":f[2],c:f[5],h:d[0],K:f[19],i:d[0],l:f[9],n:f[11],w:f[12],e:"",k:!0,o:0,q:f[4],r:c(k()),u:!1,J:f[14],F:c(j()),G:f[15],H:f[18],I:f[17]})},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("contact_id",f[0])],d[3]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","cpq_v2",c(i()),d[2],void 0,void 0,c(h()),void 0)}]):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingPendingTasksForQueueStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["281427704250996590"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["9223372036854775807"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["4194303"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["22"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["30000"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["30000"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["500"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["30000"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["30000"]);$=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["500"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["281427704250996590"]);qa=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(ra){return a.seq([function(b){return a.nop(10,c(qa()))},function(g){return a.seq([function(b){return a.db.table(3).openCursor().filter(function(b){return a.i64.neq(b.c,void 0)&&b.a===f[0]}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!1],d[0]=b[0],b):(a.item,b=[!0],d[0]=b[0],b)})},function(e){return e=[new a.Map()],d[2]=e[0],e,e=[d[2].set("queue_name",f[0])],d[4]=e[0],e,e=[d[2].set("next_sync_ms",void 0)],d[5]=e[0],e,e=[d[2].set("work_item_type",c(pa()))],d[6]=e[0],e,e=[d[2].set("network_payload",void 0)],d[7]=e[0],e,e=[d[2].set("http_url_override",void 0)],d[8]=e[0],e,e=[d[2].set("skip_realtime_gateway",!1)],d[9]=e[0],e,d[3]=d[2],d[0]?b("Promise").resolve():a.seq([function(b){return a.db.table(2).openCursor().filter(function(a){return a.b===f[0]}).sortBy([["a","ASC",a.i64.compare]]).slice(0,a.i64.to_float(c(oa()))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=["",c(na()),c(ma()),c(la()),void 0,void 0],d[4]=e[0],d[5]=e[1],d[6]=e[2],d[7]=e[3],d[8]=e[4],d[9]=e[5],e):(b=a.item,e=[b.b,b.h,b.k,b.g,b.d,b.i],d[4]=e[0],d[5]=e[1],d[6]=e[2],d[7]=e[3],d[8]=e[4],d[9]=e[5],e)})},function(b){return a.db.table(3).openCursor().filter(function(a){return a.a===f[0]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(ka())],d[11]=e[0],e):(b=a.item,e=[b.g],d[11]=e[0],e)})},function(e){return a.i64.neq(d[5],void 0)?(d[18]=a.i64.sub(d[5],a.i64.of_float(Date.now())),a.i64.le(d[18],c(ja()))?(a.i64.eq(d[7],c(ia()))||f[1]?(e=[c(ha())],d[20]=e[0],e):(a.i64.gt(d[7],c(ga()))?(e=[a.i64.sub(d[7],c(fa()))],d[23]=e[0],e):(e=[d[7]],d[23]=e[0],e),d[24]=a.i64.sub(d[23],c(ea())),d[25]=a.i64.mul(a.i64.lsl_(c(da()),a.i64.to_int32(a.i64.lt(d[24],c(ca()))?d[24]:c(ba()))),c(aa())),e=[a.i64.lt(d[25],c($()))?d[25]:c(Z())],d[20]=e[0],e),d[21]=a.i64.sub(a.i64.add(d[11],d[20]),a.i64.of_float(Date.now())),e=[a.i64.gt(d[21],c(Y()))?d[21]:c(X())],d[17]=e[0],e):(e=[d[18]],d[17]=e[0],e),e=[d[17]],d[14]=e[0],e):(a.i64.eq(d[7],c(W()))||f[1]?(e=[c(V())],d[17]=e[0],e):(a.i64.gt(d[7],c(U()))?(e=[a.i64.sub(d[7],c(T()))],d[20]=e[0],e):(e=[d[7]],d[20]=e[0],e),d[21]=a.i64.sub(d[20],c(S())),d[22]=a.i64.mul(a.i64.lsl_(c(R()),a.i64.to_int32(a.i64.lt(d[21],c(Q()))?d[21]:c(P()))),c(O())),e=[a.i64.lt(d[22],c(N()))?d[22]:c(M())],d[17]=e[0],e),d[18]=a.i64.sub(a.i64.add(d[11],d[17]),a.i64.of_float(Date.now())),e=[a.i64.gt(d[18],c(L()))?d[18]:c(K())],d[14]=e[0],e),a.i64.neq(d[14],c(J()))?b("Promise").resolve((e=[new a.Map()],d[16]=e[0],e,e=[d[16].set("queue_name",f[0])],d[17]=e[0],e,e=[d[16].set("next_sync_ms",d[14])],d[18]=e[0],e,e=[d[16].set("work_item_type",c(I()))],d[19]=e[0],e,e=[d[16].set("network_payload",void 0)],d[20]=e[0],e,e=[d[16].set("http_url_override",void 0)],d[21]=e[0],e,e=[d[16].set("skip_realtime_gateway",!1)],d[22]=e[0],e,d[3]=d[16])):a.seq([function(e){return a.i64.neq(d[6],c(H()))||d[8]==="16"||d[8]==="4"?b("Promise").resolve((e=[d[4],void 0,c(G()),void 0,void 0,!1],d[17]=e[0],d[18]=e[1],d[19]=e[2],d[20]=e[3],d[21]=e[4],d[22]=e[5],e)):a.seq([function(b){return b=[a.createArray()],d[24]=b[0],b,d[25]=!0,a.db.table(2).openCursor().filter(function(a){return a.b===d[4]}).sortBy([["a","ASC",a.i64.compare]]).slice(0,a.i64.to_float(c(F()))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=["",c(E()),c(D()),c(C()),void 0,void 0],d[26]=e[0],d[27]=e[1],d[28]=e[2],d[29]=e[3],d[30]=e[4],d[31]=e[5],e):(b=a.item,e=[b.b,b.h,b.k,b.g,b.d,b.i],d[26]=e[0],d[27]=e[1],d[28]=e[2],d[29]=e[3],d[30]=e[4],d[31]=e[5],e)})},function(e){return a.db.table(2).openCursor().filter(function(a){return a.b===d[4]}).sortBy([["a","ASC",a.i64.compare]]).forEach(function(e){var f=e.item;return d[43]=f.a,d[41]=f.d,d[44]=f.g,d[42]=f.j,d[25]=f.i===d[31]&&d[25],d[25]?a.seq([function(e){return d[41]===void 0?a.seq([function(b){return a.db.table(2).openCursor().filter(function(b){return a.i64.eq(b.a,d[43])}).forEach(function(a){return a["delete"]()})},function(a){return a=[void 0],d[46]=a[0],a}]):a.seq([function(e){return a.i64.neq(d[42],void 0)?(e=[a.i64.ge(a.i64.of_float(Date.now()),d[42])],d[53]=e[0],e):(e=[!1],d[53]=e[0],e),d[53]?a.seq([function(b){return a.db.table(2).openCursor().filter(function(b){return a.i64.eq(b.a,d[43])}).forEach(function(a){return a["delete"]()})},function(a){return a=[void 0],d[55]=a[0],a}]):a.seq([function(c){return d[41]==="46"?a.seq([function(b){return a.sp("129",d[43]).then(function(a){return a=a,d[61]=a[0],d[62]=a[1],a})},function(b){return b=[a.i64.to_string(d[62]),d[61]],d[57]=b[0],d[58]=b[1],b}]):a.seq([function(c){return d[41]==="144"?a.seq([function(b){return a.sp("164",d[43]).then(function(a){return a=a,d[64]=a[0],d[65]=a[1],a})},function(b){return b=[a.i64.to_string(d[65]),d[64]],d[62]=b[0],d[63]=b[1],b}]):a.seq([function(c){return d[41]==="146"?a.seq([function(b){return a.sp("164",d[43]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(b){return b=[a.i64.to_string(d[68]),d[67]],d[65]=b[0],d[66]=b[1],b}]):b("Promise").resolve((c=[d[41],f.c],d[67]=c[0],d[68]=c[1],c,c=[d[67],d[68]],d[65]=c[0],d[66]=c[1],c))},function(a){return a=[d[65],d[66]],d[62]=a[0],d[63]=a[1],a}])},function(a){return a=[d[62],d[63]],d[57]=a[0],d[58]=a[1],a}])},function(b){return d[58]!==void 0?(b=[new a.Map()],d[61]=b[0],b,b=[d[61].set("label",d[57])],d[62]=b[0],b,b=[d[61].set("payload",d[58])],d[63]=b[0],b,b=[d[61].set("queue_name",f.b)],d[64]=b[0],b,b=[d[61].set("task_id",d[43])],d[65]=b[0],b,b=[d[61].set("failure_count",a.i64.eq(d[44],c(B()))?void 0:d[44])],d[66]=b[0],b,b=[d[61]],d[60]=b[0],b):(b=[void 0],d[60]=b[0],b),b=[d[60]],d[55]=b[0],b}])},function(a){return a=[d[55]],d[46]=a[0],a}])},function(b){return d[46]?(b=[!1],d[48]=b[0],b):(b=[!0],d[48]=b[0],b),d[48]?0:(b=[(d[24].push(d[46]),d[24])],d[52]=b[0],b),b=[a.i64.of_int32(d[24].length)],d[49]=b[0],b,d[41]!==void 0?(b=[["90","130","153"].includes(d[41])],d[51]=b[0],b):(b=[!1],d[51]=b[0],b),d[25]=!(a.i64.ge(d[49],c(A()))||d[51])}]):b("Promise").resolve()})},function(e){return e=[a.i64.of_int32(d[24].length)],d[33]=e[0],e,a.i64.eq(d[33],c(z()))?b("Promise").resolve((e=[d[4],void 0,c(y()),void 0,void 0,!1],d[35]=e[0],d[36]=e[1],d[37]=e[2],d[38]=e[3],d[39]=e[4],d[40]=e[5],e)):a.seq([function(b){return d[50]=a.i64.and_(a.i64.or_(a.i64.lsl_(a.i64.of_float(Date.now()),a.i64.to_int32(c(x()))),a.i64.and_(a.i64.random(),c(w()))),c(v())),a.db.table(3).getArr([[[d[4],c(u())]]]).filter(function(b){return b.a===d[4]&&a.i64.eq(b.b,c(t()))}).next().then(function(b,e){e=b.done;b=b.value;return e?a.db.table(3).add({b:c(s()),a:d[4],f:c(r()),e:c(q()),g:c(p()),c:d[50]}):(b.item,a.db.table(3).getArr([[[d[4],c(o())]]]).filter(function(b){return b.a===d[4]&&a.i64.eq(b.b,c(n()))}).forEach(function(a){var b=a.update;a.item;return b({c:d[50]})}))})},function(b){return a.db.table(2).openCursor().filter(function(a){return a.b===d[4]}).sortBy([["a","ASC",a.i64.compare]]).slice(0,a.i64.to_float(c(m()))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=["",c(l()),c(k()),c(j()),void 0,void 0],d[42]=e[0],d[43]=e[1],d[44]=e[2],d[45]=e[3],d[46]=e[4],d[47]=e[5],e):(b=a.item,e=[b.b,b.h,b.k,b.g,b.d,b.i],d[42]=e[0],d[43]=e[1],d[44]=e[2],d[45]=e[3],d[46]=e[4],d[47]=e[5],e)})},function(b){return b=[new a.Map()],d[49]=b[0],b,b=[d[49].set("tasks",d[24])],d[51]=b[0],b,b=[d[49].set("epoch_id",d[50])],d[52]=b[0],b,b=[d[4],void 0,c(i()),d[49],d[47],!(d[47]===void 0)||a.i64.gt(d[45],c(h()))],d[35]=b[0],d[36]=b[1],d[37]=b[2],d[38]=b[3],d[39]=b[4],d[40]=b[5],b}])},function(a){return a=[d[35],d[36],d[37],d[38],d[39],d[40]],d[17]=a[0],d[18]=a[1],d[19]=a[2],d[20]=a[3],d[21]=a[4],d[22]=a[5],a}])},function(b){return b=[new a.Map()],d[23]=b[0],b,b=[d[23].set("queue_name",d[17])],d[24]=b[0],b,b=[d[23].set("next_sync_ms",d[18])],d[25]=b[0],b,b=[d[23].set("work_item_type",d[19])],d[26]=b[0],b,b=[d[23].set("network_payload",d[20])],d[27]=b[0],b,b=[d[23].set("http_url_override",d[21])],d[28]=b[0],b,b=[d[23].set("skip_realtime_gateway",d[22])],d[29]=b[0],b,d[3]=d[23]}])}])},function(a){return a=[d[3]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingPendingTasksStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6723710998280142733"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["6723710998280142733"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.seq([function(b){return b=[a.createArray()],d[0]=b[0],b,a.db.table(2).openCursor().sortBy([["b","ASC"]]).groupBy("b").forEach(function(b){return a.seq([function(c){return a.sp("21",b.b,f[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return a=[(d[0].push(d[1]),d[0])],d[2]=a[0],a}])})},function(b){return a.db.table(5).openCursor().sortBy([["b","ASC"]]).groupBy("b").forEach(function(b){return d[1]=b.b,a.seq([function(b){return b=[a.createArray()],d[2]=b[0],b,a.db.table(5).openCursor().filter(function(a){return a.b===d[1]}).sortBy([["a","ASC",a.i64.compare]]).forEach(function(b){var e;b=b.item;return e=[new a.Map()],d[6]=e[0],e,e=[d[6].set("label",b.d)],d[8]=e[0],e,e=[d[6].set("payload",b.c)],d[9]=e[0],e,e=[d[6].set("queue_name",b.b)],d[10]=e[0],e,e=[d[6].set("task_id",b.a)],d[11]=e[0],e,b=[d[6].set("failure_count",a.i64.eq(c(k()),c(j()))?void 0:c(i()))],d[12]=b[0],b,e=[(d[2].push(d[6]),d[2])],d[7]=e[0],e})},function(b){return b=[new a.Map()],d[3]=b[0],b,b=[d[3].set("tasks",d[2])],d[6]=b[0],b,b=[d[3].set("epoch_id",void 0)],d[7]=b[0],b,b=[new a.Map()],d[4]=b[0],b,b=[d[4].set("queue_name",d[1])],d[6]=b[0],b,b=[d[4].set("next_sync_ms",void 0)],d[7]=b[0],b,b=[d[4].set("work_item_type",c(h()))],d[8]=b[0],b,b=[d[4].set("network_payload",d[3])],d[9]=b[0],b,b=[d[4].set("http_url_override",void 0)],d[10]=b[0],b,b=[d[4].set("skip_realtime_gateway",!1)],d[11]=b[0],b,b=[(d[0].push(d[4]),d[0])],d[5]=b[0],b}])})},function(b){return a.db.table(5).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingSyncForSyncGroupStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8747341239116715362"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["9223372036854775807"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["4194303"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["22"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["30000"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["30000"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["500"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["15"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["15"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["8747341239116715362"]);K=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(L){return a.seq([function(b){return a.nop(10,c(K()))},function(g){return a.seq([function(b){return a.db.table(1).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[void 0],d[0]=e[0],e):(c=b.item,e=[new a.Map()],d[11]=e[0],e,b=[d[11].set("group_id",c.a)],d[12]=b[0],b,e=[d[11].set("current_cursor",c.b)],d[13]=e[0],e,b=[d[11].set("sync_status",c.c)],d[14]=b[0],b,e=[d[11].set("sync_params",c.d)],d[15]=e[0],e,b=[d[11].set("send_sync_params",c.e)],d[16]=b[0],b,e=[d[11].set("min_time_to_sync_timestamp_ms",c.f)],d[17]=e[0],e,b=[d[11].set("can_ignore_timestamp",c.g)],d[18]=b[0],b,e=[d[11].set("sync_channel",c.n)],d[19]=e[0],e,b=[d[11].set("last_sync_request_timestamp_ms",c.i)],d[20]=b[0],b,e=[d[11]],d[0]=e[0],e)})},function(e){return d[0]?(e=[!1],d[3]=e[0],e):(e=[!0],d[3]=e[0],e),d[3]?b("Promise").resolve((e=[f[0],void 0,c(h()),void 0,!1],d[5]=e[0],d[6]=e[1],d[7]=e[2],d[8]=e[3],d[9]=e[4],e)):a.seq([function(b){return b=[d[0].get("group_id"),d[0]],d[11]=b[0],d[12]=b[1],b,a.db.table(3).openCursor().filter(function(b){return a.i64.neq(b.c,void 0)&&a.i64.eq(b.b,d[11])}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!1],d[13]=b[0],b):(a.item,b=[!0],d[13]=b[0],b)})},function(e){return d[13]?b("Promise").resolve((e=[d[0].get("group_id"),d[0]],d[21]=e[0],d[22]=e[1],e,e=[d[21],void 0,c(J()),void 0,!1],d[16]=e[0],d[17]=e[1],d[18]=e[2],d[19]=e[3],d[20]=e[4],e)):a.seq([function(e){return d[37]=a.i64.of_float(Date.now()),e=[d[0].get("min_time_to_sync_timestamp_ms"),d[0]],d[21]=e[0],d[22]=e[1],e,e=[d[0].get("last_sync_request_timestamp_ms"),d[0]],d[23]=e[0],d[24]=e[1],e,e=[d[0].get("can_ignore_timestamp"),d[0]],d[25]=e[0],d[26]=e[1],e,!d[25]&&a.i64.lt(d[37],d[21])?b("Promise").resolve((e=[a.i64.sub(d[21],d[37])],d[28]=e[0],e)):a.seq([function(e){return f[1]?b("Promise").resolve((e=[c(I())],d[39]=e[0],e)):a.seq([function(b){return b=[d[0].get("group_id"),d[0]],d[40]=b[0],d[41]=b[1],b,a.db.table(3).getArr([[["",d[40]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,d[40])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(H())],d[42]=e[0],e):(b=a.item,e=[b.f],d[42]=e[0],e)})},function(b){return d[44]=a.i64.mul(a.i64.sub(a.i64.lsl_(c(G()),a.i64.to_int32(a.i64.lt(c(F()),d[42])?c(E()):d[42])),c(D())),c(C())),d[45]=a.i64.sub(a.i64.add(d[23]==null?c(B()):d[23],a.i64.lt(d[44],c(A()))?d[44]:c(z())),d[37]),b=[a.i64.gt(d[45],c(y()))?d[45]:c(x())],d[39]=b[0],b}])},function(a){return a=[d[39]],d[28]=a[0],a}])},function(b){return b=[d[0].get("group_id"),d[0]],d[29]=b[0],d[30]=b[1],b,a.i64.gt(d[28],c(w()))?a.seq([function(b){return a.db.table(3).openCursor().filter(function(b){return a.i64.eq(b.b,d[29])}).forEach(function(b){var c=b.update;b.item;return c({h:a.i64.of_float(Date.now())})})},function(a){return a=[d[29],d[28],c(v()),void 0,!1],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],d[36]=a[4],a}]):a.seq([function(b){return a.db.table(1).getArr([[d[29]]]).filter(function(b){return a.i64.eq(b.a,d[29])}).forEach(function(b){var c=b.update;b.item;return c({i:a.i64.of_float(Date.now())})})},function(b){return a.db.table(3).openCursor().filter(function(b){return a.i64.eq(b.b,d[29])}).forEach(function(b){var c=b.update;b.item;return c({g:a.i64.of_float(Date.now())})})},function(b){return b=[d[0].get("group_id"),d[0]],d[38]=b[0],d[39]=b[1],b,d[59]=a.i64.and_(a.i64.or_(a.i64.lsl_(a.i64.of_float(Date.now()),a.i64.to_int32(c(u()))),a.i64.and_(a.i64.random(),c(t()))),c(s())),a.db.table(3).getArr([[["",d[38]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,d[38])}).next().then(function(b,e){e=b.done;b=b.value;return e?a.db.table(3).add({b:d[38],a:"",f:c(r()),e:c(q()),g:c(p()),c:d[59]}):(b.item,a.db.table(3).getArr([[["",d[38]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,d[38])}).forEach(function(a){var b=a.update;a.item;return b({c:d[59]})}))})},function(b){return b=[d[0].get("group_id"),d[0]],d[41]=b[0],d[42]=b[1],b,a.db.table(3).getArr([[["",d[41]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,d[41])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(o())],d[43]=e[0],e):(b=a.item,e=[b.f],d[43]=e[0],e)})},function(b){return b=[d[0].get("send_sync_params"),d[0]],d[45]=b[0],d[46]=b[1],b,b=[d[0].get("sync_params"),d[0]],d[47]=b[0],d[48]=b[1],b,b=[d[0].get("current_cursor"),d[0]],d[49]=b[0],d[50]=b[1],b,b=[new a.Map()],d[51]=b[0],b,b=[d[51].set("database",d[41])],d[60]=b[0],b,b=[d[51].set("version",c(n()))],d[61]=b[0],b,b=[d[51].set("epoch_id",d[59])],d[62]=b[0],b,b=[d[51].set("last_applied_cursor",d[49])],d[63]=b[0],b,b=[d[51].set("sync_params",d[45]?d[47]:void 0)],d[64]=b[0],b,b=[d[51].set("failure_count",a.i64.gt(d[43],c(m()))?d[43]:void 0)],d[65]=b[0],b,b=[d[0].get("current_cursor"),d[0]],d[52]=b[0],d[53]=b[1],b,void 0===d[52]?(b=[c(l())],d[55]=b[0],b):(b=[c(k())],d[55]=b[0],b),b=[new a.Map()],d[56]=b[0],b,b=[d[56].set("type",d[55])],d[60]=b[0],b,b=[d[56].set("request_payload",d[51])],d[61]=b[0],b,b=[d[0].get("sync_channel"),d[0]],d[57]=b[0],d[58]=b[1],b,b=[d[38],void 0,c(j()),d[56],a.i64.eq(d[57],c(i()))],d[32]=b[0],d[33]=b[1],d[34]=b[2],d[35]=b[3],d[36]=b[4],b}])},function(a){return a=[d[32],d[33],d[34],d[35],d[36]],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],d[20]=a[4],a}])},function(a){return a=[d[16],d[17],d[18],d[19],d[20]],d[5]=a[0],d[6]=a[1],d[7]=a[2],d[8]=a[3],d[9]=a[4],a}])},function(b){return b=[new a.Map()],d[10]=b[0],b,b=[d[10].set("sync_group_id",d[5])],d[11]=b[0],b,b=[d[10].set("next_sync_ms",d[6])],d[12]=b[0],b,b=[d[10].set("work_item_type",d[7])],d[13]=b[0],b,b=[d[10].set("network_payload",d[8])],d[14]=b[0],b,b=[d[10].set("skip_realtime_gateway",d[9])],d[15]=b[0],b,b=[d[10]],e[0]=b[0],b}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingSyncStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2680450521568664189"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2680450521568664189"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return b=[a.createArray()],d[0]=b[0],b,a.db.table(1).openCursor().forEach(function(b){var c=b.item;return a.seq([function(b){return a.sp("534",c.a,f[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return a=[(d[0].push(d[1]),d[0])],d[2]=a[0],a}])})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreCancelTaskByQueueNameStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8285315339175198555"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8285315339175198555"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(2).openCursor().filter(function(b){return b.b===e[0]&&b.d===a.i64.to_string(e[1])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5510853116101575010"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["5510853116101575010"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(3).getArr([[["",e[1]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,e[1])&&a.i64.eq(b.c,e[2])}).forEach(function(b){var d=b.update;b=b.item;return d({c:!e[0]&&a.i64.eq(b.f,c(k()))?b.c:void 0,f:a.i64.eq(b.f,c(j()))?c(i()):a.i64.add(b.f,c(h()))})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["77939926303514750"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["35"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["35"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["35"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["77939926303514750"]);w=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(x){return a.seq([function(b){return a.nop(10,c(w()))},function(g){return a.seq([function(e){return a.db.table(3).getArr([[["",f[0]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,f[0])&&a.i64.eq(b.c,f[1])}).next().then(function(e,g){g=e.done;e=e.value;return g?a.seq([function(e){return a.log("epoch mismatch",3),e=[new a.Map()],d[2]=e[0],e,e=[d[2].set("database_id",f[0])],d[3]=e[0],e,e=[d[2].set("epoch_id",f[1])],d[4]=e[0],e,e=[d[2].set("sync_status",f[4])],d[5]=e[0],e,e=[d[2].set("next_cursor",f[3])],d[6]=e[0],e,e=[d[2].set("error_msg","epoch mismatch")],d[7]=e[0],e,f[9]?(e=[!1],d[9]=e[0],e):(e=[!0],d[9]=e[0],e),d[9]?b("Promise").resolve():(e=[f[9].keys()],d[10]=e[0],e,e=[a.i64.of_int32(d[10].length)],d[11]=e[0],e,a.i64.gt(d[11],c(v()))?a.loopAsync(d[11],function(b){return d[12]=b,a.seq([function(b){return a.ntop("Array",3,d[10],d[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(a){return a=[f[9].get(d[13]),f[9]],d[15]=a[0],d[16]=a[1],a,a=[d[2].set(d[13],d[15])],d[17]=a[0],a}])}):b("Promise").resolve())},function(b){return a.nop(9,c(u()),c(t()),c(s()),d[2])},function(a){return a=[!1],d[0]=a[0],a}]):(e.item,a.seq([function(e){return a.db.table(1).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&b.b===f[2]}).next().then(function(e,g){g=e.done;e=e.value;return g?a.seq([function(e){return a.log("cursor mismatch",3),e=[new a.Map()],d[4]=e[0],e,e=[d[4].set("database_id",f[0])],d[5]=e[0],e,e=[d[4].set("epoch_id",f[1])],d[6]=e[0],e,e=[d[4].set("sync_status",f[4])],d[7]=e[0],e,e=[d[4].set("next_cursor",f[3])],d[8]=e[0],e,e=[d[4].set("error_msg","cursor mismatch")],d[9]=e[0],e,f[9]?(e=[!1],d[11]=e[0],e):(e=[!0],d[11]=e[0],e),d[11]?b("Promise").resolve():(e=[f[9].keys()],d[12]=e[0],e,e=[a.i64.of_int32(d[12].length)],d[13]=e[0],e,a.i64.gt(d[13],c(r()))?a.loopAsync(d[13],function(b){return d[14]=b,a.seq([function(b){return a.ntop("Array",3,d[12],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return a=[f[9].get(d[15]),f[9]],d[17]=a[0],d[18]=a[1],a,a=[d[4].set(d[15],d[17])],d[19]=a[0],a}])}):b("Promise").resolve())},function(b){return a.nop(9,c(q()),c(p()),c(o()),d[4])},function(a){return a=[!1],d[2]=a[0],a}]):(e.item,a.seq([function(b){return a.db.table(1).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(b){var d=b.update;b.item;return d({b:f[3],c:f[4],e:f[5],f:a.i64.eq(f[6],c(n()))?c(m()):a.i64.add(a.i64.of_float(Date.now()),f[6]),g:f[7],n:f[8],k:a.i64.of_float(Date.now())})})},function(b){return a.db.table(3).getArr([[["",f[0]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,f[0])}).forEach(function(a){var b=a.update;a.item;return b({f:c(l())})})},function(e){return e=[new a.Map()],d[4]=e[0],e,e=[d[4].set("database_id",f[0])],d[5]=e[0],e,e=[d[4].set("epoch_id",f[1])],d[6]=e[0],e,e=[d[4].set("sync_status",f[4])],d[7]=e[0],e,e=[d[4].set("next_cursor",f[3])],d[8]=e[0],e,f[9]?(e=[!1],d[10]=e[0],e):(e=[!0],d[10]=e[0],e),d[10]?b("Promise").resolve():(e=[f[9].keys()],d[11]=e[0],e,e=[a.i64.of_int32(d[11].length)],d[12]=e[0],e,a.i64.gt(d[12],c(k()))?a.loopAsync(d[12],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,d[11],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(a){return a=[f[9].get(d[14]),f[9]],d[16]=a[0],d[17]=a[1],a,a=[d[4].set(d[14],d[16])],d[18]=a[0],a}])}):b("Promise").resolve())},function(b){return a.nop(9,c(j()),c(i()),c(h()),d[4])},function(a){return a=[!0],d[2]=a[0],a}]))})},function(a){return a=[d[2]],d[0]=a[0],a}]))})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreForceImmediateSyncStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6308720196464072627"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6308720196464072627"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(1).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(b){var c=b.update;b.item;return c({f:a.i64.of_float(Date.now())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreGetCursorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["875090310695585215"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["875090310695585215"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(1).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[0]=c[0],c):(b=a.item,c=[b.b],d[0]=c[0],c)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreGetViewerFBIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000763609098242277"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000763609098242277"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.seq([function(b){return a.db.table(4).getArr([[c(j())]]).filter(function(b){return a.i64.eq(b.a,c(i()))}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(h())],d[0]=e[0],e):(b=a.item,e=[b.b],d[0]=e[0],e)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreHandleFailedTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7048854620086579119"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["7048854620086579119"]);m=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(d){return a.seq([function(b){return a.nop(10,c(m()))},function(d){return a.log(e[2],3),e[1]!==void 0?a.db.table(3).getArr([[[e[1],c(l())]]]).filter(function(b){return a.i64.eq(b.b,c(k()))&&b.a===e[1]}).next().then(function(b,d){var f=b.done;b=b.value;return f?0:(d=b.item,a.db.table(3).getArr([[[e[1],c(j())]]]).filter(function(b){return b.a===e[1]&&a.i64.eq(b.b,c(i()))}).forEach(function(b){var e=b.update;b.item;return e({f:a.i64.add(d.f,c(h())),c:void 0})}))}):b("Promise").resolve()},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreHandleSyncFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1836812620067630966"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1836812620067630966"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(3).getArr([[["",e[0]]]]).filter(function(b){return b.a===""&&a.i64.eq(b.b,e[0])}).forEach(function(b){var d=b.update;b=b.item;return d({f:a.i64.add(b.f,c(h())),c:void 0})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreHandleTaskSendFailureForQueueStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6962852129684140301"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["6962852129684140301"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(o()))},function(b){return a.seq([function(b){return a.db.table(2).openCursor().filter(function(a){return e[0]===a.b}).sortBy([["a","ASC",a.i64.compare]]).slice(0,a.i64.to_float(c(n()))).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,a.db.table(2).openCursor().filter(function(b){return a.i64.eq(b.a,d.a)}).next().then(function(d,e){var b=d.done;d=d.value;return b?0:(e=d.item,a.db.table(2).openCursor().filter(function(b){return a.i64.eq(b.a,e.a)}).forEach(function(b){var d=b.update;b.item;return d({g:a.i64.add(e.g,c(m()))})}))}))})},function(b){return a.db.table(3).getArr([[[e[0],c(l())]]]).filter(function(b){return b.a===e[0]&&a.i64.eq(b.b,c(k()))}).forEach(function(b){var d=b.update;b=b.item;return d({f:a.i64.add(b.f,c(j()))})})},function(b){return a.db.table(3).getArr([[[e[0],c(i())]]]).filter(function(b){return b.a===e[0]&&a.i64.eq(b.b,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({c:void 0,d:void 0})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreHandleTaskSendSuccessForQueueStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6637098789687527004"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6637098789687527004"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(3).getArr([[[e[0],c(i())]]]).filter(function(b){return b.a===e[0]&&a.i64.eq(b.b,c(h()))&&!a.i64.eq(b.c,void 0)}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreIssueNewErrorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4953360434979843821"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4953360434979843821"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(6).add({a:void 0,b:e[0],c:e[1],d:e[2],e:e[3],f:a.i64.of_float(Date.now())})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreIssueNewFireAndForgetTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7221765449968229465"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7221765449968229465"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(5).add({a:void 0,b:e[0],d:a.i64.to_string(e[1]),c:e[2],e:a.i64.of_float(Date.now())})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreIssueNewTaskAndGetTaskIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2587613669826858792"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["23"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2587613669826858792"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.seq([function(b){return a.sp("1",f[0],f[1],f[2],f[3],f[4],f[5],f[6])},function(b){return d[5]=a.i64.to_string(f[1]),a.db.table(2).openCursor().filter(function(a){return a.b===f[0]&&a.d===d[5]&&a.c===f[2]}).sortBy([["a","DESC",a.i64.compare]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(k())],d[0]=e[0],e):(b=a.item,e=[b.a],d[0]=e[0],e)})},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("task_id",d[0])],d[3]=b[0],b,b=[d[2].set("task_queue_name",f[0])],d[4]=b[0],b,b=[d[2].set("task_label",d[5])],d[6]=b[0],b,a.nop(9,c(j()),c(i()),c(h()),d[2])},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreIssueNewTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2749937017649665000"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2749937017649665000"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(2).add({a:void 0,b:e[0],d:a.i64.to_string(e[1]),c:e[2],e:a.i64.of_float(Date.now()),i:e[3],j:e[4],k:e[5],m:e[6]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreRemoveErrorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5525423446053422344"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5525423446053422344"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(6).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreRemoveTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4242515058750712109"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4242515058750712109"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(2).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).next().then(function(b,c){var d=b.done;b=b.value;return d?0:(c=b.item,a.db.table(2).openCursor().filter(function(b){return a.i64.le(b.a,e[0])&&b.b===c.b}).forEach(function(a){return a["delete"]()}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreSetBackgroundModeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5726547742445473677"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5726547742445473677"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreSetRegionHintStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6067614566369822820"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6067614566369822820"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(1).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({j:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreTaskExistsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7105358439674213896"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7105358439674213896"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(2).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!1],d[0]=b[0],b):(a.item,b=[!0],d[0]=b[0],b)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3582559626671314645"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3582559626671314645"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(1).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(b){var c=b.update;b.item;return c({k:a.i64.of_float(Date.now())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreUpdateOptimisticContextThreadKeysStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["167763209657767363"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["167763209657767363"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(32).openCursor().filter(function(b){return a.i64.eq(b.b,e[0])}).forEach(function(a){var b=a.update;a.item;return b({b:e[1]})})},function(b){return a.db.table(31).openCursor().filter(function(b){return a.i64.eq(b.b,e[0])}).forEach(function(a){var b=a.update;a.item;return b({b:e[1]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreUpdateTaskQueueNameStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2645678841302105916"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2645678841302105916"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(2).openCursor().filter(function(a){return a.b===e[0]}).forEach(function(a){var b=a.update;a.item;return b({b:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSCoreUpdateTaskValueStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1100626886830850718"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1100626886830850718"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(2).openCursor().filter(function(a){return a.b===e[0]}).forEach(function(a){var b=a.update;a=a.item;return b({c:a.c.split(e[1]).join(e[2])})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerClearInThreadBannerTablesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3034871362331717432"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3034871362331717432"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(118).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(119).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerDeleteBannerStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5361716264635907780"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5361716264635907780"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(118).getArr([[[e[1],e[0]]]]).filter(function(b){return a.i64.eq(b.a,e[1])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerDeleteBannersStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3455492421549147334"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3455492421549147334"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(118).openCursor().filter(function(b){return a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerExecuteCTAStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2722658122837568593"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["73"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2722658122837568593"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(119).openCursor().filter(function(b){return a.i64.eq(b.b,f[0])}).next().then(function(b,e){var f=b.done;b=b.value;return f?0:(e=b.item,f=[new a.Map()],d[0]=f[0],f,b=[d[0].set("banner_id",e.a)],d[2]=b[0],b,f=[d[0].set("cta_type",e.d)],d[3]=f[0],f,b=[d[0].set("context_id",e.h)],d[4]=b[0],b,f=[a.toJSON(d[0])],d[1]=f[0],f,a.sp("1","in_thread_banner_execute_cta_queue",c(i()),d[1],void 0,void 0,c(h()),void 0))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSInThreadBannerFetchBannersStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7857112513995334181"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["72"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["7857112513995334181"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","in_thread_banner_fetch_activity_banners_queue",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSInThreadBannerInsertNewBannerStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6620067647064990871"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6620067647064990871"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(118).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],i:e[8],j:e[9],k:e[10],l:e[11],m:e[13],n:e[14],o:e[15],p:e[17],q:e[18],r:e[19],s:e[20]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerUpsertCTAStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["289246491748561773"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["289246491748561773"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(119).put({a:e[0],b:e[1],d:e[2],e:e[4],c:e[3],f:e[5],g:e[6],h:e[7]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerUpsertOverflowMenuStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2348237807756063352"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2348237807756063352"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(120).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],i:e[8],j:e[9],k:e[10],l:e[11],m:e[12],n:e[13],o:e[14],p:e[15],q:e[16]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddParticipantIdToGroupThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3023504024173126418"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3023504024173126418"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("162",f[1],f[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(14).getArr([[[f[0],f[1]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,f[1])&&a.i64.gt(b.j,f[9])}).next().then(function(b){var c=b.done;b.value;return c?a.db.table(14).put({a:f[0],b:f[1],c:f[2],k:f[3],d:f[4],e:f[5],h:f[10],f:f[6],g:f[7],j:f[9],i:d[0]}):0})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxAddParticipantToGroupThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["350686358018428503"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["23"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["350686358018428503"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(e){return d[0]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_key",f[0])],d[6]=b[0],b,b=[d[2].set("contact_ids",f[1])],d[7]=b[0],b,b=[d[2].get("thread_key"),d[2]],d[3]=b[0],d[4]=b[1],b,b=[a.toJSON(d[2])],d[5]=b[0],b,a.sp("1",a.i64.to_string(d[3]),c(i()),d[5],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxAddPollForThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3956355437963515130"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3956355437963515130"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(38).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.lt(b.f,c(i()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(38).add({a:e[0],f:c(h()),b:e[1],c:e[2],d:e[3],e:e[4]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddPollOptionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2783075892626142474"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2783075892626142474"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(36).add({a:e[0],b:e[1],c:e[2],d:c(i()),e:e[3],f:e[4]})},function(b){return a.db.table(39).add({b:e[0],a:e[1],c:e[2],d:c(h()),e:e[3],f:e[4]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddPollOptionV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2015724760430077701"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2015724760430077701"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(h()))},function(c){return a.seq([function(b){return a.sp("182",f[5],f[1],f[7],f[6],f[8]).then(function(a){return a=a,d[0]=a[0],a})},function(c){return d[0]?a.sp("171",f[0],f[1],f[2],f[3],f[4]):b("Promise").resolve()}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxAddPollVoteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2390234875933567250"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2390234875933567250"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(37).add({a:e[0],b:e[1],c:e[2],d:e[3]})},function(b){return a.db.table(36).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.b,e[1])&&a.i64.le(b.e,e[3])}).forEach(function(a){var b=a.update;a.item;return b({d:e[4],e:e[3]})})},function(b){return a.db.table(40).add({b:e[0],a:e[1],c:e[2],d:e[3]})},function(b){return a.db.table(39).getArr([[[e[1],e[0]]]]).filter(function(b){return a.i64.eq(b.b,e[0])&&a.i64.eq(b.a,e[1])&&a.i64.le(b.e,e[3])}).forEach(function(a){var b=a.update;a.item;return b({d:e[4],e:e[3]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddPollVoteV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4857479583405294769"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4857479583405294769"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(h()))},function(c){return a.seq([function(b){return a.sp("182",f[5],f[1],f[6],f[3],f[7]).then(function(a){return a=a,d[0]=a[0],a})},function(c){return d[0]?a.sp("172",f[0],f[1],f[2],f[3],f[4]):b("Promise").resolve()}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxApplyAdminMessageCTAStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1398129903429570721"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1398129903429570721"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("423").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(27).put({a:f[0],b:f[2],c:d[0],d:f[1],e:f[5],f:f[6],g:f[7],h:f[8],i:f[3],j:f[9],k:f[10],l:f[11],m:f[12]})},function(b){return a.db.table(12).getArr([[[f[0],f[1],f[2]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,f[1])&&b.e===f[2]}).forEach(function(a){var b=a.update;a.item;return b({K:d[0],L:f[3],M:f[4]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxApplyNewGroupThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8411303144052386164"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["8411303144052386164"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(n()))},function(b){return a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.a,e[1])||b.S===e[0]}).next().then(function(b,d){d=b.done;b=b.value;return d?a.seq([function(b){return a.db.table(9).getArr([[e[1]]]).filter(function(b){return a.i64.eq(b.a,e[1])&&a.i64.lt(b.Z,c(m()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(9).add({a:e[1],b:c(l()),c:e[2],e:e[3],A:e[4],g:e[5],i:e[6],j:e[6],u:c(k()),B:e[8],C:e[9],D:e[10],E:e[11],L:e[12],P:e[13],S:e[0],Z:c(j())})}]):(b.item,a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.a,e[1])||b.S===e[0]}).forEach(function(a){var b=a.update;a.item;return b({a:e[1],e:e[3],A:e[4],g:e[5],i:e[6],j:e[6],u:c(i()),B:e[8],C:e[9],D:e[10],E:e[11],L:e[12],P:e[13],Z:c(h())})}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxBumpThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3540559400653706648"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["3540559400653706648"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(d){return a.seq([function(b){return a.nop(10,c(k()))},function(d){return a.i64.eq(e[2],c(j()))?a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({j:e[1],i:e[1]})}):a.i64.eq(e[2],c(i()))?a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({i:e[1]})}):a.i64.eq(e[2],c(h()))?a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).next().then(function(b,c){var d=b.done;b=b.value;return d?0:(c=b.item,a.i64.le(c.i,c.j)?a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({j:e[1],i:e[1]})}):a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({i:e[1]})}))}):b("Promise").resolve(0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxChangeViewerStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2617330019214334201"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2617330019214334201"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({v:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxCheckAuthoritativeMessageExistsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4143676051545072652"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4143676051545072652"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return a.db.table(12).getArr([[f[1]],"optimistic"]).filter(function(b){return a.i64.eq(b.a,f[0])&&b.f===f[1]&&a.i64.eq(b.V,c(h()))}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!1],d[0]=b[0],b):(a.item,b=[!0],d[0]=b[0],b)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCleanupOptimisticOrderingOfSentMessagesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7575392318433144598"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7575392318433144598"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.neq(b.c,void 0)&&a.i64.neq(b.d,void 0)&&a.i64.eq(b.V,c(j()))}).count().then(function(a){return d[0]=a})},function(e){return a.i64.eq(d[0],c(i()))?a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.V,c(h()))&&a.i64.neq(b.d,void 0)}).forEach(function(a){var b=a.update;a=a.item;return b({c:a.b,d:void 0})}):b("Promise").resolve()}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxClearLocalThreadPictureUrlStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5197197562154815541"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5197197562154815541"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.log("clearLocalThreadPictureUrl",4),a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&!b.R&&(a.i64.eq(b.c,c(i()))||a.i64.eq(b.c,c(h())))&&b.f!==void 0&&a.like(b.f,"file:%")}).forEach(function(a){var b=a.update;a.item;return b({f:void 0})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxClearMessagePlaceholderRangeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6498037439020074052"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["6498037439020074052"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.db.table(13).getArr([[[e[0],c(j()),e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&b.c===e[1]&&a.i64.eq(c(i()),b.b)&&a.i64.eq(c(h()),b.d)}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1059464780460616003"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["38"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["24"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["24"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["30"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["25"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["17"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["17"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["24"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["23"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["15"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["15"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);$=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["15"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["11"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["11"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Da=function(){return a};return a}function Ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ea=function(){return a};return a}function Fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);Fa=function(){return a};return a}function Ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Ga=function(){return a};return a}function Ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);Ha=function(){return a};return a}function Ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ia=function(){return a};return a}function Ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Ja=function(){return a};return a}function Ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Ka=function(){return a};return a}function La(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);La=function(){return a};return a}function Ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);Ma=function(){return a};return a}function Na(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Na=function(){return a};return a}function Oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);Oa=function(){return a};return a}function Pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Pa=function(){return a};return a}function Qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);Qa=function(){return a};return a}function Ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Ra=function(){return a};return a}function Sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Sa=function(){return a};return a}function Ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["9"]);Ta=function(){return a};return a}function Ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Ua=function(){return a};return a}function Va(){var a=babelHelpers.taggedTemplateLiteralLoose(["9"]);Va=function(){return a};return a}function Wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Wa=function(){return a};return a}function Xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Xa=function(){return a};return a}function Ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Ya=function(){return a};return a}function Za(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Za=function(){return a};return a}function $a(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);$a=function(){return a};return a}function ab(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ab=function(){return a};return a}function bb(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);bb=function(){return a};return a}function cb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);cb=function(){return a};return a}function db(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);db=function(){return a};return a}function eb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);eb=function(){return a};return a}function fb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);fb=function(){return a};return a}function gb(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);gb=function(){return a};return a}function hb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);hb=function(){return a};return a}function ib(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);ib=function(){return a};return a}function jb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);jb=function(){return a};return a}function kb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);kb=function(){return a};return a}function lb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);lb=function(){return a};return a}function mb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);mb=function(){return a};return a}function nb(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);nb=function(){return a};return a}function ob(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ob=function(){return a};return a}function pb(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);pb=function(){return a};return a}function qb(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);qb=function(){return a};return a}function rb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);rb=function(){return a};return a}function sb(){var a=babelHelpers.taggedTemplateLiteralLoose(["276011730207"]);sb=function(){return a};return a}function tb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);tb=function(){return a};return a}function ub(){var a=babelHelpers.taggedTemplateLiteralLoose(["276011730207"]);ub=function(){return a};return a}function vb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);vb=function(){return a};return a}function wb(){var a=babelHelpers.taggedTemplateLiteralLoose(["134217727"]);wb=function(){return a};return a}function xb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1059464780460616003"]);xb=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(yb){return a.seq([function(b){return a.nop(10,c(xb()))},function(g){return a.seq([function(b){return b=[a.createArray()],d[0]=b[0],b,a.sp("4").then(function(a){return a=a,d[1]=a[0],a})},function(b){return a.db.table(14).openCursor().filter(function(b){return a.i64.neq(b.b,d[1])&&a.i64.eq(b.a,f[0])}).forEach(function(b){var c=b.item;return a.seq([function(b){return a.sp("162",c.b,f[0]).then(function(a){return a=a,d[12]=a[0],a})},function(a){return a=[(d[0].push(d[12]),d[0])],d[13]=a[0],a}])})},function(e){return d[2]=c(wb()),e=[a.i64.of_int32(d[0].length)],d[3]=e[0],e,a.i64.gt(d[3],c(vb()))?a.loopAsync(d[3],function(b){return d[12]=b,a.seq([function(b){return a.ntop("Array",3,d[0],d[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(b){return d[2]=a.i64.and_(d[13],d[2])}])}):b("Promise").resolve()},function(b){return b=[a.i64.of_int32(d[0].length)],d[4]=b[0],b,a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(ub()),c(tb())],d[5]=e[0],d[6]=e[1],e):(b=a.item,e=[c(sb()),b.c],d[5]=e[0],d[6]=e[1],e)})},function(e){return d[8]=a.i64.lsl_(c(rb()),a.i64.to_int32(c(qb()))),e=[a.createArray()],d[9]=e[0],e,e=[(d[9].push(a.i64.eq(c(pb()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(ob()),a.i64.to_int32(c(nb()))),d[2]),c(mb()))?a.i64.lsl_(c(lb()),a.i64.to_int32(c(kb()))):c(jb())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(ib()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(hb()),a.i64.to_int32(c(gb()))),d[2]),c(fb()))?a.i64.lsl_(c(eb()),a.i64.to_int32(c(db()))):c(cb())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(bb()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(ab()),a.i64.to_int32(c($a()))),d[2]),c(Za()))?a.i64.lsl_(c(Ya()),a.i64.to_int32(c(Xa()))):c(Wa())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(Va()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(Ua()),a.i64.to_int32(c(Ta()))),d[2]),c(Sa()))?a.i64.lsl_(c(Ra()),a.i64.to_int32(c(Qa()))):c(Pa())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(Oa()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(Na()),a.i64.to_int32(c(Ma()))),d[2]),c(La()))?a.i64.lsl_(c(Ka()),a.i64.to_int32(c(Ja()))):c(Ia())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(Ha()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(Ga()),a.i64.to_int32(c(Fa()))),d[2]),c(Ea()))?a.i64.lsl_(c(Da()),a.i64.to_int32(c(Ca()))):c(Ba())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(Aa()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(za()),a.i64.to_int32(c(ya()))),d[2]),c(xa()))?a.i64.lsl_(c(wa()),a.i64.to_int32(c(va()))):c(ua())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(ta()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(sa()),a.i64.to_int32(c(ra()))),d[2]),c(qa()))?a.i64.lsl_(c(pa()),a.i64.to_int32(c(oa()))):c(na())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(ma()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(la()),a.i64.to_int32(c(ka()))),d[2]),c(ja()))?a.i64.lsl_(c(ia()),a.i64.to_int32(c(ha()))):c(ga())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(fa()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(ea()),a.i64.to_int32(c(da()))),d[2]),c(ca()))?a.i64.lsl_(c(ba()),a.i64.to_int32(c(aa()))):c($())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(Z()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(Y()),a.i64.to_int32(c(X()))),d[2]),c(W()))?a.i64.lsl_(c(V()),a.i64.to_int32(c(U()))):c(T())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(S()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(R()),a.i64.to_int32(c(Q()))),d[2]),c(P()))?a.i64.lsl_(c(O()),a.i64.to_int32(c(N()))):c(M())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(L()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(K()),a.i64.to_int32(c(J()))),d[2]),c(I()))?a.i64.lsl_(c(H()),a.i64.to_int32(c(G()))):c(F())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(E()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(D()),a.i64.to_int32(c(C()))),d[2]),c(B()))?a.i64.lsl_(c(A()),a.i64.to_int32(c(z()))):c(y())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(void 0,void 0)||a.i64.neq(a.i64.and_(c(x()),d[2]),c(w()))?a.i64.lsl_(c(v()),a.i64.to_int32(c(u()))):c(t())),d[9])],d[12]=e[0],e,e=[(d[9].push(a.i64.eq(c(s()),void 0)||a.i64.neq(a.i64.and_(a.i64.lsl_(c(r()),a.i64.to_int32(c(q()))),d[2]),c(p()))?a.i64.lsl_(c(o()),a.i64.to_int32(c(n()))):c(m())),d[9])],d[12]=e[0],e,d[10]=c(l()),e=[a.i64.of_int32(d[9].length)],d[11]=e[0],e,a.i64.gt(d[11],c(k()))?a.loopAsync(d[11],function(b){return d[12]=b,a.seq([function(b){return a.ntop("Array",3,d[9],d[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(b){return d[10]=a.i64.add(d[13],d[10])}])}):b("Promise").resolve()},function(b){return b=[a.i64.and_(d[10],a.i64.eq(d[6],c(j()))?a.i64.eq(d[4],c(i())):a.i64.eq(a.i64.and_(d[5],d[8]),c(h()))?d[5]:a.i64.sub(d[5],d[8]))],e[0]=b[0],b}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxComputeParticipantCapabilitiesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4149949271638171263"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["21"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["22"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["2612119"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["2612119"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["134217727"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["134217727"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["4149949271638171263"]);F=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(F()))},function(b){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(14).getArr([[[f[1],d[0]]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(c(E()),c(D()))&&a.i64.eq(b.b,d[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[1]=c[0],c):(b=a.item,c=[b.f],d[1]=c[0],c)})},function(b){return a.db.table(14).getArr([[[f[1],f[0]]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(c(C()),c(B()))&&a.i64.eq(b.b,f[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[3]=c[0],c):(b=a.item,c=[b.f],d[3]=c[0],c)})},function(b){return a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(A()),c(z()))}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(y()),c(x()),!1],d[5]=e[0],d[6]=e[1],d[7]=e[2],e):(b=a.item,e=[b.G==null?c(w()):b.G,b.r==null?c(v()):b.r,b.m==null?!1:b.m],d[5]=e[0],d[6]=e[1],d[7]=e[2],e)})},function(b){return d[9]=a.i64.eq(d[6],c(u()))?d[7]?c(t()):a.i64.or_(c(s()),a.i64.lsl_(c(r()),a.i64.to_int32(c(q())))):d[5],d[10]=a.i64.lsl_(c(p()),a.i64.to_int32(c(o()))),d[11]=d[1]===!0?d[3]===!1:a.i64.eq(a.i64.and_(d[9],d[10]),c(n()))?d[9]:a.i64.sub(d[9],d[10]),d[12]=a.i64.lsl_(c(m()),a.i64.to_int32(c(l()))),d[13]=d[1]===!0?d[3]===!0:a.i64.eq(a.i64.and_(d[11],d[12]),c(k()))?d[11]:a.i64.sub(d[11],d[12]),d[14]=a.i64.lsl_(c(j()),a.i64.to_int32(c(i()))),b=[d[1]===!0?d[13]:a.i64.eq(a.i64.and_(d[13],d[14]),c(h()))?d[13]:a.i64.sub(d[13],d[14])],e[0]=b[0],b}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateCtaAccountLinkEncodedUrlStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7237436725879962831"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["69"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["7237436725879962831"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("message_id",f[0])],d[2]=b[0],b,b=[d[0].set("cta_id",f[1])],d[3]=b[0],b,b=[d[0].set("cta_index",f[2])],d[4]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","account_link_encoded_url_create",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateCtaAccountLinkEncodedUrlV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6102031440938807081"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["79"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6102031440938807081"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("action_url",f[1])],d[3]=b[0],b,b=[d[0].set("cta_id",f[2])],d[4]=b[0],b,b=[d[0].set("attachment_fbid",f[3])],d[5]=b[0],b,b=[d[0].set("attachment_index",f[4])],d[6]=b[0],b,b=[d[0].set("message_id",f[5])],d[7]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","account_link_encoded_url_create_v2",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateGroupThreadWithAdminTextStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3893967057939444608"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["130"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["3893967057939444608"]);m=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(m()))},function(b){return a.seq([function(b){return a.sp("168",f[0],f[1],f[2]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.sp("154",a.i64.of_float(Date.now())).then(function(a){return a=a,d[1]=a[0],a})},function(b){return a.db.table(9).getArr([[d[0]]]).filter(function(b){return a.i64.eq(b.a,d[0])}).forEach(function(b){var c=b.update;b.item;return c({S:a.i64.to_string(d[1])})})},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_id",d[0])],d[9]=b[0],b,b=[d[2].set("otid",a.i64.to_string(d[1]))],d[10]=b[0],b,b=[d[2].set("source",c(l()))],d[11]=b[0],b,b=[d[2].set("send_type",c(k()))],d[12]=b[0],b,b=[new a.Map()],d[3]=b[0],b,b=[d[3].set("participants",f[0])],d[9]=b[0],b,b=[d[3].set("send_payload",d[2])],d[10]=b[0],b,f[2]!==void 0?(b=[d[3].set("thread_name",f[2])],d[9]=b[0],b):0,b=[d[3].get("send_payload"),d[3]],d[4]=b[0],d[5]=b[1],b,b=[d[4].get("thread_id"),d[4]],d[6]=b[0],d[7]=b[1],b,b=[a.toJSON(d[3])],d[8]=b[0],b,a.sp("1",a.i64.to_string(d[6]),c(j()),d[8],void 0,void 0,c(i()),c(h()))},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateMeetingPlanStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4849306028425654095"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["196"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4849306028425654095"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("meeting_time",f[1])],d[3]=b[0],b,b=[d[0].set("location",f[2])],d[4]=b[0],b,b=[d[0].set("notes",f[3])],d[5]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","marketplace_create_meeting_plan",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateOfflineThreadingIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2606821616992767876"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["9223372036854775807"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4194303"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["22"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2606821616992767876"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return b=[a.i64.and_(a.i64.or_(a.i64.lsl_(e[0],a.i64.to_int32(c(j()))),a.i64.and_(a.i64.random(),c(i()))),c(h()))],d[0]=b[0],b,a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteAllReactionsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5598815958731415105"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5598815958731415105"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(8).openCursor().filter(function(b){return a.i64.eq(b.a,e[0])&&b.c===e[1]}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteCTAsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2320235105737398140"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2320235105737398140"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(16).getArr([[[e[1],e[0],e[2]]]]).filter(function(b){return a.i64.eq(b.a,e[1])&&b.c===e[0]&&b.e===e[2]}).forEach(function(a){var b=a.update;a.item;return b({r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteExpiredMSuggestionsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7788217427059522053"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7788217427059522053"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(21).openCursor().filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.lt(b.f,a.i64.of_float(Date.now()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteFocusModeCtaStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1348175844872988207"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1348175844872988207"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(30).getArr([[[e[0],e[1],e[2]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&b.b===e[1]&&a.i64.eq(b.c,e[2])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteMessageRequestStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3560004697461918282"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3560004697461918282"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(34).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8244122636770375884"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8244122636770375884"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(12).openCursor().filter(function(b){return b.e===e[1]&&a.i64.eq(b.a,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeletePollAttachmentStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["488885118981581764"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["488885118981581764"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(38).getArr([[e[2]]]).filter(function(b){return a.i64.eq(b.a,e[2])&&a.i64.eq(b.b,e[0])}).next().then(function(b,d){var f=b.done;b=b.value;return f?a.db.table(16).openCursor().filter(function(b){return a.i64.eq(b.a,e[0])&&b.e===e[1]}).forEach(function(a){return a["delete"]()}):(d=b.item,a.db.table(16).getArr([[[e[0],d.c,e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(k()),c(j()))&&b.c===d.c&&a.i64.eq(c(i()),c(h()))&&b.e===e[1]}).forEach(function(a){return a["delete"]()}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeletePollDataStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5325315437023662948"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5325315437023662948"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(38).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteReactionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1461194400516639864"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1461194400516639864"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(8).getArr([[[e[0],e[1],e[2]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&b.c===e[1]&&a.i64.eq(b.d,e[2])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteRtcMultiwayCallInitiationConferenceNameStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3366202483639126979"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3366202483639126979"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(24).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteRtcOngoingCallDataStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5695143466100441282"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5695143466100441282"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(23).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertAdminApprovalRequestStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7367653997358459627"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["7367653997358459627"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(26).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[1])&&a.i64.gt(b.d,e[3])}).next().then(function(b){var c=b.done;b.value;return c?a.db.table(26).put({a:e[0],b:e[1],d:e[3],c:e[2]}):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertAttachmentStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7611851855672684883"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["7611851855672684883"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(16).getArr([[[e[0],e[3],e[6]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),e[1])&&b.c===e[3]&&a.i64.eq(c(h()),e[4])&&b.e===e[6]&&a.i64.gt(b.bU,e[109])}).next().then(function(b){var c=b.done;b.value;return c?a.db.table(16).put({a:e[0],c:e[3],e:e[6],b:e[2],d:e[5],f:e[7],g:e[8],h:e[10],i:e[11],j:e[13],k:e[14],l:e[15],m:e[17],n:e[19],o:e[20],p:e[21],q:e[22],r:e[24],s:e[25],t:e[26],u:e[28],v:e[29],w:e[30],x:e[32],y:e[33],z:e[34],A:e[35],B:e[36],C:e[37],D:e[38],F:e[40],G:e[41],H:e[42],I:e[43],J:e[45],K:e[46],L:e[47],M:e[48],N:e[49],O:e[50],Q:e[52],R:e[53],S:e[54],T:e[55],U:e[56],V:e[57],W:e[58],X:e[60],Y:e[61],Z:e[62],ba:e[63],bb:e[64],bc:e[65],bd:e[66],be:e[67],bf:e[68],bg:e[69],bh:e[70],bi:e[72],bU:e[109],E:e[39],P:e[51],bj:e[73],bk:e[74],bl:e[75],bm:e[76],bn:e[77],bo:e[78],bp:e[79],bq:e[80],br:e[81],bs:e[82],bt:e[83],bv:e[84],bw:e[85],bx:e[86],by:e[87],bz:e[88],bA:e[89],bC:e[90],bD:e[91],bE:e[92],bF:e[93],bG:e[94],bH:e[95],bJ:e[96],bK:e[97],bL:e[98],bM:e[99],bN:e[100],bO:e[101],bP:e[102],bQ:e[103],bR:e[104],bS:e[105],bT:e[106]}):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertFocusModeCtaStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5552575404510225741"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5552575404510225741"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.sp("76").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(30).put({a:f[0],b:f[1],c:d[0],e:f[3],d:f[2],f:f[4],g:"focus_mode_exit",h:f[6]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertLinkedAccountBadgeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6987048472535475450"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6987048472535475450"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertMessageRequestStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4913211303496554502"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4913211303496554502"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(34).put({a:e[0],b:e[2]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3069495610480938632"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3069495610480938632"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(d){return a.seq([function(b){return a.nop(10,c(h()))},function(c){return a.db.table(12).getArr([[e[6]],"optimistic"]).filter(function(a){return a.f===e[6]}).next().then(function(c,d){var f=c.done;c=c.value;return f?a.db.table(12).add({a:e[0],b:e[2],e:e[5],f:e[6],c:e[3],d:e[4],g:e[7],h:e[8],i:e[9],j:e[10],k:e[12],l:e[13],m:e[14],n:e[16],o:e[17],p:e[18],q:e[19],r:e[20],s:e[21],t:e[22],u:e[23],v:e[24],w:e[25],x:e[26],y:e[27],z:e[28],A:e[30],B:e[31],C:e[32],D:e[33],E:e[34],F:e[35],G:e[36],H:e[37],I:e[38],J:e[39],K:e[40],L:e[41],M:e[42],N:e[43],O:e[44],P:e[45],Q:e[46],R:e[47],S:e[48],T:e[49],U:e[50],V:e[52]}):(d=c.item,a.i64.le(d.V,e[52])?a.db.table(12).put({a:e[0],b:e[2],e:e[5],f:e[6],c:d.c,d:d.d,g:e[7],h:e[8],i:e[9],j:e[10],k:e[12],l:e[13],m:e[14],n:e[16],o:e[17],p:e[18],q:e[19],r:e[20],s:e[21],t:e[22],u:e[23],v:e[24],w:e[25],x:e[26],y:e[27],z:e[28],A:e[30],B:e[31],C:e[32],D:e[33],E:e[34],F:e[35],G:e[36],H:e[37],I:e[38],J:e[39],K:e[40],L:e[41],M:e[42],N:e[43],O:e[44],P:e[45],Q:e[46],R:e[47],S:e[48],T:e[49],U:e[50],V:e[52]}):b("Promise").resolve())})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2275647257772559518"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2275647257772559518"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.gt(b.Z,e[59])}).next().then(function(b){var c=b.done;b.value;return c?a.db.table(9).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],i:e[8],j:e[9],k:e[10],l:e[11],m:e[12],n:e[13],o:e[14],t:e[21],u:e[23],v:e[24],w:e[25],x:e[26],y:e[27],z:e[28],A:e[29],B:e[30],C:e[31],D:e[32],E:e[33],H:e[36],I:e[37],J:e[38],K:e[39],L:e[40],M:e[41],N:e[42],O:e[43],P:e[44],Q:e[45],Z:e[59],p:e[17],q:e[18],r:e[19],s:e[20],F:e[34],G:e[35],R:e[46],S:e[47],T:e[48],U:e[49],V:e[50],W:e[51],X:e[52],Y:e[53]}):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2778137949860499209"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2778137949860499209"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("105",f[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.A,d[0])}).count().then(function(a){return d[1]=a})},function(b){return f[1]&&a.i64.neq(d[0],c(i()))&&a.i64.eq(d[1],c(h()))?a.db.table(9).getArr([[f[0],d[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])||a.i64.eq(b.a,d[0])}).forEach(function(a){return a["delete"]()}):a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){return a["delete"]()})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxFetchMultiwayConferenceNameStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2177135129298935238"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2177135129298935238"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("group_thread_id",f[0])],d[2]=b[0],b,b=[d[0].set("peer_id",f[1])],d[3]=b[0],b,b=[d[0].set("is_video_call",f[2])],d[4]=b[0],b,b=[d[0].set("call_trigger",f[3])],d[5]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","rtc_fetch_multiway_conference_name",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetAttachmentFbidWithOriginalFileHashStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9023387915425480161"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["9023387915425480161"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return a.db.table(16).openCursor().filter(function(b){return b.bJ===f[0]&&a.i64.eq(b.bU,c(h()))}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[0]=c[0],c):(b=a.item,c=[b.e],d[0]=c[0],c)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["162410568533288207"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["162410568533288207"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(27).openCursor().sortBy([["c","DESC",a.i64.compare]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[c(i())],d[0]=f[0],f):(e=b.item,f=[a.i64.add(e.c,c(h()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8157946021023158124"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8157946021023158124"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(19).openCursor().sortBy([["a","DESC",a.i64.compare]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[c(i())],d[0]=f[0],f):(e=b.item,f=[a.i64.add(e.a,c(h()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableFocusModeCTAIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2569797007668984806"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2569797007668984806"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(30).openCursor().sortBy([["c","DESC",a.i64.compare]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[c(i())],d[0]=f[0],f):(e=b.item,f=[a.i64.add(e.c,c(h()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8864310309557136786"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8864310309557136786"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(20).openCursor().sortBy([["c","DESC",a.i64.compare]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[c(i())],d[0]=f[0],f):(e=b.item,f=[a.i64.add(e.c,c(h()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableThreadNullstateCTAIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["262983830768155221"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["262983830768155221"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(29).openCursor().sortBy([["a","DESC",a.i64.compare]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[c(i())],d[0]=f[0],f):(e=b.item,f=[a.i64.add(e.a,c(h()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetParentThreadKeyStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8342874598852893757"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8342874598852893757"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(h())],d[0]=e[0],e):(b=a.item,e=[b.A],d[0]=e[0],e)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetThreadAttributionInfoStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2127842011881079139"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2127842011881079139"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(31).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(i()),void 0,void 0],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(b=a.item,e=[b.e==null?c(h()):b.e,b.g,b.h],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(a){return a=[d[0],d[1],d[2]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxHandlePlaceholderPollDataStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5477981548199940764"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5477981548199940764"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(38).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).next().then(function(b,d){var f=b.done;b=b.value;return f?0:(d=b.item,a.db.table(38).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.gt(b.f,c(i()))}).next().then(function(f){var b=f.done;f.value;return b?a.db.table(38).put({a:e[0],f:c(h()),b:d.b,c:d.c,d:d.d,e:d.e}):0}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxHandleRepliesOnUnsendStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3848476033553634509"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["74"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["3848476033553634509"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return b=[a.createArray()],d[0]=b[0],b,a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&b.r===f[1]}).forEach(function(a){a=a.item;return a=[(d[0].push(a.e),d[0])],d[2]=a[0],a})},function(e){return e=[a.i64.of_int32(d[0].length)],d[1]=e[0],e,(a.i64.eq(d[1],c(j()))?!0:!1)?b("Promise").resolve():(e=[new a.Map()],d[2]=e[0],e,e=[d[2].set("thread_key",f[0])],d[4]=e[0],e,e=[d[2].set("message_id",f[1])],d[5]=e[0],e,e=[d[2].set("reply_message_ids",d[0])],d[6]=e[0],e,e=[a.toJSON(d[2])],d[3]=e[0],e,a.sp("1","update_replies_on_unsend",c(i()),d[3],void 0,void 0,c(h()),void 0))}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxInsertAttachmentItemStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5028623972416022208"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5028623972416022208"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(18).add({a:e[0],b:e[1],c:e[2],d:e[4],e:e[7],f:e[8],g:e[9],h:e[12],i:e[13],j:e[14],k:e[15],m:e[17],n:e[18],o:e[19],p:e[20],q:e[21],r:e[22],s:e[23],t:e[24],u:e[25],v:e[26],w:e[28],x:e[29],y:e[30],z:e[32],A:e[34],B:e[35],C:e[36],D:e[38],E:e[39],F:e[40],G:e[42],H:e[43],I:e[44],J:e[45],K:e[46],L:e[47],l:e[16]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertAttachmentStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6315212076458530748"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6315212076458530748"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(16).getArr([[[e[0],e[3],e[6]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),e[1])&&b.c===e[3]&&a.i64.eq(c(h()),e[4])&&b.e===e[6]&&a.i64.lt(b.bU,e[109])}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(16).add({a:e[0],c:e[3],e:e[6],b:e[2],d:e[5],f:e[7],g:e[8],h:e[10],i:e[11],j:e[13],k:e[14],l:e[15],m:e[17],n:e[19],o:e[20],p:e[21],q:e[22],r:e[24],s:e[25],t:e[26],u:e[28],v:e[29],w:e[30],x:e[32],y:e[33],z:e[34],A:e[35],B:e[36],C:e[37],D:e[38],F:e[40],G:e[41],H:e[42],I:e[43],J:e[45],K:e[46],L:e[47],M:e[48],N:e[49],O:e[50],Q:e[52],R:e[53],S:e[54],T:e[55],U:e[56],V:e[57],W:e[58],X:e[60],Y:e[61],Z:e[62],ba:e[63],bb:e[64],bc:e[65],bd:e[66],be:e[67],bf:e[68],bg:e[69],bh:e[70],bi:e[72],bU:e[109],E:e[39],P:e[51],bj:e[73],bk:e[74],bl:e[75],bm:e[76],bn:e[77],bo:e[78],bp:e[79],bq:e[80],br:e[81],bs:e[82],bt:e[83],bv:e[84],bw:e[85],bx:e[86],by:e[87],bz:e[88],bA:e[89],bC:e[90],bD:e[91],bE:e[92],bF:e[93],bG:e[94],bH:e[95],bJ:e[96],bK:e[97],bL:e[98],bM:e[99],bN:e[100],bO:e[101],bP:e[102],bQ:e[103],bR:e[104],bS:e[105],bT:e[106]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertCtaStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4457856315953337472"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4457856315953337472"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(15).add({a:e[0],b:e[1],c:e[3],d:e[4],e:e[5]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertIntoAdminApprovalQueueStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3706102210805470063"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["3706102210805470063"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.seq([function(b){return a.db.table(26).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(k()),c(j()))&&a.i64.eq(b.b,e[1])&&a.i64.lt(b.d,c(i()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(26).add({a:e[0],b:e[1],d:c(h()),c:e[2]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6463377555038233225"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["6463377555038233225"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.i64.eq(f[52],c(h()))?a.db.table(12).add({a:f[0],b:f[2],e:f[5],f:f[6],c:f[3],d:f[4],g:f[7],h:f[8],i:f[9],j:f[10],k:f[12],l:f[13],m:f[14],n:f[16],o:f[17],p:f[18],r:f[20],s:f[21],u:f[23],v:f[24],w:f[25],x:f[26],y:f[27],z:f[28],A:f[30],B:f[31],C:f[32],D:f[33],E:f[34],F:f[35],G:f[36],H:f[37],I:f[38],J:f[39],K:f[40],L:f[41],M:f[42],N:f[43],O:f[44],P:f[45],Q:f[46],R:f[47],S:f[48],T:f[49],V:f[52],q:f[19],t:f[22],U:f[50]}):a.seq([function(b){return a.db.table(12).getArr([[f[6]],"optimistic"]).filter(function(a){return a.f===f[6]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f[3],f[4]],d[1]=c[0],d[2]=c[1],c):(b=a.item,c=[b.c,b.d],d[1]=c[0],d[2]=c[1],c)})},function(b){return a.db.table(12).getArr([[f[6]],"optimistic"]).filter(function(b){return b.f===f[6]&&a.i64.lt(b.V,f[52])}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(12).add({a:f[0],b:f[2],e:f[5],f:f[6],c:d[1],d:d[2],g:f[7],h:f[8],i:f[9],j:f[10],k:f[12],l:f[13],m:f[14],n:f[16],o:f[17],p:f[18],r:f[20],s:f[21],u:f[23],v:f[24],w:f[25],x:f[26],y:f[27],z:f[28],A:f[30],B:f[31],C:f[32],D:f[33],E:f[34],F:f[35],G:f[36],H:f[37],I:f[38],J:f[39],K:f[40],L:f[41],M:f[42],N:f[43],O:f[44],P:f[45],Q:f[46],R:f[47],S:f[48],T:f[49],V:f[52],q:f[19],t:f[22],U:f[50]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxInsertNewMessageRangeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7082282369694001792"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7082282369694001792"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.sp("47",f[0],f[9])},function(b){return a.db.table(13).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.le(b.b,f[5])&&a.i64.ge(b.d,f[5])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f[1],f[3],f[7]],d[0]=c[0],d[1]=c[1],d[2]=c[2],c):(b=a.item,c=[b.b,b.c,b.h],d[0]=c[0],d[1]=c[1],d[2]=c[2],c)})},function(b){return a.db.table(13).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.le(b.b,f[6])&&a.i64.ge(b.d,f[6])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f[2],f[4],f[8]],d[4]=c[0],d[5]=c[1],d[6]=c[2],c):(b=a.item,c=[b.d,b.e,b.i],d[4]=c[0],d[5]=c[1],d[6]=c[2],c)})},function(b){return a.db.table(13).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.ge(f[6],b.b)&&a.i64.le(f[5],b.d)}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(13).put({a:f[0],b:d[0],c:d[1],d:d[4],e:d[5],f:!1,g:!1,h:d[2],i:d[6]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxInsertOptimisticAttachmentStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7211400496674666504"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["7211400496674666504"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(o()))},function(b){return a.seq([function(b){return a.db.table(16).getArr([[[e[0],e[2],e[4]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(n()),c(m()))&&b.c===e[2]&&a.i64.eq(c(l()),c(k()))&&b.e===e[4]&&a.i64.lt(b.bU,c(j()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(16).add({a:e[0],c:e[2],e:e[4],b:e[1],d:e[3],f:e[5],h:e[6],X:e[7],j:e[8],k:!1,l:e[9],bU:c(i())})},function(b){return a.sp("90",e[0],e[2],e[1],void 0,!1,a.i64.eq(e[5],c(h())))}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertOrUpdateInThreadBannerOnUnsendStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5028015454923557995"]);g=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["5"]);a=function(){return b};return b}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5028015454923557995"]);h=function(){return a};return a}c=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(d){return a.seq([function(b){return a.nop(10,c(h()))},function(a){return b("Promise").resolve()},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=c}),null);
__d("LSMailboxInsertRtcSignalStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1858019144165151111"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1858019144165151111"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(22).add({a:e[0],b:e[1],c:e[2]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxIssueAttachmentsRangeQueryStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3942017648560239140"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["105"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["105"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["9999999999999"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["3942017648560239140"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(n()))},function(e){return a.seq([function(b){return a.sp("16",c(m())).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a.db.table(17).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,f[1])}).next().then(function(e,g){var m=e.done;e=e.value;return m?(m=[new a.Map()],d[2]=m[0],m,m=[d[2].set("thread_key",f[0])],d[4]=m[0],m,m=[d[2].set("media_group",f[1])],d[5]=m[0],m,m=[d[2].set("max_timestamp_ms",c(l()))],d[6]=m[0],m,m=[d[2].set("cursor",d[0])],d[7]=m[0],m,m=[a.toJSON(d[2])],d[3]=m[0],m,a.sp("1","arq",c(k()),d[3],void 0,void 0,c(j()),void 0)):(g=e.item,g.g?(m=[new a.Map()],d[2]=m[0],m,e=[d[2].set("thread_key",f[0])],d[4]=e[0],e,m=[d[2].set("media_group",f[1])],d[5]=m[0],m,e=[d[2].set("max_timestamp_ms",g.c)],d[6]=e[0],e,m=[d[2].set("cursor",d[0])],d[7]=m[0],m,g=[a.toJSON(d[2])],d[3]=g[0],g,a.sp("1","arq",c(i()),d[3],void 0,void 0,c(h()),void 0)):b("Promise").resolve())})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssueParticipantPointQueryStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5561492703013955773"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["17"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["5561492703013955773"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("table","14")],d[1]=b[0],b,b=[d[0].set("type",c(k()))],d[2]=b[0],b,b=[d[0].set("1",f[0])],d[3]=b[0],b,b=[d[0].set("2",f[1])],d[4]=b[0],b,b=[a.toJSON(d[0])],d[5]=b[0],b,a.sp("1","ppq",c(j()),d[5],void 0,void 0,c(i()),c(h()))},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssuePollCreationForThreadTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2323050597688764361"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["163"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2323050597688764361"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("question_text",f[0])],d[2]=b[0],b,b=[d[0].set("thread_key",f[1])],d[3]=b[0],b,b=[d[0].set("options",f[2])],d[4]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","poll_creation",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssuePollUpdateForThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2463636705420296390"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["164"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2463636705420296390"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("poll_id",f[1])],d[3]=b[0],b,b=[d[0].set("added_options",f[2])],d[4]=b[0],b,b=[d[0].set("selected_options",f[3])],d[5]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","poll_update",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssueSendAttachmentMessageTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1309541378436900355"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["46"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1309541378436900355"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(n()))},function(e){return a.seq([function(e){return e=[a.i64.of_int32(f[5].length)],d[0]=e[0],e,a.i64.gt(d[0],c(m()))?a.loopAsync(d[0],function(b){return d[7]=b,a.seq([function(b){return a.ntop("Array",3,f[5],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return a.db.table(16).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&b.c===f[3]&&a.i64.eq(b.be,d[7])&&a.i64.eq(b.bU,c(l()))}).forEach(function(b){var c=b.update;b.item;return c({e:a.i64.to_string(d[8])})})}])}):b("Promise").resolve()},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("thread_id",f[1])],d[7]=b[0],b,b=[d[1].set("otid",f[3])],d[8]=b[0],b,b=[d[1].set("text",f[4])],d[9]=b[0],b,b=[d[1].set("attachment_fbids",f[5])],d[10]=b[0],b,b=[d[1].set("send_type",c(k()))],d[11]=b[0],b,b=[d[1].set("source",f[6])],d[12]=b[0],b,d[6]=f[7]===""?void 0:f[7],d[6]!==void 0?a.i64.neq(f[8],void 0)?(b=[new a.Map()],d[7]=b[0],b,b=[d[7].set("reply_source_id",d[6])],d[9]=b[0],b,b=[d[7].set("reply_source_type",f[8])],d[10]=b[0],b,b=[d[1].set("reply_metadata",d[7])],d[8]=b[0],b):0:0,b=[d[1].get("thread_id"),d[1]],d[2]=b[0],d[3]=b[1],b,b=[a.toJSON(d[1])],d[4]=b[0],b,a.sp("2",a.i64.to_string(d[2]),c(j()),d[4],void 0,void 0,c(i()),void 0).then(function(a){return a=a,d[5]=a[0],a})},function(b){return a.db.table(31).add({a:d[5],b:f[1],c:f[3],e:f[6],i:f[7],j:f[8],k:c(h()),l:!1})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssueSetThreadImageTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4491069468177781886"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["37"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4491069468177781886"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("image_id",f[1])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","thread_image",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2370300234145525864"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["2370300234145525864"]);w=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(x){return a.seq([function(b){return a.nop(10,c(w()))},function(g){return a.seq([function(b){return a.sp("154",a.i64.of_float(Date.now())).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.sp("4").then(function(a){return a=a,d[1]=a[0],a})},function(b){return a.db.table(9).getArr([[d[0]]]).filter(function(b){return a.i64.eq(b.a,d[0])&&a.i64.lt(b.Z,c(v()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(9).add({a:d[0],b:c(u()),c:c(t()),O:d[0],e:"inbox",A:c(s()),i:c(r()),j:c(q()),I:!1,o:d[1],u:c(p()),Z:c(o()),B:f[1],d:f[2]})},function(e){return e=[a.i64.of_int32(f[0].length)],d[2]=e[0],e,a.i64.gt(d[2],c(n()))?a.loopAsync(d[2],function(b){return d[3]=b,a.seq([function(b){return a.ntop("Array",3,f[0],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return a.db.table(14).getArr([[[d[0],d[4]]]]).filter(function(b){return a.i64.eq(b.a,d[0])&&a.i64.eq(c(m()),c(l()))&&a.i64.eq(b.b,d[4])&&a.i64.lt(b.j,c(k()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(14).add({a:d[0],b:d[4],c:c(j()),d:c(i()),j:c(h())})}])}):b("Promise").resolve()},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5207206958716671212"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["40"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["40"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["40"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["5207206958716671212"]);U=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(V){return a.seq([function(b){return a.nop(10,c(U()))},function(g){return a.seq([function(b){return d[8]=a.i64.of_float(Date.now()),a.sp("154",d[8]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[7]=a.i64.to_string(d[0]),d[9]=f[4]==null?f[3]:f[4],a.seq([function(b){return a.db.table(9).openCursor().sortBy([["i","DESC",a.i64.compare]]).slice(0,a.i64.to_float(c(T()))).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a.i64.of_float(Date.now())],d[10]=e[0],e):(c=b.item,e=[c.i],d[10]=e[0],e)})},function(e){return d[13]=a.i64.add(d[10],c(S())),a.db.table(9).getArr([[f[1]]]).filter(function(b){return a.i64.eq(b.a,f[1])}).next().then(function(e,g){g=e.done;e=e.value;return g?a.seq([function(b){return a.log("localApplyOptimisticMessage insert optimistic thread",4),a.db.table(9).getArr([[f[1]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.lt(b.Z,c(R()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(9).add({a:f[1],b:c(Q()),c:f[2],O:f[1],e:"inbox",A:c(P()),i:d[13],j:d[13],m:d[9],I:f[5]==null?!1:f[5],o:f[0],u:c(O()),Z:c(N())})},function(d){return a.i64.eq(f[2],c(M()))||a.i64.eq(f[2],c(L()))||a.i64.eq(f[2],c(K()))?a.seq([function(b){return a.db.table(14).getArr([[[f[1],f[1]]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(c(J()),c(I()))&&a.i64.eq(b.b,f[1])&&a.i64.lt(b.j,c(H()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(14).add({a:f[1],b:f[1],c:c(G()),d:c(F()),j:c(E())})}]):b("Promise").resolve()},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[14]=c[0],c):(b=a.item,c=[b.c],d[14]=c[0],c)})},function(e){return d[14]===!0?a.sp("11",void 0,c(D()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()}]):(e.item,a.db.table(9).getArr([[f[1]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.c,f[2])}).forEach(function(a){var b=a.update;a.item;return b({i:d[13],j:d[13],m:d[9],I:f[5]==null?!1:f[5],o:f[0],p:void 0,q:void 0,r:void 0,s:void 0})}))})}])},function(e){return a.seq([function(b){return a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&(a.i64.eq(b.V,c(C()))||a.i64.eq(b.V,c(B()))||a.i64.eq(b.V,c(A())))}).sortBy([["c","DESC",a.i64.compare]]).slice(0,a.i64.to_float(c(z()))).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a.i64.of_float(Date.now())],d[10]=e[0],e):(c=b.item,e=[c.c],d[10]=e[0],e)})},function(e){return f[8]!==void 0&&(a.i64.eq(f[9],c(y()))||a.i64.eq(f[10],c(x())))?a.seq([function(b){return a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&b.e===(f[8]==null?"":f[8])}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[f[8],void 0,void 0,c(w()),void 0,void 0,void 0,void 0,void 0],d[30]=g[0],d[31]=g[1],d[32]=g[2],d[33]=g[3],d[34]=g[4],d[35]=g[5],d[36]=g[6],d[37]=g[7],d[38]=g[8],g):(e=b.item,d[43]=e.i,a.i64.neq(d[43],void 0)?(g=[d[43],c(v())],d[41]=g[0],d[42]=g[1],g):(b=[void 0,void 0],d[41]=b[0],d[42]=b[1],b),g=[f[8],f[9],f[10],c(u()),"",e.h,e.g,d[41],d[42]],d[30]=g[0],d[31]=g[1],d[32]=g[2],d[33]=g[3],d[34]=g[4],d[35]=g[5],d[36]=g[6],d[37]=g[7],d[38]=g[8],g)})},function(a){return a=[d[30],d[31],d[32],d[33],d[34],d[35],d[36],d[37],d[38]],d[13]=a[0],d[14]=a[1],d[15]=a[2],d[16]=a[3],d[17]=a[4],d[18]=a[5],d[19]=a[6],d[20]=a[7],d[21]=a[8],a}]):b("Promise").resolve((f[8]===void 0||a.i64.eq(f[9],c(t()))||a.i64.eq(f[10],c(s()))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[31]=e[0],d[32]=e[1],d[33]=e[2],d[34]=e[3],d[35]=e[4],d[36]=e[5],d[37]=e[6],d[38]=e[7],d[39]=e[8],e):(e=[f[8],f[9],f[10],c(r()),void 0,void 0,void 0,void 0,void 0],d[31]=e[0],d[32]=e[1],d[33]=e[2],d[34]=e[3],d[35]=e[4],d[36]=e[5],d[37]=e[6],d[38]=e[7],d[39]=e[8],e),e=[d[31],d[32],d[33],d[34],d[35],d[36],d[37],d[38],d[39]],d[13]=e[0],d[14]=e[1],d[15]=e[2],d[16]=e[3],d[17]=e[4],d[18]=e[5],d[19]=e[6],d[20]=e[7],d[21]=e[8],e))},function(b){return f[11]?(b=[!1],d[23]=b[0],b):(b=[!0],d[23]=b[0],b),d[23]?(b=[void 0,void 0,void 0,void 0],d[25]=b[0],d[26]=b[1],d[27]=b[2],d[28]=b[3],b):(b=[f[11].get("mention_offsets"),f[11]],d[30]=b[0],d[31]=b[1],b,b=[f[11].get("mention_lengths"),f[11]],d[32]=b[0],d[33]=b[1],b,b=[f[11].get("mention_ids"),f[11]],d[34]=b[0],d[35]=b[1],b,b=[f[11].get("mention_types"),f[11]],d[36]=b[0],d[37]=b[1],b,b=[d[30],d[32],d[34],d[36]],d[25]=b[0],d[26]=b[1],d[27]=b[2],d[28]=b[3],b),a.i64.eq(c(q()),c(p()))?a.db.table(12).add({a:f[1],e:d[7],b:d[8],f:d[7],c:d[10],d:d[8],g:f[3],h:f[0],i:f[6],U:f[7],j:!1,k:c(o()),l:c(n()),V:c(m()),r:d[13],s:d[14],t:d[15],u:d[16],v:d[17],x:d[18],w:d[19],H:d[20],G:d[21],n:d[25],o:d[26],p:d[27],q:d[28]}):a.seq([function(b){return a.db.table(12).getArr([[d[7]],"optimistic"]).filter(function(a){return a.f===d[7]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[10],d[8]],d[30]=c[0],d[31]=c[1],c):(b=a.item,c=[b.c,b.d],d[30]=c[0],d[31]=c[1],c)})},function(b){return a.db.table(12).getArr([[d[7]],"optimistic"]).filter(function(b){return b.f===d[7]&&a.i64.lt(b.V,c(l()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(12).add({a:f[1],e:d[7],b:d[8],f:d[7],c:d[30],d:d[31],g:f[3],h:f[0],i:f[6],U:f[7],j:!1,k:c(k()),l:c(j()),V:c(i()),r:d[13],s:d[14],t:d[15],u:d[16],v:d[17],x:d[18],w:d[19],H:d[20],G:d[21],n:d[25],o:d[26],p:d[27],q:d[28]})}])}])},function(e){return e=[a.createArray()],d[1]=e[0],e,e=[(d[1].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[1])],d[2]=e[0],e,e=[(d[1].push("localApplyOptimisticMessage"),d[1])],d[3]=e[0],e,e=[(d[1].push(f[1]),d[1])],d[4]=e[0],e,e=[(d[1].push(d[7]),d[1])],d[5]=e[0],e,e=[a.toJSON(d[1])],d[6]=e[0],e,a.log(d[6],4),f[12]?a.seq([function(b){return a.sp("89",f[1],d[7],d[8],a.i64.eq(f[2],c(h())))},function(b){return a.sp("90",f[1],d[7],d[8],f[3],!1,a.i64.neq(f[6],void 0))}]):b("Promise").resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3263541478881983185"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["3263541478881983185"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(q){return a.seq([function(b){return a.nop(10,c(p()))},function(g){return a.seq([function(b){return a.sp("32",f[0],f[1],f[2],f[3],f[4],f[5],f[6],void 0,f[7],f[8],f[9],void 0,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return e=[a.i64.of_int32(f[10].length)],d[2]=e[0],e,a.i64.gt(d[2],c(o()))?a.loopAsync(d[2],function(b){return d[3]=b,a.seq([function(b){return a.ntop("Array",3,f[10],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return b=[d[4].get("attachment_fbid"),d[4]],d[6]=b[0],d[7]=b[1],b,b=[d[4].get("offline_attachment_id"),d[4]],d[8]=b[0],d[9]=b[1],b,b=[d[4].get("attachment_type"),d[4]],d[10]=b[0],d[11]=b[1],b,b=[d[4].get("filename"),d[4]],d[12]=b[0],d[13]=b[1],b,b=[d[4].get("filesize"),d[4]],d[14]=b[0],d[15]=b[1],b,b=[d[4].get("attachment_index"),d[4]],d[16]=b[0],d[17]=b[1],b,b=[d[4].get("has_media"),d[4]],d[18]=b[0],d[19]=b[1],b,b=[d[4].get("has_xma"),d[4]],d[20]=b[0],d[21]=b[1],b,b=[d[4].get("playable_url"),d[4]],d[22]=b[0],d[23]=b[1],b,b=[d[4].get("playable_url_mime_type"),d[4]],d[24]=b[0],d[25]=b[1],b,b=[d[4].get("playable_duration_ms"),d[4]],d[26]=b[0],d[27]=b[1],b,b=[d[4].get("preview_url"),d[4]],d[28]=b[0],d[29]=b[1],b,b=[d[4].get("preview_url_mime_type"),d[4]],d[30]=b[0],d[31]=b[1],b,b=[d[4].get("mini_preview"),d[4]],d[32]=b[0],d[33]=b[1],b,b=[d[4].get("preview_width"),d[4]],d[34]=b[0],d[35]=b[1],b,b=[d[4].get("preview_height"),d[4]],d[36]=b[0],d[37]=b[1],b,b=[d[4].get("xma_layout_type"),d[4]],d[38]=b[0],d[39]=b[1],b,b=[d[4].get("xmas_template_type"),d[4]],d[40]=b[0],d[41]=b[1],b,b=[d[4].get("cta1_title"),d[4]],d[42]=b[0],d[43]=b[1],b,b=[d[4].get("cta2_title"),d[4]],d[44]=b[0],d[45]=b[1],b,b=[d[4].get("cta3_title"),d[4]],d[46]=b[0],d[47]=b[1],b,b=[d[4].get("image_url"),d[4]],d[48]=b[0],d[49]=b[1],b,b=[d[4].get("action_url"),d[4]],d[50]=b[0],d[51]=b[1],b,b=[d[4].get("title_text"),d[4]],d[52]=b[0],d[53]=b[1],b,b=[d[4].get("subtitle_text"),d[4]],d[54]=b[0],d[55]=b[1],b,b=[d[4].get("description_text"),d[4]],d[56]=b[0],d[57]=b[1],b,b=[d[4].get("source_text"),d[4]],d[58]=b[0],d[59]=b[1],b,b=[d[4].get("original_file_hash"),d[4]],d[60]=b[0],d[61]=b[1],b,a.db.table(16).getArr([[[f[1],d[0],d[6]]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(c(n()),c(m()))&&b.c===d[0]&&a.i64.eq(c(l()),c(k()))&&b.e===d[6]&&a.i64.gt(b.bU,c(j()))}).next().then(function(b){var e=b.done;b.value;return e?a.db.table(16).put({a:f[1],c:d[0],e:d[6],b:d[1],d:d[8],f:d[10],h:d[12],i:d[14],be:d[16],j:d[18],l:d[20],k:!1,A:d[22],D:d[24],bd:d[26],F:d[28],I:d[30],J:d[32],K:d[34],L:d[36],m:d[38],n:d[40],s:d[42],v:d[44],y:d[46],M:d[48],Q:d[50],R:d[52],S:d[54],V:d[56],W:d[58],bJ:d[60],bU:c(i())}):0})}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(f[10].length)],d[2]=e[0],e,a.i64.gt(d[2],c(h()))?a.sp("90",f[1],d[0],d[1],f[3],!1,a.i64.neq(f[6],void 0)):b("Promise").resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2938969057433751276"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["153"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2938969057433751276"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("168",f[0],f[1],void 0).then(function(a){return a=a,d[0]=a[0],a})},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("participants",f[0])],d[5]=b[0],b,b=[d[1].set("client_thread_key",d[0])],d[6]=b[0],b,b=[d[1].get("client_thread_key"),d[1]],d[2]=b[0],d[3]=b[1],b,b=[a.toJSON(d[1])],d[4]=b[0],b,a.sp("1",a.i64.to_string(d[2]),c(i()),d[4],void 0,void 0,c(h()),void 0)},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalMarkThreadReadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4205336073801058067"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4205336073801058067"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(i){return a.seq([function(b){return a.nop(10,c(h()))},function(c){return a.seq([function(c){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(c,e){var g=c.done;c=c.value;return g?(g=[a.createArray()],d[2]=g[0],g,g=[(d[2].push("ocalMarkThreadRead unable to find thread key in DB:"),d[2])],d[3]=g[0],g,g=[(d[2].push(f[0]),d[2])],d[4]=g[0],g,g=[a.toJSON(d[2])],d[5]=g[0],g,a.log(d[5],3),g=[void 0],d[0]=g[0],g):(e=c.item,a.seq([function(c){return d[6]=e.a,d[4]=e.i,d[5]=e.j,a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,d[6])}).sortBy([["b","DESC",a.i64.compare]]).next().then(function(e,f){var c=e.done;e=e.value;return c?(c=[a.createArray()],d[7]=c[0],c,c=[(d[7].push("localMarkThreadRead unable to find message with thread key in DB:"),d[7])],d[8]=c[0],c,c=[(d[7].push(d[6]),d[7])],d[9]=c[0],c,c=[a.toJSON(d[7])],d[10]=c[0],c,a.log(d[10],3),c=[void 0],d[2]=c[0],c):(f=e.item,a.seq([function(c){return d[16]=f.b,c=[a.createArray()],d[7]=c[0],c,c=[(d[7].push("localMarkThreadRead"),d[7])],d[8]=c[0],c,c=[(d[7].push("lastMessageTimestampMs"),d[7])],d[9]=c[0],c,c=[(d[7].push(d[16]),d[7])],d[10]=c[0],c,c=[(d[7].push("currentLastActivityTimestampMs"),d[7])],d[11]=c[0],c,c=[(d[7].push(d[4]),d[7])],d[12]=c[0],c,c=[(d[7].push("currentLastReadWatermarkTimestampMs"),d[7])],d[13]=c[0],c,c=[(d[7].push(d[5]),d[7])],d[14]=c[0],c,c=[a.toJSON(d[7])],d[15]=c[0],c,a.log(d[15],4),d[19]=a.i64.gt(d[16],d[4])?d[16]:d[4],a.i64.gt(d[19],d[5])?a.seq([function(b){return a.sp("48",d[6],d[19])},function(a){return a=[d[19]],d[18]=a[0],a}]):b("Promise").resolve((c=[void 0],d[18]=c[0],c))},function(a){return a=[d[18]],d[2]=a[0],a}]))})},function(a){return a=[d[2]],d[0]=a[0],a}]))})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxMarkAllThreadsReadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2876980492063209986"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2876980492063209986"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).openCursor().filter(function(b){return a.i64.lt(b.j,b.i)&&b.e===e[0]}).forEach(function(b){var c=b.item;return a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.a,c.a)}).forEach(function(a){var b=a.update;a.item;return b({j:c.i})})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkFolderSeenStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7293319845872630307"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["7293319845872630307"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(l()))},function(e){return a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.A,f[0])}).sortBy([["i","DESC",a.i64.compare]]).slice(0,a.i64.to_float(c(k()))).next().then(function(e,g){var k=e.done;e=e.value;return k?0:(g=e.item,d[0]=g.i,a.i64.gt(d[0],c(j()))?a.db.table(35).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(g,j){var e=g.done;g=g.value;return e?a.seq([function(b){return a.db.table(35).add({a:f[0],b:d[0]})},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("parent_thread_key",f[0])],d[4]=b[0],b,b=[d[2].set("last_seen_time_ms",d[0])],d[5]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("6","fire_forget",c(i()),d[3])}]):(j=g.item,a.i64.lt(j.b,d[0])?a.seq([function(b){return a.db.table(35).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({b:d[0]})})},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("parent_thread_key",f[0])],d[4]=b[0],b,b=[d[2].set("last_seen_time_ms",d[0])],d[5]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("6","fire_forget",c(h()),d[3])}]):b("Promise").resolve())}):b("Promise").resolve())})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxMarkMessageSendFailedAfterDeserializationErrorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7739547791832123450"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["7739547791832123450"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(31).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,a.db.table(12).getArr([[d.c],"optimistic"]).filter(function(a){return d.c===a.f}).forEach(function(a){var b=a.update;a.item;return b({k:c(i()),l:c(h())})}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkOptimisticMessageFailedStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6249998110955593278"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["6249998110955593278"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.db.table(12).openCursor().filter(function(b){return b.e===e[0]&&a.i64.eq(b.V,c(j()))}).forEach(function(a){var b=a.update;a.item;return b({k:c(i()),l:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkThreadReadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6279044319187074874"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6279044319187074874"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.gt(e[1],b.j)}).forEach(function(a){var b=a.update;a.item;return b({j:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkThreadUnreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9045617145449138372"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["9045617145449138372"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(j){return a.seq([function(b){return a.nop(10,c(i()))},function(g){return a.seq([function(e){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(e,g){var i=e.done;e=e.value;return i?(i=[a.createArray()],d[2]=i[0],i,i=[(d[2].push("markThreadUnread unable to find thread key in DB:"),d[2])],d[3]=i[0],i,i=[(d[2].push(f[0]),d[2])],d[4]=i[0],i,i=[a.toJSON(d[2])],d[5]=i[0],i,a.log(d[5],3),i=[void 0],d[0]=i[0],i):(g=e.item,a.seq([function(e){return d[5]=g.a,d[4]=g.i,a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])}).sortBy([["b","DESC",a.i64.compare]]).next().then(function(f,i){var e=f.done;f=f.value;return e?(e=[a.createArray()],d[6]=e[0],e,e=[(d[6].push("markThreadUnread unable to find message with thread key in DB:"),d[6])],d[7]=e[0],e,e=[(d[6].push(d[5]),d[6])],d[8]=e[0],e,e=[a.toJSON(d[6])],d[9]=e[0],e,a.log(d[9],3),e=[void 0],d[2]=e[0],e):(i=f.item,a.seq([function(e){return d[6]=i.b,d[9]=a.i64.sub(a.i64.lt(d[6],d[4])?d[6]:d[4],c(h())),a.i64.lt(d[9],g.j)?a.seq([function(b){return a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])}).forEach(function(a){var b=a.update;a.item;return b({j:d[9]})})},function(a){return a=[d[9]],d[8]=a[0],a}]):b("Promise").resolve((e=[void 0],d[8]=e[0],e))},function(a){return a=[d[8]],d[2]=a[0],a}]))})},function(a){return a=[d[2]],d[0]=a[0],a}]))})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxMessagePointQueryStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3160992391421714875"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["19"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["19"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["3160992391421714875"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(p()))},function(b){return a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&b.e===f[1]}).next().then(function(b,e){var g=b.done;b=b.value;return g?a.seq([function(b){return a.sp("71",f[0],f[2])},function(b){return a.db.table(13).add({a:f[0],b:c(o()),c:f[1],d:c(n()),e:f[1],f:!0,g:!1,h:!1,i:!1})},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("thread_key",f[0])],d[3]=b[0],b,b=[d[1].set("message_id",f[1])],d[4]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","mpq",c(m()),d[2],void 0,void 0,c(l()),void 0)}]):(e=b.item,d[1]=e.b,a.db.table(13).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.le(b.b,d[1])&&a.i64.ge(b.d,d[1])}).next().then(function(e){var b=e.done;e.value;return b?a.seq([function(b){return a.db.table(13).add({a:f[0],b:c(k()),c:f[1],d:c(j()),e:f[1],f:!0,g:!1,h:!1,i:!1})},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_key",f[0])],d[4]=b[0],b,b=[d[2].set("message_id",f[1])],d[5]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","mpq",c(i()),d[3],void 0,void 0,c(h()),void 0)}]):0}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["754568579610419273"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["754568579610419273"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({e:"inbox",A:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticAcceptMessageRequestStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2556083453009326659"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["66"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2556083453009326659"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){e=b.done;b=b.value;return e?0:(b.item,a.seq([function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({e:"inbox",A:c(j())})})},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","message_request",c(i()),d[1],void 0,void 0,c(h()),void 0)}]))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticDeleteSponsoredMessageAdStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8105576571724674277"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["51"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8105576571724674277"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("ad_client_token",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","sponsored_message_ad_hide",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticDeleteThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8446098868680215826"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["86"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["8446098868680215826"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return a.sp("55",f[0],!1)},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(e){return d[0]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_key",f[0])],d[4]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","delete_thread_v2",c(i()),d[3],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticExitFocusModeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4233005378392358686"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["150"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4233005378392358686"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","focus_mode",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticIgnoreMessageRequestStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4517559201287615111"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["65"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4517559201287615111"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.A,c(j()))&&b.e==="pending"}).next().then(function(b,e){e=b.done;b=b.value;return e?0:(b.item,a.seq([function(b){return a.sp("55",f[0],!1)},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","message_request",c(i()),d[1],void 0,void 0,c(h()),void 0)}]))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticIgnoreMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7874491185356305562"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["128"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7874491185356305562"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&b.e==="inbox"}).next().then(function(e,g){g=e.done;e=e.value;return g?0:(e.item,a.seq([function(b){return a.sp("55",f[0],!1)},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(e){return d[0]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_id",f[0])],d[4]=b[0],b,b=[d[2].set("request_id",void 0)],d[5]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","ignore_thread",c(i()),d[3],void 0,void 0,c(h()),void 0)}]))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadReadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5716595993616418729"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["21"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["5716595993616418729"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(l){return a.seq([function(b){return a.nop(10,c(k()))},function(g){return a.seq([function(b){return a.sp("74",f[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a.i64.neq(d[0],void 0)?(a.log("optimisticMarkThreadRead issuing task",4),e=[new a.Map()],d[1]=e[0],e,e=[d[1].set("thread_id",f[0])],d[3]=e[0],e,e=[d[1].set("last_read_watermark_ts",d[0]==null?c(j()):d[0])],d[4]=e[0],e,e=[a.toJSON(d[1])],d[2]=e[0],e,a.sp("1","rr",c(i()),d[2],void 0,void 0,c(h()),void 0)):b("Promise").resolve()},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadReadV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3302169635147832100"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["21"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3302169635147832100"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("48",f[0],f[1])},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_id",f[0])],d[2]=b[0],b,b=[d[0].set("last_read_watermark_ts",f[1])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","rr",c(i()),d[1],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadUnreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4539187602451361980"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["49"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4539187602451361980"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(k){return a.seq([function(b){return a.nop(10,c(j()))},function(g){return a.seq([function(b){return a.sp("92",f[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a.i64.neq(d[0],void 0)?(a.log("optimisticMarkThreadUnread issuing task",4),e=[new a.Map()],d[1]=e[0],e,e=[d[1].set("thread_key",f[0])],d[3]=e[0],e,e=[d[1].set("last_read_watermark_timestamp_ms",d[0])],d[4]=e[0],e,e=[a.toJSON(d[1])],d[2]=e[0],e,a.sp("1","rr",c(i()),d[2],void 0,void 0,c(h()),void 0)):b("Promise").resolve()},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMuteThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3895045734284807372"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["144"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["3895045734284807372"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.seq([function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({l:f[2]})})},function(b){return a.sp("2",a.i64.to_string(f[0]),c(j()),"",void 0,void 0,c(i()),c(h())).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(32).add({a:d[0],b:f[0]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2564838905436964068"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["185"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2564838905436964068"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("message_id",f[0])],d[2]=b[0],b,b=[d[0].set("thread_key",f[1])],d[3]=b[0],b,b=[d[0].set("attachment_fbid",f[2])],d[4]=b[0],b,b=[d[0].set("target_id",f[3])],d[5]=b[0],b,b=[d[0].set("action_type",f[4])],d[6]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","process_marketplace_xma_cta",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5699396598333957699"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["140"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["5699396598333957699"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(l()))},function(e){return e=[a.i64.of_int32(f[1].length)],d[0]=e[0],e,a.i64.gt(d[0],c(k()))?a.loopAsync(d[0],function(e){return d[1]=e,a.seq([function(b){return a.ntop("Array",3,f[1],d[1]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(b){return a.sp("99",f[0],d[2])},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[4]=c[0],c):(b=a.item,c=[b.c],d[4]=c[0],c)})},function(e){return d[4]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[6]=b[0],b,b=[d[6].set("thread_id",f[0])],d[8]=b[0],b,b=[d[6].set("contact_id",d[2])],d[9]=b[0],b,b=[a.toJSON(d[6])],d[7]=b[0],b,a.sp("1","remove_participant_v2",c(i()),d[7],void 0,void 0,c(h()),void 0)}])}):b("Promise").resolve()},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveThreadImageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1206197593371118094"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["37"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1206197593371118094"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&(b.f!==void 0||a.i64.neq(b.h,void 0)||b.g!==void 0)}).next().then(function(b,e){e=b.done;b=b.value;return e?0:(b.item,a.seq([function(b){return a.sp("66",f[0],void 0,void 0,void 0,!1,!1)},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("image_id",void 0)],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","thread_image",c(i()),d[1],void 0,void 0,c(h()),void 0)}]))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5133553678707207145"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["146"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["5133553678707207145"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.seq([function(b){return a.sp("55",f[0],!1)},function(b){return a.sp("2",a.i64.to_string(f[0]),c(j()),"",void 0,void 0,c(i()),c(h())).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(32).add({a:d[0],b:f[0],c:f[1]})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRespondToAdminApprovalRequestStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5048223757979012417"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["27"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["5048223757979012417"]);s=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(s()))},function(e){return a.seq([function(e){return f[2]?(e=[a.i64.of_int32(f[1].length)],d[3]=e[0],e,a.i64.gt(d[3],c(r()))?a.loopAsync(d[3],function(b){return d[4]=b,a.seq([function(b){return a.ntop("Array",3,f[1],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(b){return a.sp("40",f[0],d[5],c(q()),c(p()),c(o()),void 0,void 0,"",c(n()),c(m()),void 0)}])}):b("Promise").resolve()):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(f[1].length)],d[0]=e[0],e,a.i64.gt(d[0],c(l()))?a.loopAsync(d[0],function(b){return d[3]=b,a.seq([function(b){return a.ntop("Array",3,f[1],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return a.db.table(26).getArr([[[f[0],d[4]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(k()),c(j()))&&a.i64.eq(b.b,d[4])}).forEach(function(a){return a["delete"]()})}])}):b("Promise").resolve()},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("thread_key",f[0])],d[3]=b[0],b,b=[d[1].set("contact_ids",f[1])],d[4]=b[0],b,b=[d[1].set("accepted",f[2])],d[5]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","respond_to_admin_approval_request",c(i()),d[2],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendAttachmentForwardStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1917387283340390546"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["46"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1917387283340390546"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(o()))},function(b){return a.seq([function(b){return d[2]=f[3]===""?void 0:f[3],d[2]!==void 0?a.seq([function(b){return a.db.table(16).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&b.c===d[2]&&a.i64.eq(b.bU,c(n()))}).forEach(function(b){var c=b.update;b.item;return c({e:a.i64.to_string(f[7])})})},function(a){return a=[d[2]],d[1]=a[0],a}]):a.seq([function(b){return a.sp("32",f[0],f[1],f[2],f[4],f[5],f[6],void 0,void 0,void 0,void 0,c(m()),void 0,!0).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return a.db.table(16).openCursor().filter(function(b){return b.e===a.i64.to_string(f[7])}).next().then(function(b,e){var g=b.done;b=b.value;return g?a.sp("33",f[1],d[4],d[3],d[3],a.i64.to_string(f[7]),c(l()),void 0,void 0,!0,!1):(e=b.item,a.seq([function(b){return a.sp("33",f[1],d[4],d[3],d[3],a.i64.to_string(f[7]),e.f,e.h,e.X,!0,!1)},function(b){return a.sp("399",f[1],d[3],a.i64.to_string(f[7]),e.A,e.B,e.C,e.D,e.F,e.G,e.H,e.I,e.K,e.L)}]))})},function(a){return a=[d[3]],d[1]=a[0],a}])},function(b){return a.seq([function(b){return b=[a.createArray()],d[3]=b[0],b,b=[(d[3].push(f[7]),d[3])],d[4]=b[0],b,b=[new a.Map()],d[5]=b[0],b,b=[d[5].set("thread_id",f[1])],d[15]=b[0],b,b=[d[5].set("otid",d[1])],d[16]=b[0],b,b=[d[5].set("text",f[4])],d[17]=b[0],b,b=[d[5].set("attachment_fbids",d[3])],d[18]=b[0],b,b=[d[5].set("send_type",c(k()))],d[19]=b[0],b,b=[d[5].set("source",f[8])],d[20]=b[0],b,b=[d[5].get("thread_id"),d[5]],d[6]=b[0],d[7]=b[1],b,b=[a.toJSON(d[5])],d[8]=b[0],b,a.sp("2",a.i64.to_string(d[6]),c(j()),d[8],void 0,void 0,c(i()),void 0).then(function(a){return a=a,d[9]=a[0],a})},function(b){return a.db.table(31).add({a:d[9],b:f[1],c:d[1],e:f[8],k:c(h()),l:!1})},function(b){return b=[a.createArray()],d[10]=b[0],b,b=[(d[10].push("optimisticSendAttachmentForward"),d[10])],d[11]=b[0],b,b=[(d[10].push(f[1]),d[10])],d[12]=b[0],b,b=[(d[10].push(f[7]),d[10])],d[13]=b[0],b,b=[a.toJSON(d[10])],d[14]=b[0],b,a.log(d[14],4)}])},function(a){return a=[d[1]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendAttachmentShareForwardStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4200253998889960863"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["46"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["4200253998889960863"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(n()))},function(b){return a.seq([function(b){return a.sp("32",f[0],f[1],f[2],f[3],f[4],f[5],void 0,void 0,void 0,void 0,c(m()),void 0,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(b){return a.sp("33",f[1],d[1],d[0],d[0],f[6],c(l()),void 0,void 0,!0,!1)},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_id",f[1])],d[12]=b[0],b,b=[d[2].set("otid",d[0])],d[13]=b[0],b,b=[d[2].set("text",f[3])],d[14]=b[0],b,b=[d[2].set("forwarded_share_id",f[6])],d[15]=b[0],b,b=[d[2].set("send_type",c(k()))],d[16]=b[0],b,b=[d[2].set("source",f[7])],d[17]=b[0],b,b=[d[2].get("thread_id"),d[2]],d[3]=b[0],d[4]=b[1],b,b=[a.toJSON(d[2])],d[5]=b[0],b,a.sp("2",a.i64.to_string(d[3]),c(j()),d[5],void 0,void 0,c(i()),void 0).then(function(a){return a=a,d[6]=a[0],a})},function(b){return a.db.table(31).add({a:d[6],b:f[1],c:d[0],e:f[7],k:c(h()),l:!1})},function(b){return b=[a.createArray()],d[7]=b[0],b,b=[(d[7].push("optimisticSendAttachmentShareForward"),d[7])],d[8]=b[0],b,b=[(d[7].push(f[1]),d[7])],d[9]=b[0],b,b=[(d[7].push(f[6]),d[7])],d[10]=b[0],b,b=[a.toJSON(d[7])],d[11]=b[0],b,a.log(d[11],4),b=[d[0]],e[0]=b[0],b}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendMessageForwardStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8915876629082334615"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["46"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["8915876629082334615"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(p()))},function(b){return a.seq([function(b){return a.db.table(12).getArr([[[f[3],f[4],f[5]]]]).filter(function(b){return a.i64.eq(b.a,f[3])&&a.i64.eq(c(o()),c(n()))&&a.i64.eq(b.b,f[4])&&b.e===f[5]&&a.i64.eq(b.V,c(m()))}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[a.createArray()],d[2]=g[0],g,g=[(d[2].push("optimisticSendMessageForward msg not found"),d[2])],d[3]=g[0],g,g=[(d[2].push(f[5]),d[2])],d[4]=g[0],g,g=[a.toJSON(d[2])],d[5]=g[0],g,a.log(d[5],3),g=[""],d[0]=g[0],g):(e=b.item,a.seq([function(b){return a.sp("32",f[0],f[1],f[2],e.g,void 0,void 0,e.i,e.U,void 0,void 0,c(l()),void 0,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(b){return a.db.table(16).openCursor().filter(function(b){return a.i64.eq(b.a,e.a)&&b.c===e.e}).forEach(function(b){var c=b.item;return a.seq([function(b){return d[17]=c.e,b=[a.createArray()],d[13]=b[0],b,b=[(d[13].push(d[17]),d[13])],d[14]=b[0],b,b=[(d[13].push(d[2]),d[13])],d[15]=b[0],b,b=[a.toJSON(d[13])],d[16]=b[0],b,a.sp("33",f[1],d[3],d[2],d[17],d[16],c.f,c.h,void 0,c.j,c.l)},function(b){return a.sp("399",f[1],d[2],d[16],c.A,c.B,c.C,c.D,c.F,c.G,c.H,c.I,c.K,c.L)}])})},function(b){return b=[new a.Map()],d[4]=b[0],b,b=[d[4].set("thread_id",f[1])],d[13]=b[0],b,b=[d[4].set("otid",d[2])],d[14]=b[0],b,b=[d[4].set("forwarded_msg_id",f[5])],d[15]=b[0],b,b=[d[4].set("send_type",c(k()))],d[16]=b[0],b,b=[d[4].set("source",f[6])],d[17]=b[0],b,b=[d[4].get("thread_id"),d[4]],d[5]=b[0],d[6]=b[1],b,b=[a.toJSON(d[4])],d[7]=b[0],b,a.sp("2",a.i64.to_string(d[5]),c(j()),d[7],void 0,void 0,c(i()),void 0).then(function(a){return a=a,d[8]=a[0],a})},function(b){return a.db.table(31).add({a:d[8],b:f[1],c:d[2],d:f[5],e:f[6],k:c(h()),l:!1})},function(b){return b=[new a.Map()],d[9]=b[0],b,b=[d[9].set("optimisticSendMessageForward",f[1])],d[10]=b[0],b,b=[d[9].set("fwdMsgID",f[5])],d[11]=b[0],b,b=[a.toJSON(d[9])],d[12]=b[0],b,a.log(d[12],4),b=[d[2]],d[0]=b[0],b}]))})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3720376830157676015"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["23"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["9"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2049"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2048"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["9"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["2049"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["2048"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["46"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["369239383222810"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["369239343222814"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["369239263222822"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["227878347358915"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["3720376830157676015"]);D=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(E){return a.seq([function(b){return a.nop(10,c(D()))},function(g){return a.seq([function(b){return a.sp("32",f[0],f[1],f[2],f[4],f[5],f[6],f[7],f[8],f[14],f[15],f[16],f[17],f[19]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[15]=f[9]===""?void 0:f[9],d[15]!==void 0?a.seq([function(b){return a.sp("33",f[1],d[1],d[0],d[0],d[0],c(C()),d[15],f[10],!0,!1)},function(c){return f[20]?(c=[!1],d[17]=c[0],c):(c=[!0],d[17]=c[0],c),d[17]?b("Promise").resolve():(c=[f[20].get("playable_url"),f[20]],d[18]=c[0],d[19]=c[1],c,c=[f[20].get("playable_url_fallback"),f[20]],d[20]=c[0],d[21]=c[1],c,c=[f[20].get("playable_url_expiration_timestamp_ms"),f[20]],d[22]=c[0],d[23]=c[1],c,c=[f[20].get("playable_url_mime_type"),f[20]],d[24]=c[0],d[25]=c[1],c,c=[f[20].get("preview_url"),f[20]],d[26]=c[0],d[27]=c[1],c,c=[f[20].get("preview_url_fallback"),f[20]],d[28]=c[0],d[29]=c[1],c,c=[f[20].get("preview_url_expiration_timestamp_ms"),f[20]],d[30]=c[0],d[31]=c[1],c,c=[f[20].get("preview_url_mime_type"),f[20]],d[32]=c[0],d[33]=c[1],c,c=[f[20].get("preview_width"),f[20]],d[34]=c[0],d[35]=c[1],c,c=[f[20].get("preview_height"),f[20]],d[36]=c[0],d[37]=c[1],c,a.sp("399",f[1],d[0],d[0],d[18],d[20],d[22],d[24],d[26],d[28],d[30],d[32],d[34],d[36]))},function(a){return a=[c(B())],d[3]=a[0],a}]):a.seq([function(e){return a.i64.neq(f[7],void 0)?a.seq([function(e){return a.i64.neq(f[7],c(A()))&&a.i64.neq(f[7],c(z()))&&a.i64.neq(f[7],c(y()))&&a.i64.neq(f[7],c(x()))?a.seq([function(b){return d[20]=a.i64.to_string(f[7]),a.sp("33",f[1],d[1],d[0],a.i64.to_string(f[7]),d[20],c(w()),void 0,void 0,!0,!1)},function(c){return f[20]?(c=[!1],d[19]=c[0],c):(c=[!0],d[19]=c[0],c),d[19]?b("Promise").resolve():(c=[f[20].get("playable_url"),f[20]],d[21]=c[0],d[22]=c[1],c,c=[f[20].get("playable_url_fallback"),f[20]],d[23]=c[0],d[24]=c[1],c,c=[f[20].get("playable_url_expiration_timestamp_ms"),f[20]],d[25]=c[0],d[26]=c[1],c,c=[f[20].get("playable_url_mime_type"),f[20]],d[27]=c[0],d[28]=c[1],c,c=[f[20].get("preview_url"),f[20]],d[29]=c[0],d[30]=c[1],c,c=[f[20].get("preview_url_fallback"),f[20]],d[31]=c[0],d[32]=c[1],c,c=[f[20].get("preview_url_expiration_timestamp_ms"),f[20]],d[33]=c[0],d[34]=c[1],c,c=[f[20].get("preview_url_mime_type"),f[20]],d[35]=c[0],d[36]=c[1],c,c=[f[20].get("preview_width"),f[20]],d[37]=c[0],d[38]=c[1],c,c=[f[20].get("preview_height"),f[20]],d[39]=c[0],d[40]=c[1],c,a.sp("399",f[1],d[0],d[20],d[21],d[23],d[25],d[27],d[29],d[31],d[33],d[35],d[37],d[39]))}]):b("Promise").resolve()},function(a){return a=[c(v())],d[17]=a[0],a}]):b("Promise").resolve((e=[c(u())],d[17]=e[0],e))},function(a){return a=[d[17]],d[3]=a[0],a}])},function(b){return a.sp("2",a.i64.to_string(f[1]),c(t()),"",void 0,void 0,a.i64.eq(f[3],c(s()))||a.i64.eq(f[3],c(r()))?c(q()):void 0==null?c(p()):a.i64.eq(f[3],c(o()))||a.i64.eq(f[3],c(n()))?c(m()):void 0,c(l())).then(function(a){return a=a,d[4]=a[0],a})},function(b){return a.db.table(31).add({a:d[4],b:f[1],c:d[0],e:f[11],f:f[9],g:f[12],h:f[13],i:f[14],j:f[15],k:d[3],l:f[18]==null?!1:f[18]})},function(c){return(f[18]==null?!1:f[18])?a.sp("161",f[1],d[1]):b("Promise").resolve()},function(b){return b=[a.createArray()],d[5]=b[0],b,b=[(d[5].push("optimisticSendMessage"),d[5])],d[6]=b[0],b,b=[(d[5].push(f[1]),d[5])],d[7]=b[0],b,b=[(d[5].push(d[0]),d[5])],d[8]=b[0],b,b=[a.toJSON(d[5])],d[9]=b[0],b,a.log(d[9],4),b=[new a.Map()],d[10]=b[0],b,b=[d[10].set("offline_threading_id",d[0])],d[11]=b[0],b,b=[d[10].set("task_id",d[4])],d[12]=b[0],b,b=[d[10].set("task_queue_name",a.i64.to_string(f[1]))],d[13]=b[0],b,b=[d[10].set("task_label",a.i64.to_string(c(k())))],d[14]=b[0],b,a.nop(9,c(j()),c(i()),c(h()),d[10])},function(a){return a=[d[0]],e[0]=a[0],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendURLShareStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2133148464204659487"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["46"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2133148464204659487"]);m=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(m()))},function(b){return a.seq([function(b){return a.sp("32",f[0],f[1],f[2],f[3],f[4],f[5],void 0,void 0,void 0,void 0,void 0,void 0,!1).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(b){return a.sp("33",f[1],d[1],d[0],d[0],d[0],c(l()),f[6],void 0,!1,!0)},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_id",f[1])],d[12]=b[0],b,b=[d[2].set("otid",d[0])],d[13]=b[0],b,b=[d[2].set("text",f[3])],d[14]=b[0],b,b=[d[2].set("url",f[6])],d[15]=b[0],b,b=[d[2].set("send_type",c(k()))],d[16]=b[0],b,b=[d[2].set("source",f[7])],d[17]=b[0],b,b=[d[2].get("thread_id"),d[2]],d[3]=b[0],d[4]=b[1],b,b=[a.toJSON(d[2])],d[5]=b[0],b,a.sp("2",a.i64.to_string(d[3]),c(j()),d[5],void 0,void 0,c(i()),void 0).then(function(a){return a=a,d[6]=a[0],a})},function(b){return a.db.table(31).add({a:d[6],b:f[1],c:d[0],e:f[7],k:c(h()),l:!1})},function(b){return b=[a.createArray()],d[7]=b[0],b,b=[(d[7].push("optimisticSendURLShare"),d[7])],d[8]=b[0],b,b=[(d[7].push(f[1]),d[7])],d[9]=b[0],b,b=[(d[7].push(f[6]),d[7])],d[10]=b[0],b,b=[a.toJSON(d[7])],d[11]=b[0],b,a.log(d[11],4),b=[d[0]],e[0]=b[0],b}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSetNeedsAdminApprovalForNewParticipantStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["217485593490143218"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["217485593490143218"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("416",f[0],f[1])},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("enabled",f[1])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","set_needs_admin_approval_for_new_participant",c(i()),d[1],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUnsendMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8521393716393945279"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["33"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8521393716393945279"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("message_id",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","unsend_message",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadCustomEmojiStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4819537083995605952"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["53"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4819537083995605952"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return a.sp("136",f[0],f[1]===""?void 0:f[1],void 0)},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(e){return d[0]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_key",f[0])],d[4]=b[0],b,b=[d[2].set("custom_emoji",f[1])],d[5]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","thread_custom_emoji",c(i()),d[3],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadDescriptionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5754242095535819553"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["166"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5754242095535819553"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("177",f[0],f[1])},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("description",f[1])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","update_thread_description",c(i()),d[1],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadDisappearingModeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4176798489538723847"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["168"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4176798489538723847"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({W:f[1],X:f[1]===!0?d[0]:void 0})})},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("thread_key",f[0])],d[5]=b[0],b,b=[d[1].set("is_disappearing_mode",f[1])],d[6]=b[0],b,b=[d[1].get("thread_key"),d[1]],d[2]=b[0],d[3]=b[1],b,b=[a.toJSON(d[1])],d[4]=b[0],b,a.sp("1",a.i64.to_string(d[2]),c(i()),d[4],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadNameStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7483855966201855733"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["32"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7483855966201855733"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return a.sp("62",f[0],f[1],f[1])},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(e){return d[0]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_key",f[0])],d[6]=b[0],b,b=[d[2].set("thread_name",f[1])],d[7]=b[0],b,b=[d[2].get("thread_key"),d[2]],d[3]=b[0],d[4]=b[1],b,b=[a.toJSON(d[2])],d[5]=b[0],b,a.sp("1",a.i64.to_string(d[3]),c(i()),d[5],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadParticipantAdminStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4579678156198732586"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["25"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4579678156198732586"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(14).getArr([[[f[0],f[1]]]]).filter(function(b){return a.i64.eq(b.b,f[1])&&a.i64.eq(b.a,f[0])&&b.f===f[2]}).next().then(function(b,e){e=b.done;b=b.value;return e?a.seq([function(b){return a.sp("407",f[0],f[1],f[2])},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("thread_key",f[0])],d[3]=b[0],b,b=[d[1].set("contact_id",f[1])],d[4]=b[0],b,b=[d[1].set("is_admin",f[2])],d[5]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","admin_status",c(i()),d[2],void 0,void 0,c(h()),void 0)}]):(b.item,0)})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadParticipantNicknameStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4905573627772923557"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["44"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4905573627772923557"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return d[0]=(f[2]==null?"":f[2]).trim(),d[1]=d[0]===""?void 0:d[0],a.sp("69",f[0],f[1],d[1],d[1])},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[2]=c[0],c):(b=a.item,c=[b.c],d[2]=c[0],c)})},function(e){return d[2]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[4]=b[0],b,b=[d[4].set("thread_key",f[0])],d[6]=b[0],b,b=[d[4].set("contact_id",f[1])],d[7]=b[0],b,b=[d[4].set("nickname",d[1])],d[8]=b[0],b,b=[a.toJSON(d[4])],d[5]=b[0],b,a.sp("1","thread_participant_nickname",c(i()),d[5],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadThemeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7484299199325736258"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["43"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1545093"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7484299199325736258"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({z:f[1]})})},function(b){return a.db.table(115).openCursor().sortBy([["b","DESC",a.i64.compare]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(e){return d[0]===!0?a.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b("Promise").resolve()},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("thread_key",f[0])],d[4]=b[0],b,b=[d[2].set("theme_fbid",f[1])],d[5]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","thread_theme",c(i()),d[3],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpsertReactionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3848348461568593858"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["29"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["29"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["3848348461568593858"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.seq([function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[16]=b[0],b,b=[d[0].set("timestamp_ms",f[1])],d[17]=b[0],b,b=[d[0].set("message_id",f[2])],d[18]=b[0],b,b=[d[0].set("actor_id",f[3])],d[19]=b[0],b,b=[d[0].set("reaction",f[4])],d[20]=b[0],b,b=[a.createArray()],d[1]=b[0],b,b=[(d[1].push("reaction"),d[1])],d[2]=b[0],b,b=[d[0].get("message_id"),d[0]],d[3]=b[0],d[4]=b[1],b,b=[(d[1].push(d[3]),d[1])],d[5]=b[0],b,b=[a.toJSON(d[1])],d[6]=b[0],b,a.sp("3",d[6],c(k()))},function(b){return(f[4]===""?void 0:f[4])!==void 0?a.sp("110",f[0],f[1],f[2],f[3],f[4],c(j())):a.sp("111",f[0],f[2],f[3])},function(b){return b=[new a.Map()],d[8]=b[0],b,b=[d[8].set("thread_key",f[0])],d[16]=b[0],b,b=[d[8].set("timestamp_ms",f[1])],d[17]=b[0],b,b=[d[8].set("message_id",f[2])],d[18]=b[0],b,b=[d[8].set("actor_id",f[3])],d[19]=b[0],b,b=[d[8].set("reaction",f[4])],d[20]=b[0],b,b=[a.createArray()],d[9]=b[0],b,b=[(d[9].push("reaction"),d[9])],d[10]=b[0],b,b=[d[8].get("message_id"),d[8]],d[11]=b[0],d[12]=b[1],b,b=[(d[9].push(d[11]),d[9])],d[13]=b[0],b,b=[a.toJSON(d[9])],d[14]=b[0],b,b=[a.toJSON(d[8])],d[15]=b[0],b,a.sp("1",d[14],c(i()),d[15],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOverwriteAllThreadParticipantsAdminStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3011500350898281250"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3011500350898281250"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(14).openCursor().filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({f:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxProcessAccountUnlinkStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4143282449438525583"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["68"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4143282449438525583"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("cta_id",f[1])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","process_account_unlink",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxProcessCTAAccountUnlinkStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["330785916857961207"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["82"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["330785916857961207"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("thread_key",f[0])],d[2]=b[0],b,b=[d[0].set("attachment_fbid",f[1])],d[3]=b[0],b,b=[d[0].set("attachment_index",f[2])],d[4]=b[0],b,b=[d[0].set("message_id",f[3])],d[5]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","process_cta_account_unlink",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRefreshMediaSendThreadCapabilitiesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8469488075726307139"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1099511627777"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["-549755813889"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1099511627776"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["549755813888"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["8469488075726307139"]);t=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(t()))},function(e){return a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.Z,c(s()))}).forEach(function(e){var f=e.item;return a.seq([function(b){return d[5]=f.a,d[6]=f.P,b=[a.createArray()],d[0]=b[0],b,a.db.table(14).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])&&a.i64.eq(c(r()),c(q()))}).forEach(function(b){var e=b.item;return a.seq([function(b){return a.db.table(7).getArr([[e.b]]).filter(function(b){return a.i64.eq(b.a,e.b)&&a.i64.eq(c(p()),c(o()))}).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!1],d[7]=f[0],f):(e=b.item,f=[a.i64.eq(e.r,c(n()))],d[7]=f[0],f)})},function(a){return a=[(d[0].push(d[7]),d[0])],d[9]=a[0],a}])})},function(e){return d[1]=!1,e=[a.i64.of_int32(d[0].length)],d[2]=e[0],e,a.i64.gt(d[2],c(m()))?a.loopAsync(d[2],function(b){return d[7]=b,a.seq([function(b){return a.ntop("Array",3,d[0],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return d[1]=d[8]||d[1]}])}):b("Promise").resolve()},function(b){return d[1]&&a.i64.eq(f.c,c(l()))?(b=[a.i64.or_(a.i64.or_(d[6],c(k())),c(j()))],d[4]=b[0],b):(b=[a.i64.and_(a.i64.and_(d[6],c(i())),c(h()))],d[4]=b[0],b),a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])}).forEach(function(a){var b=a.update;a.item;return b({P:d[4]})})}])})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRemoveAllParticipantsForThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1399979208494749869"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1399979208494749869"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(14).openCursor().filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveAllRequestsFromAdminApprovalQueueStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7985669674770514279"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7985669674770514279"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(26).openCursor().filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveFromAdminApprovalQueueStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4729237459373449215"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4729237459373449215"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(26).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[1])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticGroupThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["47950270556919683"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["47950270556919683"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.Z,c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticParticipantStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2772252699680515449"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2772252699680515449"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.db.table(14).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(j()),c(i()))&&a.i64.eq(b.b,e[1])&&a.i64.eq(b.j,c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticReactionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8338709255766047195"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["8338709255766047195"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.db.table(8).getArr([[[e[0],e[1],e[2]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(j()),c(i()))&&b.c===e[1]&&a.i64.eq(b.d,e[2])&&a.i64.eq(b.f,c(h()))&&b.e===e[3]}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveParticipantFromThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6616091102386870678"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6616091102386870678"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(14).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[1])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemovePollVoteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4897985737270815485"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4897985737270815485"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(37).getArr([[[e[0],e[1],e[2]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.b,e[1])&&a.i64.eq(b.c,e[2])}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(36).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.b,e[1])}).forEach(function(a){var b=a.update;a.item;return b({e:e[3],d:e[4]})})},function(b){return a.db.table(40).getArr([[[e[1],e[0],e[2]]]]).filter(function(b){return a.i64.eq(b.b,e[0])&&a.i64.eq(b.a,e[1])&&a.i64.eq(b.c,e[2])}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(39).getArr([[[e[1],e[0]]]]).filter(function(b){return a.i64.eq(b.b,e[0])&&a.i64.eq(b.a,e[1])}).forEach(function(a){var b=a.update;a.item;return b({e:e[3],d:e[4]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemovePollVoteV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5090402288599111008"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5090402288599111008"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(h()))},function(c){return a.seq([function(b){return a.sp("182",f[5],f[1],f[6],f[3],f[7]).then(function(a){return a=a,d[0]=a[0],a})},function(c){return d[0]?a.sp("174",f[0],f[1],f[2],f[3],f[4]):b("Promise").resolve()}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimisticReactionStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5763092435927074215"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["5763092435927074215"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(8).getArr([[[e[0],e[2],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(k()),c(j()))&&b.c===e[2]&&a.i64.eq(b.d,e[1])&&a.i64.le(b.f,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({f:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimisticThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8369463531758277310"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["40"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8369463531758277310"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(9).getArr([[e[1]]]).filter(function(b){return a.i64.eq(b.a,e[1])}).next().then(function(b,d){d=b.done;b=b.value;return d?a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.le(b.Z,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({a:e[1],Z:c(h())})}):(b.item,a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){return a["delete"]()}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimsiticMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9024301757990488470"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["9024301757990488470"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(12).openCursor().filter(function(b){return b.e===e[0]&&a.i64.eq(b.V,c(k()))}).forEach(function(a){var b=a.update;a.item;return b({e:e[1],V:c(j()),k:c(i()),l:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxResetPageMessagingWindowStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["768634604723610577"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["108"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["768634604723610577"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("page_id",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","reset_message_window",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRetryMessageRangeQueryStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2205151945022976111"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2205151945022976111"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(o()))},function(b){return a.db.table(13).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&f[2]?a.i64.eq(b.d,f[1])&&b.g===!0:a.i64.eq(b.b,f[1])&&b.f===!0}).next().then(function(b,e){var g=b.done;b=b.value;return g?0:(e=b.item,a.seq([function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("1",e.a)],d[1]=b[0],b,b=[d[0].set("2",e.b)],d[2]=b[0],b,b=[d[0].set("3",e.c)],d[3]=b[0],b,b=[d[0].set("4",e.d)],d[4]=b[0],b,b=[d[0].set("5",e.e)],d[5]=b[0],b,b=[d[0].set("6",e.f)],d[6]=b[0],b,b=[d[0].set("7",e.g)],d[7]=b[0],b,b=[d[0].set("8",e.h)],d[8]=b[0],b,b=[d[0].set("9",e.i)],d[9]=b[0],b,b=[d[0].set("table",c(n()))],d[10]=b[0],b,b=[d[0].set("type",c(m()))],d[11]=b[0],b,b=[a.toJSON(d[0])],d[12]=b[0],b,a.sp("2",f[4],c(l()),d[12],void 0,void 0,c(k()),c(j())).then(function(a){return a=a,d[13]=a[0],a})},function(b){return a.db.table(3).add({a:f[4],b:c(i()),e:a.i64.of_float(Date.now()),f:f[3],g:c(h())})}]))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRtcP2PEndCallStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2429892826581545654"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["36"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2429892826581545654"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("call_acknowledged",f[0])],d[2]=b[0],b,b=[d[0].set("call_duration",f[1])],d[3]=b[0],b,b=[d[0].set("call_id",f[2])],d[4]=b[0],b,b=[d[0].set("call_message",f[3])],d[5]=b[0],b,b=[d[0].set("call_start_time",f[4])],d[6]=b[0],b,b=[d[0].set("call_type",f[5])],d[7]=b[0],b,b=[d[0].set("caller_ended",f[6])],d[8]=b[0],b,b=[d[0].set("conference_name",f[7])],d[9]=b[0],b,b=[d[0].set("event_name",f[8])],d[10]=b[0],b,b=[d[0].set("event_type",f[9])],d[11]=b[0],b,b=[d[0].set("to",f[10])],d[12]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","rtc_p2p_end_call",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSecureTemplateStatusUpdateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5659410370958510690"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["5659410370958510690"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("user_action",f[0])],d[2]=b[0],b,b=[d[0].set("encrypted_form_id",f[1])],d[3]=b[0],b,b=[d[0].set("timestamp_ms",f[2])],d[4]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("6","fire_forget",c(h()),d[1])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSendCTMWelcomeMessageFromAppStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1145894273843141093"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1145894273843141093"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("token",f[0])],d[2]=b[0],b,b=[d[0].set("only_show_admin_text",f[1])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","ctm_ad_from_app",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSendMessageV2FailureCleanupStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4591924532909535654"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4591924532909535654"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSendPlatformReferralEventStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6371369003011155446"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["109"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6371369003011155446"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("page_id",f[0])],d[2]=b[0],b,b=[d[0].set("ref",f[1])],d[3]=b[0],b,b=[d[0].set("channel_id",f[2])],d[4]=b[0],b,b=[d[0].set("source",f[3])],d[5]=b[0],b,b=[d[0].set("metadata",f[4])],d[6]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","platform_send_postback_referral_event",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSendPlatformReferralFireForgetEventStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5396772106141967272"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["5396772106141967272"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("page_id",f[0])],d[2]=b[0],b,b=[d[0].set("ref",f[1])],d[3]=b[0],b,b=[d[0].set("channel_id",f[2])],d[4]=b[0],b,b=[d[0].set("source",f[3])],d[5]=b[0],b,b=[d[0].set("metadata",f[4])],d[6]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("6","fire_forget",c(h()),d[1])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSetMessageDisplayedContentTypesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8535327052168245220"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8192"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["32"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["512"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2048"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["1024"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["128"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["16384"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["4096"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["64"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["8535327052168245220"]);K=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(K()))},function(b){return a.seq([function(b){return a.db.table(16).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&b.c===f[1]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0],d[0]=c[0],d[1]=c[1],c):(b=a.item,c=[b.f,b.m],d[0]=c[0],d[1]=c[1],c)})},function(b){return a.db.table(12).getArr([[[f[0],f[2],f[1]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(J()),c(I()))&&a.i64.eq(b.b,f[2])&&b.e===f[1]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(H()),void 0,void 0],d[3]=e[0],d[4]=e[1],d[5]=e[2],e):(b=a.item,e=[b.t,b.r,b.g],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[7]=c[0],c):(b=a.item,c=[b.w],d[7]=c[0],c)})},function(b){return d[9]=a.i64.eq(d[0],c(G()))?c(F()):a.i64.eq(d[0],c(E()))?c(D()):f[5]?c(C()):a.i64.eq(d[0],c(B()))?c(A()):a.i64.eq(d[0],c(z()))||a.i64.eq(d[0],c(y()))?c(x()):c(w()),d[10]=d[5]!==void 0&&d[5]!==""&&d[5]!==d[7]?a.i64.or_(d[9],c(v())):d[9],d[11]=d[7]!==void 0&&d[7]===d[5]?a.i64.or_(d[10],c(u())):d[10],d[12]=a.i64.eq(d[0],c(t()))?a.i64.or_(d[11],c(s())):d[11],d[13]=a.i64.eq(d[1],c(r()))?a.i64.or_(d[12],c(q())):a.i64.eq(d[1],c(p()))?a.i64.or_(d[12],c(o())):d[12],d[14]=a.i64.eq(d[3],c(n()))&&d[4]!==void 0?a.i64.or_(d[13],c(m())):d[13],a.db.table(12).getArr([[[f[0],f[2],f[1]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(l()),c(k()))&&a.i64.eq(b.b,f[2])&&b.e===f[1]}).forEach(function(b){var e=b.update;b.item;return e({Q:f[4]?c(j()):a.i64.eq(d[3],c(i()))?a.i64.or_(d[14],c(h())):d[14]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSetMessageTextHasLinksStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5847969782210910342"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5847969782210910342"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(12).getArr([[[e[0],e[2],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[2])&&b.e===e[1]}).forEach(function(a){var b=a.update;a.item;return b({O:!0})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetMessageViewFlagsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5523530722404875733"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["-2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["600000"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["600000"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["600000"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["-16"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["-2"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["600000"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["600000"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["600000"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["-16"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["2097152"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["369239383222810"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["369239343222814"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["369239263222822"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["1048576"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);$=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Da=function(){return a};return a}function Ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ea=function(){return a};return a}function Fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["5523530722404875733"]);Fa=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(Fa()))},function(e){return a.seq([function(b){return a.db.table(12).getArr([[[f[0],f[2],f[1]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(Ea()),c(Da()))&&a.i64.eq(b.b,f[2])&&b.e===f[1]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(Ca()),c(Ba()),c(Aa()),!1,"nonexistent",c(za()),void 0,c(ya()),c(xa())],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],d[6]=e[6],d[7]=e[7],d[8]=e[8],e):(b=a.item,e=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,b.c,b.d==null?c(wa()):b.d],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],d[6]=e[6],d[7]=e[7],d[8]=e[8],e)})},function(b){return a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&b.e!==f[1]&&(a.i64.gt(b.c,d[7])||a.i64.eq(b.c,d[7])&&a.i64.ge(b.d==null?c(va()):b.d,d[8]))}).sortBy([["c","ASC",a.i64.compare],["d","ASC",a.i64.compare],["b","ASC",a.i64.compare]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(ua()),c(ta()),c(sa()),!1,"nonexistent",c(ra()),void 0,c(qa()),c(pa())],d[10]=e[0],d[11]=e[1],d[12]=e[2],d[13]=e[3],d[14]=e[4],d[15]=e[5],d[16]=e[6],d[17]=e[7],d[18]=e[8],e):(b=a.item,e=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,c(oa()),c(na())],d[10]=e[0],d[11]=e[1],d[12]=e[2],d[13]=e[3],d[14]=e[4],d[15]=e[5],d[16]=e[6],d[17]=e[7],d[18]=e[8],e)})},function(b){return a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&b.e!==f[1]&&(a.i64.lt(b.c,d[7])||a.i64.eq(b.c,d[7])&&a.i64.le(b.d==null?c(ma()):b.d,d[8]))}).sortBy([["c","DESC",a.i64.compare],["d","DESC",a.i64.compare],["b","DESC",a.i64.compare]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(la()),c(ka()),c(ja()),!1,"nonexistent",c(ia()),void 0,c(ha()),c(ga())],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],d[24]=e[4],d[25]=e[5],d[26]=e[6],d[27]=e[7],d[28]=e[8],e):(b=a.item,e=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,c(fa()),c(ea())],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],d[24]=e[4],d[25]=e[5],d[26]=e[6],d[27]=e[7],d[28]=e[8],e)})},function(e){return d[34]=a.i64.or_(c(da()),a.i64.or_(!d[3]&&!f[3]?c(ca()):c(ba()),a.i64.or_(d[3]?c($()):c(aa()),a.i64.or_(a.i64.eq(d[5],c(Z()))||a.i64.eq(d[5],c(Y()))?c(X()):c(W()),a.i64.neq(d[6],c(V()))&&a.i64.neq(d[6],c(U()))&&a.i64.neq(d[6],c(T()))?c(R()):c(S()))))),d[14]!=="nonexistent"?a.seq([function(b){return d[37]=a.i64.or_(a.i64.and_(d[12],c(Q())),a.i64.or_(a.i64.gt(a.i64.sub(d[10],d[0]),c(P()))?c(O()):c(N()),a.i64.or_(a.i64.eq(d[11],d[1])&&!d[13]&&!d[3]&&!a.i64.gt(a.i64.sub(d[10],d[0]),c(M()))?c(L()):c(K()),a.i64.or_(!f[3]&&!d[13]&&!(a.i64.eq(d[11],d[1])&&!d[13]&&!d[3]&&!a.i64.gt(a.i64.sub(d[10],d[0]),c(J())))?c(I()):c(H()),a.i64.and_(d[12],c(G())))))),d[35]=a.i64.eq(a.i64.and_(d[37],c(F())),c(E())),d[36]=d[35]?a.i64.or_(d[34],c(D())):d[34],a.db.table(12).getArr([[[f[0],d[10],d[14]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(C()),c(B()))&&a.i64.eq(b.b,d[10])&&b.e===d[14]}).forEach(function(a){var b=a.update;a.item;return b({P:d[37]})})},function(b){return b=[d[35]?a.i64.and_(d[36],c(A())):d[36]],d[31]=b[0],b}]):b("Promise").resolve((e=[d[34]],d[31]=e[0],e))},function(e){return d[24]!=="nonexistent"?a.seq([function(b){return d[37]=a.i64.or_(a.i64.and_(d[31],c(z())),a.i64.or_(a.i64.gt(a.i64.sub(d[0],d[20]),c(y()))?c(x()):c(w()),a.i64.or_(a.i64.eq(d[1],d[21])&&!d[3]&&!d[23]&&!a.i64.gt(a.i64.sub(d[0],d[20]),c(v()))?c(u()):c(t()),a.i64.or_(!f[3]&&!d[3]&&!(a.i64.eq(d[1],d[21])&&!d[3]&&!d[23]&&!a.i64.gt(a.i64.sub(d[0],d[20]),c(s())))?c(r()):c(q()),a.i64.and_(d[31],c(p())))))),d[35]=a.i64.eq(a.i64.and_(d[37],c(o())),c(n())),d[36]=d[35]?a.i64.or_(d[22],c(m())):d[22],a.db.table(12).getArr([[[f[0],d[20],d[24]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(l()),c(k()))&&a.i64.eq(b.b,d[20])&&b.e===d[24]}).forEach(function(b){var e=b.update;b.item;return e({P:d[35]?a.i64.and_(d[36],c(j())):d[36]})})},function(a){return a=[d[37]],d[33]=a[0],a}]):b("Promise").resolve((e=[d[31]],d[33]=e[0],e))},function(b){return a.db.table(12).getArr([[[f[0],d[0],d[4]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,d[0])&&b.e===d[4]}).forEach(function(a){var b=a.update;a.item;return b({P:d[33]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSetMessagesViewedPluginStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1925433930253363106"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1925433930253363106"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(12).getArr([[[e[0],e[2],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[2])&&b.e===e[1]}).forEach(function(a){var b=a.update;a.item;return b({R:e[3],S:e[4]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetNeedsAdminApprovalForNewParticipantStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6868625939255596596"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6868625939255596596"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({t:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetPollsThreadCapabilityStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2185592021312761579"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-68719476737"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["68719476736"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["2185592021312761579"]);r=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(r()))},function(e){return a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.Z,c(q()))}).forEach(function(e){var f=e.item;return a.seq([function(b){return d[5]=f.a,d[6]=f.P,b=[a.createArray()],d[0]=b[0],b,a.db.table(14).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])&&a.i64.eq(c(p()),c(o()))}).forEach(function(b){var e=b.item;return a.seq([function(b){return a.db.table(7).getArr([[e.b]]).filter(function(b){return a.i64.eq(b.a,e.b)&&a.i64.eq(c(n()),c(m()))}).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!1],d[7]=f[0],f):(e=b.item,f=[a.i64.eq(e.r,c(l()))],d[7]=f[0],f)})},function(a){return a=[(d[0].push(d[7]),d[0])],d[9]=a[0],a}])})},function(e){return d[1]=!1,e=[a.i64.of_int32(d[0].length)],d[2]=e[0],e,a.i64.gt(d[2],c(k()))?a.loopAsync(d[2],function(b){return d[7]=b,a.seq([function(b){return a.ntop("Array",3,d[0],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return d[1]=d[8]||d[1]}])}):b("Promise").resolve()},function(b){return!d[1]&&a.i64.eq(f.c,c(j()))?(b=[a.i64.or_(d[6],c(i()))],d[4]=b[0],b):(b=[a.i64.and_(d[6],c(h()))],d[4]=b[0],b),a.db.table(9).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])}).forEach(function(a){var b=a.update;a.item;return b({P:d[4]})})}])})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSetThreadCannotUnsendReasonStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["598589333710415080"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["598589333710415080"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({L:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetThreadCapabilitiesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4739707832505917612"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4739707832505917612"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(b){var d=b.update;b.item;return d({P:a.i64.or_(c(j()),e[1]?c(i()):c(h()))})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetThreadImageURLStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7987437879967922239"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7987437879967922239"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({f:e[1]===""?void 0:e[1],g:e[2],h:e[3],R:e[4],Q:e[5]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSyncUpdateThreadNameStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6481229864284224212"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["6481229864284224212"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(9).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.c,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({d:e[1]===""?void 0:e[1].trim()})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerMuteThreadV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8965615330806629557"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["144"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8965615330806629557"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.db.table(32).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[a.createArray()],d[3]=g[0],g,g=[(d[3].push("TaskSerializerMuteThreadV2: Task ID not found"),d[3])],d[4]=g[0],g,g=[(d[3].push(f[0]),d[3])],d[5]=g[0],g,g=[a.toJSON(d[3])],d[6]=g[0],g,a.log(d[6],3),g=[void 0,void 0],d[0]=g[0],d[1]=g[1],g):(e=b.item,a.seq([function(b){return d[6]=e.b,a.db.table(9).getArr([[d[6]]]).filter(function(b){return a.i64.eq(b.a,d[6])}).next().then(function(e,f){var b=e.done;e=e.value;return b?(b=[a.createArray()],d[7]=b[0],b,b=[(d[7].push("TaskSerializerMuteThreadV2: Thread not found"),d[7])],d[8]=b[0],b,b=[(d[7].push(d[6]),d[7])],d[9]=b[0],b,b=[a.toJSON(d[7])],d[10]=b[0],b,a.log(d[10],3),b=[void 0,void 0],d[3]=b[0],d[4]=b[1],b):(f=e.item,b=[new a.Map()],d[7]=b[0],b,e=[d[7].set("thread_key",d[6])],d[9]=e[0],e,b=[d[7].set("mailbox_type",c(i()))],d[10]=b[0],b,e=[d[7].set("mute_expire_time_ms",f.l)],d[11]=e[0],e,b=[a.toJSON(d[7])],d[8]=b[0],b,f=[d[8],c(h())],d[3]=f[0],d[4]=f[1],f)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]))})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerRemoveThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8110997900979692330"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["146"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8110997900979692330"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return a.db.table(32).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[a.createArray()],d[3]=g[0],g,g=[(d[3].push("TaskSerializerRemoveThreadV2: Task ID not found"),d[3])],d[4]=g[0],g,g=[(d[3].push(f[0]),d[3])],d[5]=g[0],g,g=[a.toJSON(d[3])],d[6]=g[0],g,a.log(d[6],3),g=[void 0,void 0],d[0]=g[0],d[1]=g[1],g):(e=b.item,d[6]=e.c,a.i64.neq(d[6],void 0)?(g=[new a.Map()],d[7]=g[0],g,b=[d[7].set("thread_key",e.b)],d[9]=b[0],b,g=[d[7].set("remove_type",d[6])],d[10]=g[0],g,e=[a.toJSON(d[7])],d[8]=e[0],e,b=[d[8],c(h())],d[4]=b[0],d[5]=b[1],b):(g=[void 0,void 0],d[4]=g[0],d[5]=g[1],g),e=[d[4],d[5]],d[0]=e[0],d[1]=e[1],e)})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1953561215749721220"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["21"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["10003"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["21"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["10003"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["21"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["10003"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["10002"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["10015"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["10013"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["1481455972"]);Z=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ea=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["1953561215749721220"]);$=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c($()))},function(e){return a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Started",1),a.db.table(46).getArr([[f[1]]]).filter(function(b){return a.i64.eq(b.a,f[1])}).next().then(function(e,g){var $=e.done;e=e.value;return $?($=[new a.Map()],d[1]=$[0],$,a.nop(48,c(ea()),"LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure","Thread row does not exist.",void 0,d[1])):(g=e.item,a.seq([function(b){return d[9]=g.l,b=[f[0].get("user_id"),f[0]],d[1]=b[0],d[2]=b[1],b,b=[f[0].get("instance_id"),f[0]],d[3]=b[0],d[4]=b[1],b,a.db.table(45).getArr([[[f[1],d[1],d[3]]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.b,d[1])&&b.c===d[3]}).count().then(function(a){return d[5]=a})},function(b){return a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.neq(b.b,d[1])}).count().then(function(a){return d[6]=a})},function(e){return d[8]=a.i64.gt(d[5],c(da()))&&a.i64.gt(d[6],c(ca())),d[8]?b("Promise").resolve():a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Missing thread devices while trying to send message. Fetching thread devices...",4),a.db.table(46).getArr([[f[1]]]).filter(function(b){return a.i64.eq(b.a,f[1])}).next().then(function(e,f){var b=e.done;e=e.value;return b?(b=[!1],d[10]=b[0],b):(f=e.item,b=[a.i64.eq(f.l,c(ba()))],d[10]=b[0],b)})},function(b){return d[10]?a.seq([function(b){return a.db.table(46).getArr([[f[1]]]).filter(function(b){return a.i64.eq(b.a,f[1])}).next().then(function(e,g){var b=e.done;e=e.value;return b?(b=[!1],d[13]=b[0],b):(g=e.item,b=[a.i64.eq(g.l,c(aa()))&&a.i64.eq(g.m,f[1])],d[13]=b[0],b)})},function(b){return d[13]?a.seq([function(b){return b=[a.createArray()],d[16]=b[0],b,a.db.table(48).openCursor().filter(function(b){return a.i64.neq(b.b,c(Z()))&&a.i64.eq(b.a,f[1])}).forEach(function(a){a=a.item;return a=[(d[16].push(a.b),d[16])],d[19]=a[0],a})},function(b){return b=[new a.Map()],d[17]=b[0],b,b=[d[17].set("from_device",f[0])],d[19]=b[0],b,b=[d[17].set("trace_id",f[3])],d[20]=b[0],b,b=[d[17].set("client_thread_key",f[1])],d[21]=b[0],b,b=[d[17].set("thread_members",d[16])],d[22]=b[0],b,b=[a.toJSON(d[17])],d[18]=b[0],b,a.sp("1","secure-message-creategroupthread",c(Y()),d[18],void 0,void 0,c(X()),void 0)}]):(b=[new a.Map()],d[16]=b[0],b,b=[d[16].set("from_device",f[0])],d[18]=b[0],b,b=[d[16].set("trace_id",f[3])],d[19]=b[0],b,b=[d[16].set("thread_key",f[1])],d[20]=b[0],b,b=[a.toJSON(d[16])],d[17]=b[0],b,a.sp("1","secure-message-getgroupthreadinfo",c(W()),d[17],void 0,void 0,c(V()),void 0))}]):(b=[new a.Map()],d[13]=b[0],b,b=[d[13].set("from_device",f[0])],d[15]=b[0],b,b=[d[13].set("thread_key",f[1])],d[16]=b[0],b,b=[d[13].set("thread_type",d[9])],d[17]=b[0],b,b=[d[13].set("thread_member",a.i64.lt(f[1],c(U()))?a.i64.mul(c(T()),f[1]):f[1])],d[18]=b[0],b,b=[d[13].set("trace_id",f[3])],d[19]=b[0],b,b=[a.toJSON(d[13])],d[14]=b[0],b,a.sp("1","secure-message-createthread",c(S()),d[14],void 0,void 0,c(R()),void 0))},function(e){return f[3]!==void 0?(e=[new a.Map()],d[13]=e[0],e,e=[d[13].set("ls_request_type",c(Q()))],d[14]=e[0],e,e=[d[13].set("packet_type",c(P()))],d[15]=e[0],e,e=[d[13].set("task_label","10002")],d[16]=e[0],e,e=[d[13].set("task_queue_name","secure-message-createthread")],d[17]=e[0],e,e=[a.createArray()],d[18]=e[0],e,a.sp("451",f[3],c(O()),void 0,void 0,d[13],!0,!0,!1,d[18])):b("Promise").resolve()}])},function(b){return a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])}).count().then(function(a){return d[7]=a})},function(e){return d[8]&&a.i64.eq(d[7],c(N()))?a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Entered P2P send workflow.",4),a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.neq(b.e,c(M()))}).next().then(function(e,f){var b=e.done;e=e.value;return b?a.seq([function(b){return b=[new a.Map()],d[14]=b[0],b,a.nop(48,c(L()),"LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure","Failed to get recipient's address from sender_key table.",void 0,d[14])},function(a){return a=[c(K()),""],d[10]=a[0],d[11]=a[1],a}]):(f=e.item,b=[f.b,f.c],d[10]=b[0],d[11]=b[1],b)})},function(e){return a.db.table(43).getArr([[[d[10],d[11]]]]).filter(function(b){return a.i64.eq(b.a,d[10])&&b.b===d[11]&&b.c!==void 0}).next().then(function(e,g){g=e.done;e=e.value;return g?a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] No session state when trying to send P2P message. Try to create session state first.",4),a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Issue PreKeyLookup task for single device.",4),b=[a.createArray()],d[14]=b[0],b,b=[new a.Map()],d[15]=b[0],b,b=[d[15].set("user_id",d[10])],d[16]=b[0],b,b=[d[15].set("instance_id",d[11])],d[17]=b[0],b,b=[(d[14].push(d[15]),d[14])],d[18]=b[0],b,b=[new a.Map()],d[19]=b[0],b,b=[d[19].set("from_device",f[0])],d[21]=b[0],b,b=[d[19].set("thread_key",f[1])],d[22]=b[0],b,b=[d[19].set("lookup_ids",d[14])],d[23]=b[0],b,b=[d[19].set("trace_id",f[3])],d[24]=b[0],b,b=[a.toJSON(d[19])],d[20]=b[0],b,a.sp("1","secure-message-batchlookup",c(J()),d[20],void 0,void 0,c(I()),void 0)},function(e){return f[3]!==void 0?(e=[new a.Map()],d[14]=e[0],e,e=[d[14].set("ls_request_type",c(H()))],d[15]=e[0],e,e=[d[14].set("packet_type",c(G()))],d[16]=e[0],e,e=[d[14].set("task_label","10003")],d[17]=e[0],e,e=[d[14].set("task_queue_name","secure-message-batchlookup")],d[18]=e[0],e,e=[a.createArray()],d[19]=e[0],e,a.sp("451",f[3],c(F()),void 0,void 0,d[14],!0,!0,!1,d[19])):b("Promise").resolve()}]):(e.item,a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Session state exists, go ahead to send pending P2P message.",4),f[2]===void 0?a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(E()))&&(b.h!==void 0||b.p!==void 0)}).sortBy([["b","ASC",a.i64.compare]]).forEach(function(b){b=b.item;return a.sp("455",f[0],d[10],d[11],!1,b.a,b.b,b.c,b.k,!1,d[9])}):a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(D()))&&b.h!==void 0&&b.c===f[2]}).sortBy([["b","ASC",a.i64.compare]]).next().then(function(c,e){var b=c.done;c=c.value;return b?a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] No message to send.",4):(e=c.item,a.sp("455",f[0],d[10],d[11],!1,e.a,e.b,e.c,e.k,!1,d[9]))})},function(b){return f[2]===void 0?a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(C()))&&b.m!==void 0}).sortBy([["b","ASC",a.i64.compare]]).forEach(function(b){b=b.item;return a.sp("455",f[0],d[10],d[11],!1,b.a,b.b,b.c,b.k,!1,d[9])}):a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(B()))&&b.m!==void 0&&b.c===f[2]}).sortBy([["b","ASC",a.i64.compare]]).next().then(function(c,e){var b=c.done;c=c.value;return b?a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] No message to send.",4):(e=c.item,a.sp("455",f[0],d[10],d[11],!1,e.a,e.b,e.c,e.k,!1,d[9]))})}]))})}]):b("Promise").resolve()},function(e){return d[8]&&a.i64.gt(d[7],c(A()))?a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Entered multi-endpoint send workflow.",4),b=[f[0].get("user_id"),f[0]],d[10]=b[0],d[11]=b[1],b,b=[f[0].get("instance_id"),f[0]],d[12]=b[0],d[13]=b[1],b,b=[a.createArray()],d[14]=b[0],b,a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&(a.i64.neq(b.b,d[10])||b.c!==d[12])&&a.i64.eq(b.e,c(z()))}).forEach(function(a){a=a.item;return a=[(d[14].push(a.c),d[14])],d[20]=a[0],a})},function(e){return e=[a.createArray()],d[15]=e[0],e,e=[a.i64.of_int32(d[14].length)],d[16]=e[0],e,a.i64.gt(d[16],c(y()))?a.loopAsync(d[16],function(b){return d[20]=b,a.seq([function(b){return a.ntop("Array",3,d[14],d[20]).then(function(a){return a=a,d[21]=a[0],d[22]=a[1],a})},function(b){return a.db.table(43).openCursor().filter(function(a){return a.b===d[21]&&a.c!==void 0}).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,b=[(d[15].push(d[21]),d[15])],d[24]=b[0],b)})}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[15].length)],d[17]=e[0],e,e=[a.i64.of_int32(d[14].length)],d[18]=e[0],e,(a.i64.eq(d[17],d[18])?!0:!1)===!0?(a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Session states are ready for all devices in the thread.",4),a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&(a.i64.eq(b.e,c(x()))||a.i64.eq(b.e,void 0))}).next().then(function(e,g){g=e.done;e=e.value;return g?a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] All sender keys are sent. Go ahead to send the multi-endpoint message",4),d[23]=void 0,f[2]===void 0?a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(w()))&&(b.h!==void 0||b.p!==void 0)}).sortBy([["b","ASC",a.i64.compare]]).forEach(function(b){b=b.item;return a.sp("455",f[0],void 0,d[23],!0,b.a,b.b,b.c,b.k,!1,d[9])}):a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(v()))&&b.h!==void 0&&b.c===f[2]}).sortBy([["b","ASC",a.i64.compare]]).next().then(function(c,e){var b=c.done;c=c.value;return b?a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] No message to send.",4):(e=c.item,a.sp("455",f[0],void 0,d[23],!0,e.a,e.b,e.c,e.k,!1,d[9]))})},function(b){return d[24]=void 0,f[2]===void 0?a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(u()))&&b.m!==void 0}).sortBy([["b","ASC",a.i64.compare]]).forEach(function(b){b=b.item;return a.sp("455",f[0],void 0,d[24],!0,b.a,b.b,b.c,b.k,!1,d[9])}):a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.k,c(t()))&&b.m!==void 0&&b.c===f[2]}).sortBy([["b","ASC",a.i64.compare]]).next().then(function(c,e){var b=c.done;c=c.value;return b?a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] No message to send.",4):(e=c.item,a.sp("455",f[0],void 0,d[24],!0,e.a,e.b,e.c,e.k,!1,d[9]))})}]):(e.item,a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] At least one sender key hasn't been sent. Distributing sender key.",4),a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&(a.i64.eq(b.e,c(s()))||a.i64.eq(b.e,void 0))}).forEach(function(e){var g=e.item;return d[22]=g.b,d[23]=g.c,a.db.table(43).getArr([[[d[22],d[23]]]]).filter(function(b){return a.i64.eq(b.a,d[22])&&b.b===d[23]&&b.c!==void 0}).next().then(function(e,h){h=e.done;e=e.value;return h?a.seq([function(b){return b=[new a.Map()],d[24]=b[0],b,a.nop(48,c(r()),"LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure","No session state when trying to distribute sender key for a device. Try to create session state for this device.",void 0,d[24])},function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Issue PreKeyLookup task for single device.",4),b=[a.createArray()],d[24]=b[0],b,b=[new a.Map()],d[25]=b[0],b,b=[d[25].set("user_id",d[22])],d[26]=b[0],b,b=[d[25].set("instance_id",d[23])],d[27]=b[0],b,b=[(d[24].push(d[25]),d[24])],d[28]=b[0],b,b=[new a.Map()],d[29]=b[0],b,b=[d[29].set("from_device",f[0])],d[31]=b[0],b,b=[d[29].set("thread_key",f[1])],d[32]=b[0],b,b=[d[29].set("lookup_ids",d[24])],d[33]=b[0],b,b=[d[29].set("trace_id",f[3])],d[34]=b[0],b,b=[a.toJSON(d[29])],d[30]=b[0],b,a.sp("1","secure-message-batchlookup",c(q()),d[30],void 0,void 0,c(p()),void 0)},function(e){return f[3]!==void 0?(e=[new a.Map()],d[24]=e[0],e,e=[d[24].set("ls_request_type",c(o()))],d[25]=e[0],e,e=[d[24].set("packet_type",c(n()))],d[26]=e[0],e,e=[d[24].set("task_label","10003")],d[27]=e[0],e,e=[d[24].set("task_queue_name","secure-message-batchlookup")],d[28]=e[0],e,e=[a.createArray()],d[29]=e[0],e,a.sp("451",f[3],c(m()),void 0,void 0,d[24],!0,!0,!1,d[29])):b("Promise").resolve()}]):(e.item,a.sp("456",g.a,d[22],d[23],!1,f[3],f[4]))})}))})):a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Session states are not ready when trying to send multi-device message. Try to create session state first.",4),a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Issue PreKeyLookup task for a batch lookup.",4),b=[a.createArray()],d[20]=b[0],b,b=[f[0].get("user_id"),f[0]],d[24]=b[0],d[25]=b[1],b,b=[f[0].get("instance_id"),f[0]],d[26]=b[0],d[27]=b[1],b,a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&(a.i64.neq(b.b,d[24])||b.c!==d[26])}).forEach(function(b){var c;b=b.item;return c=[new a.Map()],d[28]=c[0],c,c=[d[28].set("user_id",b.b)],d[29]=c[0],c,c=[d[28].set("instance_id",b.c)],d[30]=c[0],c,b=[(d[20].push(d[28]),d[20])],d[31]=b[0],b})},function(b){return b=[a.createArray()],d[21]=b[0],b,b=[f[0].get("user_id"),f[0]],d[24]=b[0],d[25]=b[1],b,b=[f[0].get("instance_id"),f[0]],d[26]=b[0],d[27]=b[1],b,a.db.table(43).openCursor().filter(function(b){return(a.i64.eq(b.a,d[24])||a.i64.eq(b.a,f[1]))&&b.c!==void 0}).forEach(function(b){var c;b=b.item;return c=[new a.Map()],d[28]=c[0],c,c=[d[28].set("user_id",b.a)],d[29]=c[0],c,c=[d[28].set("instance_id",b.b)],d[30]=c[0],c,b=[(d[21].push(d[28]),d[21])],d[31]=b[0],b})},function(b){return b=[new a.Map()],d[22]=b[0],b,b=[d[22].set("from_device",f[0])],d[24]=b[0],b,b=[d[22].set("thread_key",f[1])],d[25]=b[0],b,b=[d[22].set("lookup_ids",d[20])],d[26]=b[0],b,b=[d[22].set("existing_ids",d[21])],d[27]=b[0],b,b=[d[22].set("trace_id",f[3])],d[28]=b[0],b,b=[a.toJSON(d[22])],d[23]=b[0],b,a.sp("1","secure-message-batchlookup",c(l()),d[23],void 0,void 0,c(k()),void 0)},function(e){return f[3]!==void 0?(e=[new a.Map()],d[24]=e[0],e,e=[d[24].set("ls_request_type",c(j()))],d[25]=e[0],e,e=[d[24].set("packet_type",c(i()))],d[26]=e[0],e,e=[d[24].set("task_label","10003")],d[27]=e[0],e,e=[d[24].set("task_queue_name","secure-message-batchlookup")],d[28]=e[0],e,e=[a.createArray()],d[29]=e[0],e,a.sp("451",f[3],c(h()),void 0,void 0,d[24],!0,!0,!1,d[29])):b("Promise").resolve()}])}]):b("Promise").resolve()}]))})},function(b){return a.log("[TincanLS][LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxProcessCreateThreadResultStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7248351471204028026"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7248351471204028026"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxProcessCreateThreadResultStoredProcedure] Started",1),a.nop(58,f[0],f[1],f[2],f[3],f[4],f[5]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.log("[TincanLS][LSSecureMailboxProcessCreateThreadResultStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxProcessErrorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3456971117273109053"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["409"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["401"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["461"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["404"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["426"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["505"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["405"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["3456971117273109053"]);F=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(F()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxProcessErrorStoredProcedure] Started",1),a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.nop(41,d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[1]===""?(e=[new a.Map()],d[4]=e[0],e,a.nop(48,c(E()),"LSSecureMailboxProcessErrorStoredProcedure","Empty Instance ID",void 0,d[4])):b("Promise").resolve()},function(e){return e=[a.createArray()],d[2]=e[0],e,e=[a.createArray()],d[3]=e[0],e,a.i64.eq(f[0],c(D()))?a.seq([function(b){return a.sp("194","NOT_STARTED")},function(a){return a=[(d[2].push(c(C())),d[2])],d[5]=a[0],a,a=[(d[3].push("ADMIN_MESSAGE_CONVERSATION_SETUP_ERROR"),d[3])],d[6]=a[0],a}]):a.i64.eq(f[0],c(B()))?b("Promise").resolve((e=[(d[2].push(c(A())),d[2])],d[6]=e[0],e,e=[(d[3].push("ADMIN_MESSAGE_OTHER_UPGRADE"),d[3])],d[7]=e[0],e)):a.i64.eq(f[0],c(z()))?b("Promise").resolve((e=[(d[2].push(c(y())),d[2])],d[7]=e[0],e,e=[(d[3].push("ADMIN_MESSAGE_YOU_UPGRADE"),d[3])],d[8]=e[0],e)):a.i64.eq(f[0],c(x()))?a.seq([function(b){return a.seq([function(b){return b=[a.createArray()],d[10]=b[0],b,a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.b,f[1])}).forEach(function(b){var c;b=b.item;return c=[new a.Map()],d[12]=c[0],c,c=[d[12].set("instance_id",b.c)],d[14]=c[0],c,c=[d[12].set("user_id",b.b)],d[15]=c[0],c,b=[(d[10].push(d[12]),d[10])],d[13]=b[0],b})},function(b){return b=[a.createArray()],d[11]=b[0],b,a.sp("221",f[1],d[11],d[10],"ProcessError_NOT_FOUND",!0)}])},function(a){return a=[(d[2].push(c(w())),d[2])],d[8]=a[0],a,a=[(d[3].push("ADMIN_MESSAGE_RECIPIENT_NOT_SECRET_CONVERSATION_ENABLED"),d[3])],d[9]=a[0],a}]):a.i64.eq(f[0],c(v()))?a.seq([function(b){return a.sp("205",!1,d[1],"ProcessError_DEVICE_NOT_ENABLED")},function(a){return a=[(d[2].push(c(u())),d[2])],d[9]=a[0],a,a=[(d[3].push("ADMIN_MESSAGE_DEVICE_NOT_ENABLED"),d[3])],d[10]=a[0],a}]):b("Promise").resolve(a.i64.eq(f[0],c(t()))?(e=[(d[2].push(c(s())),d[2])],d[10]=e[0],e,e=[(d[3].push("ADMIN_MESSAGE_DEVICE_NOT_ENABLED"),d[3])],d[11]=e[0],e):a.i64.eq(f[0],c(r()))?(e=[(d[2].push(c(q())),d[2])],d[11]=e[0],e,e=[(d[3].push("ADMIN_MESSAGE_CONVERSATION_SETUP_ERROR"),d[3])],d[12]=e[0],e):a.i64.eq(f[0],c(p()))?(e=[(d[2].push(c(o())),d[2])],d[12]=e[0],e,e=[(d[3].push("ADMIN_MESSAGE_SEND_ERROR_PARTICIPANTS_CHANGED"),d[3])],d[13]=e[0],e):(e=[(d[2].push(c(n())),d[2])],d[12]=e[0],e,e=[(d[3].push("UNKNOWN_ERROR"),d[3])],d[13]=e[0],e))},function(b){return a.seq([function(b){return a.sp("444",f[1],a.i64.eq(f[0],c(m()))?c(l()):c(k()))},function(b){return a.i64.eq(f[0],c(j()))?(b=[a.i64.of_float(Date.now())],d[5]=b[0],b,b=[a.i64.of_float(Date.now())],d[6]=b[0],b,a.sp("461",f[1],d[5],d[6])):a.seq([function(b){return a.ntop("Array",3,d[2],c(i())).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(b){return b=[a.createArray()],d[7]=b[0],b,a.ntop("Array",3,d[3],c(h())).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return a.sp("460",f[1],void 0,d[5],d[7],d[8],!0)}])}])},function(b){return a.log("[TincanLS][LSSecureMailboxProcessErrorStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxProcessPreKeyResultStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5683651170604919693"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["0"]);a=function(){return b};return b}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);r=function(){return a};return a}function c(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);c=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["5683651170604919693"]);B=function(){return a};return a}d=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(B()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxProcessPreKeyResultStoredProcedure] Started",1),a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=c(A()),e=[a.createArray()],d[2]=e[0],e,e=[a.i64.of_int32(f[2].length)],d[3]=e[0],e,a.i64.gt(d[3],c(z()))?a.loopAsync(d[3],function(e){return d[7]=e,a.seq([function(b){return a.ntop("Array",3,f[2],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(e){return a.seq([function(b){return b=[d[8].get("device_address"),d[8]],d[10]=b[0],d[11]=b[1],b,b=[d[10].get("user_id"),d[10]],d[12]=b[0],d[13]=b[1],b,b=[d[10].get("instance_id"),d[10]],d[14]=b[0],d[15]=b[1],b,a.sp("4").then(function(a){return a=a,d[16]=a[0],a})},function(b){return b=[d[8].get("signed_pre_key"),d[8]],d[17]=b[0],d[18]=b[1],b,b=[d[8].get("signed_pre_key_id"),d[8]],d[19]=b[0],d[20]=b[1],b,b=[d[8].get("signature"),d[8]],d[21]=b[0],d[22]=b[1],b,b=[d[8].get("pre_key"),d[8]],d[23]=b[0],d[24]=b[1],b,b=[d[8].get("pre_key_id"),d[8]],d[25]=b[0],d[26]=b[1],b,a.nop(20,d[16],d[23],d[25],d[17],d[19],d[21],d[12],d[14]).then(function(a){return a=a,d[27]=a[0],a})},function(e){return a.i64.neq(d[27],c(y()))?a.seq([function(b){return b=[a.createArray()],d[31]=b[0],b,b=[(d[31].push("ProcessParticipantPreKey failed with error code:"),d[31])],d[32]=b[0],b,b=[(d[31].push(a.i64.to_string(d[27])),d[31])],d[33]=b[0],b,b=[(d[31].push(d[14]),d[31])],d[34]=b[0],b,b=[d[31].join(" ")],d[35]=b[0],b,b=[new a.Map()],d[36]=b[0],b,a.nop(48,c(x()),"LSSecureMailboxProcessPreKeyResultStoredProcedure",d[35],void 0,d[36])},function(b){return d[1]=a.i64.add(d[1],c(w())),b=[d[8].get("device_address"),d[8]],d[28]=b[0],d[29]=b[1],b,b=[(d[2].push(d[28]),d[2])],d[30]=b[0],b}]):b("Promise").resolve()}])}])}):b("Promise").resolve()},function(b){return a.db.table(43).openCursor().filter(function(b){return a.i64.eq(b.a,a.i64.lt(f[0],c(v()))?a.i64.mul(c(u()),f[0]):f[0])&&b.c!==void 0}).count().then(function(a){return d[4]=a})},function(e){return e=[a.i64.of_int32(f[3].length)],d[5]=e[0],e,d[6]=a.i64.gt(d[5],c(t())),a.i64.gt(d[1],c(s()))?d[6]?(e=[new a.Map()],d[8]=e[0],e,a.nop(48,c(p()),"LSSecureMailboxProcessPreKeyResultStoredProcedure","Failed to resend message",void 0,d[8])):a.seq([function(b){return a.sp("444",f[0],c(r()))},function(b){return b=[new a.Map()],d[8]=b[0],b,a.nop(48,c(q()),"LSSecureMailboxProcessPreKeyResultStoredProcedure","Failed to send",void 0,d[8])}]):b("Promise").resolve()},function(e){return a.i64.eq(d[1],c(o()))&&d[6]?(e=[a.i64.of_int32(f[3].length)],d[7]=e[0],e,a.i64.gt(d[7],c(n()))?a.loopAsync(d[7],function(c){return d[8]=c,a.seq([function(b){return a.ntop("Array",3,f[3],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(c){return c=[d[9].get("to_device"),d[9]],d[11]=c[0],d[12]=c[1],c,c=[d[11].get("user_id"),d[11]],d[13]=c[0],d[14]=c[1],c,c=[d[11].get("instance_id"),d[11]],d[15]=c[0],d[16]=c[1],c,c=[d[9].get("message_id"),d[9]],d[17]=c[0],d[18]=c[1],c,a.seq([function(b){return a.sp("446",f[0],d[17],d[13],d[15])},function(c){return f[5]?b("Promise").resolve(a.log("[TincanLS][LSSecureMailboxProcessPreKeyResultStoredProcedure] Skip distributing sender key after bounce recovery",4)):a.sp("456",f[0],d[13],d[15],!0,f[1],f[4])}])}])}):b("Promise").resolve()):b("Promise").resolve()},function(e){return!d[6]&&(a.i64.eq(d[1],c(m()))||!1)?a.seq([function(e){return a.i64.gt(d[1],c(l()))?(e=[a.i64.of_int32(d[2].length)],d[7]=e[0],e,a.i64.gt(d[7],c(k()))?a.loopAsync(d[7],function(b){return d[8]=b,a.seq([function(b){return a.ntop("Array",3,d[2],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return a.seq([function(b){return b=[d[9].get("user_id"),d[9]],d[11]=b[0],d[12]=b[1],b,b=[d[9].get("instance_id"),d[9]],d[13]=b[0],d[14]=b[1],b,a.sp("198",f[0],d[11],d[13],c(j()),f[1])},function(b){return b=[a.createArray()],d[15]=b[0],b,b=[(d[15].push("Mark bad device sender key as sent:"),d[15])],d[16]=b[0],b,b=[(d[15].push(d[13]),d[15])],d[17]=b[0],b,b=[d[15].join(" ")],d[18]=b[0],b,b=[new a.Map()],d[19]=b[0],b,a.nop(48,c(i()),"LSSecureMailboxProcessPreKeyResultStoredProcedure",d[18],void 0,d[19])}])}])}):b("Promise").resolve()):b("Promise").resolve()},function(e){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[7]=a[0],a})},function(b){return a.nop(41,d[7]).then(function(a){return a=a,d[8]=a[0],a})},function(e){return d[8]===""?(e=[new a.Map()],d[10]=e[0],e,a.nop(48,c(h()),"LSSecureMailboxProcessPreKeyResultStoredProcedure","Empty Instance ID",void 0,d[10])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[9]=b[0],b,b=[d[9].set("user_id",d[7])],d[10]=b[0],b,b=[d[9].set("instance_id",d[8])],d[11]=b[0],b,a.sp("443",d[9],f[0],void 0,f[1],f[4])}])}]):b("Promise").resolve()},function(b){return a.log("[TincanLS][LSSecureMailboxProcessPreKeyResultStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=d}),null);
__d("LSSecureMailboxProcessSendErrorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1027154980774243962"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["405"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["505"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["404"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["409"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["409"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["401"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["461"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["404"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["426"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["505"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["405"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["51"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);$=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["403"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["409"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["1027154980774243962"]);ga=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(ga()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxProcessSendErrorStoredProcedure] Started",1),d[0]=!0,d[1]=!0,a.sp("4").then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[6]=f[5]==null?!0:f[5],d[4]=f[7]==null?!1:f[7],d[5]=f[12]?!a.i64.eq(f[0],c(fa())):!0,e=[a.createArray()],d[7]=e[0],e,e=[(d[7].push("[TincanLS][LSSecureMailboxProcessSendErrorStoredProcedure] Process error for packet type:"),d[7])],d[8]=e[0],e,e=[(d[7].push(a.i64.to_string(f[1])),d[7])],d[9]=e[0],e,e=[d[7].join(" ")],d[10]=e[0],e,a.log(d[10],4),a.i64.eq(f[1],c(ea()))?a.seq([function(e){return!d[4]&&d[5]&&d[6]?a.seq([function(b){return a.sp("445",f[2],f[4],f[3],a.i64.eq(f[0],c(da()))?c(ca()):c(ba()),!1,void 0,void 0)},function(b){return a.i64.eq(f[0],c(aa()))?d[0]=!1:0}]):b("Promise").resolve()},function(b){return d[4]&&a.i64.eq(f[8],d[2])?d[0]=!1:0}]):a.i64.eq(f[1],c($()))?b("Promise").resolve(a.i64.eq(f[8],d[2])?d[0]=!1:0):a.i64.eq(f[1],c(Z()))?a.seq([function(b){return a.db.table(45).getArr([[[f[2],f[8],f[9]]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&a.i64.eq(b.b,f[8])&&b.c===f[9]&&a.i64.neq(b.e,c(Y()))}).forEach(function(a){var b=a.update;a.item;return b({e:c(X())})})},function(e){return d[4]?b("Promise").resolve((d[0]=!1,d[1]=!1)):d[5]?a.seq([function(b){return a.sp("444",f[2],a.i64.eq(f[0],c(W()))?c(V()):c(U()))},function(b){return a.i64.eq(f[0],c(T()))?d[0]=!1:0}]):b("Promise").resolve()}]):a.i64.eq(f[1],c(S()))?b("Promise").resolve((d[0]=!1,d[1]=!1)):a.i64.eq(f[1],c(R()))?b("Promise").resolve((d[0]=!1,d[1]=!1)):(e=[new a.Map()],d[11]=e[0],e,a.nop(48,c(Q()),"LSSecureMailboxProcessSendErrorStoredProcedure","Unsupported packet type",void 0,d[11]))},function(e){return d[0]?(e=[a.createArray()],d[7]=e[0],e,a.i64.eq(f[0],c(P()))?(e=[(d[7].push(c(O())),d[7])],d[9]=e[0],e):a.i64.eq(f[0],c(N()))?(e=[(d[7].push(c(M())),d[7])],d[10]=e[0],e):a.i64.eq(f[0],c(L()))?(e=[(d[7].push(c(K())),d[7])],d[11]=e[0],e):a.i64.eq(f[0],c(J()))?(e=[(d[7].push(c(I())),d[7])],d[12]=e[0],e):a.i64.eq(f[0],c(H()))?(e=[(d[7].push(c(G())),d[7])],d[13]=e[0],e):a.i64.eq(f[0],c(F()))?(e=[(d[7].push(c(E())),d[7])],d[14]=e[0],e):a.i64.eq(f[0],c(D()))?(e=[(d[7].push(c(C())),d[7])],d[15]=e[0],e):a.i64.eq(f[0],c(B()))?(e=[(d[7].push(c(A())),d[7])],d[16]=e[0],e):(e=[(d[7].push(c(z())),d[7])],d[16]=e[0],e),a.seq([function(b){return a.ntop("Array",3,d[7],c(y())).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return b=[a.createArray()],d[10]=b[0],b,a.sp("460",f[2],void 0,d[8],d[10],void 0,!1)}])):b("Promise").resolve()},function(e){return d[1]?a.i64.eq(f[0],c(x()))?a.seq([function(e){return e=[a.i64.of_int32(f[10].length)],d[8]=e[0],e,a.i64.gt(d[8],c(w()))?a.sp("200",f[2],f[10],"ProcessSendError_PARTICIPANTS_CHANGED",f[13]):b("Promise").resolve()},function(e){return f[12]?a.seq([function(e){return d[6]&&f[3]!==void 0?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[9]=a[0],a})},function(b){return a.nop(41,d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(e){return d[10]===""?(e=[new a.Map()],d[12]=e[0],e,a.nop(48,c(v()),"LSSecureMailboxProcessSendErrorStoredProcedure","Empty Instance ID",void 0,d[12])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[11]=b[0],b,b=[d[11].set("user_id",d[9])],d[12]=b[0],b,b=[d[11].set("instance_id",d[10])],d[12]=b[0],b,a.sp("443",d[11],f[2],f[3],f[11],!1)}]):b("Promise").resolve()},function(e){return!d[6]&&a.i64.eq(f[1],c(u()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[9]=a[0],a})},function(b){return a.nop(41,d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(e){return d[10]===""?(e=[new a.Map()],d[12]=e[0],e,a.nop(48,c(t()),"LSSecureMailboxProcessSendErrorStoredProcedure","Empty Instance ID",void 0,d[12])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[11]=b[0],b,b=[d[11].set("user_id",d[9])],d[12]=b[0],b,b=[d[11].set("instance_id",d[10])],d[12]=b[0],b,a.sp("443",d[11],f[2],void 0,f[11],!1)}]):b("Promise").resolve()}]):b("Promise").resolve()}]):a.i64.eq(f[0],c(s()))?a.seq([function(e){return a.i64.eq(f[1],c(r()))||a.i64.eq(f[1],c(q()))||d[4]&&a.i64.eq(f[1],c(p()))?a.seq([function(b){return a.sp("197",c(o()),"",f[2],f[8],f[9],!1)},function(b){return b=[a.createArray()],d[9]=b[0],b,b=[(d[9].push("[BI] Removed Device"),d[9])],d[10]=b[0],b,b=[(d[9].push(f[9]),d[9])],d[11]=b[0],b,b=[(d[9].push("ProcessSendError_NOT_FOUND"),d[9])],d[12]=b[0],b,b=[(d[9].push(a.i64.to_string(f[1])),d[9])],d[13]=b[0],b,b=[d[9].join(" ")],d[14]=b[0],b,b=[new a.Map()],d[15]=b[0],b,a.nop(48,c(n()),"LSSecureMailboxProcessSendErrorStoredProcedure",d[14],void 0,d[15])}]):b("Promise").resolve()},function(e){return!d[4]&&a.i64.eq(f[1],c(m()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[9]=a[0],a})},function(b){return a.seq([function(b){return b=[a.createArray()],d[10]=b[0],b,a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[2])&&a.i64.neq(b.b,d[9])}).forEach(function(b){var c;b=b.item;return c=[new a.Map()],d[12]=c[0],c,c=[d[12].set("instance_id",b.c)],d[14]=c[0],c,c=[d[12].set("user_id",b.b)],d[15]=c[0],c,b=[(d[10].push(d[12]),d[10])],d[13]=b[0],b})},function(b){return b=[a.createArray()],d[11]=b[0],b,a.sp("221",f[2],d[11],d[10],"ProcessSendError_NOT_FOUND",f[13])}])}]):b("Promise").resolve()}]):a.i64.eq(f[0],c(l()))?a.i64.eq(f[1],c(k()))?a.seq([function(b){return a.sp("197",c(j()),"",f[2],f[8],f[9],!1)},function(b){return b=[a.createArray()],d[10]=b[0],b,b=[(d[10].push("[BI] Removed Device"),d[10])],d[11]=b[0],b,b=[(d[10].push(f[9]),d[10])],d[12]=b[0],b,b=[(d[10].push("ProcessSendError_VERSION_TOO_NEW STATUS_SALAMANDER_BOUNCED"),d[10])],d[13]=b[0],b,b=[d[10].join(" ")],d[14]=b[0],b,b=[new a.Map()],d[15]=b[0],b,a.nop(48,c(i()),"LSSecureMailboxProcessSendErrorStoredProcedure",d[14],void 0,d[15])}]):b("Promise").resolve():a.i64.eq(f[0],c(h()))?a.sp("194","NOT_STARTED"):b("Promise").resolve(0):b("Promise").resolve()},function(b){return a.log("[TincanLS][LSSecureMailboxProcessSendErrorStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxReceiveMarkThreadAsUnreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4786332050766994680"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4786332050766994680"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxReceiveMarkThreadAsUnreadStoredProcedure] Started",1),a.nop(63,f[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.log("[TincanLS][LSSecureMailboxReceiveMarkThreadAsUnreadStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxReceiveSalamanderBounceStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7271840550109917481"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7271840550109917481"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.log("[TincanLS][LSSecureMailboxReceiveSalamanderBounceStoredProcedure] Started",1),a.log("[TincanLS][LSSecureMailboxReceiveSalamanderBounceStoredProcedure] Completed",1),a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSSecureMailboxReceiveSecureMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["385608230819235290"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["10005"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["11"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["203"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["10005"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["11"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["203"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["11"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["-2001"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["51"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["10005"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);Z=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["15"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["9"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);ja=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);$=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["10005"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["7000"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["11"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["203"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["11"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["-2001"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["51"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["101"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);Da=function(){return a};return a}function Ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ea=function(){return a};return a}function Fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["10005"]);Fa=function(){return a};return a}function Ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);Ga=function(){return a};return a}function Ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Ha=function(){return a};return a}function Ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000"]);Ia=function(){return a};return a}function Ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Ja=function(){return a};return a}function Ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Ka=function(){return a};return a}function La(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);La=function(){return a};return a}function Ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ma=function(){return a};return a}function Na(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Na=function(){return a};return a}function Oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Oa=function(){return a};return a}function Pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Pa=function(){return a};return a}function Qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Qa=function(){return a};return a}function Ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);Ra=function(){return a};return a}function Sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["15"]);Sa=function(){return a};return a}function Ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);Ta=function(){return a};return a}function Ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["9"]);Ua=function(){return a};return a}function Va(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Va=function(){return a};return a}function Wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Wa=function(){return a};return a}function Xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Xa=function(){return a};return a}function Ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Ya=function(){return a};return a}function Za(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);Za=function(){return a};return a}function $a(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);$a=function(){return a};return a}function ab(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);ab=function(){return a};return a}function bb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);bb=function(){return a};return a}function cb(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);cb=function(){return a};return a}function db(){var a=babelHelpers.taggedTemplateLiteralLoose(["385608230819235290"]);db=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(db()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Started",1),a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.nop(41,d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[1]===""?(e=[new a.Map()],d[3]=e[0],e,a.nop(48,c(cb()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Empty Instance ID",void 0,d[3])):b("Promise").resolve()},function(e){return(a.i64.eq(d[0],f[2])&&d[1]===f[3]?!0:!1)===!0?(e=[new a.Map()],d[3]=e[0],e,a.nop(48,c(bb()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","send message to self",void 0,d[3])):a.i64.neq(f[13],c(ab()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[4]=a[0],a})},function(b){return f[0]?a.seq([function(b){return a.nop(25,d[4],f[1],f[5],f[2],f[3],f[12]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],d[16]=a[4],a})},function(a){return a=[d[12],d[13],d[14],d[15],d[16]],d[6]=a[0],d[7]=a[1],d[8]=a[2],d[9]=a[3],d[10]=a[4],a}]):a.seq([function(b){return a.nop(19,d[4],f[1],f[2],f[3],f[4],f[12]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],d[16]=a[4],a})},function(a){return a=[d[12],d[13],d[14],d[15],d[16]],d[6]=a[0],d[7]=a[1],d[8]=a[2],d[9]=a[3],d[10]=a[4],a}])},function(e){return a.i64.eq(d[10],c($a()))?d[7]!==void 0?a.seq([function(e){return d[15]=a.notnull(d[7]),a.i64.eq(d[8],c(Za()))||a.i64.eq(d[8],c(Ya()))||a.i64.eq(d[8],c(Xa()))?a.seq([function(b){return a.sp("459",f[5],d[15],f[13]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return a.sp("459",f[5],a.notnull(d[6]),f[13]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return a=[d[16],d[17]],d[13]=a[0],d[14]=a[1],a}]):b("Promise").resolve((e=["",""],d[13]=e[0],d[14]=e[1],e))},function(e){return a.i64.eq(d[8],c(Wa()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[16]=a[0],a})},function(c){return a.i64.neq(f[2],d[16])?a.db.table(43).getArr([[[f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&b.b===f[3]}).forEach(function(a){return a["delete"]()}):b("Promise").resolve()},function(b){return a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]}).forEach(function(a){var b=a.update;a.item;return b({d:void 0,e:c(Va())})})}]):b("Promise").resolve()},function(e){return a.i64.eq(d[8],c(Ua()))?a.seq([function(b){return b=[a.createArray()],d[16]=b[0],b,a.db.table(7).getArr([[f[2]]]).filter(function(b){return a.i64.eq(b.a,f[2])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[""],d[17]=c[0],c):(b=a.item,c=[b.h],d[17]=c[0],c)})},function(b){return b=[(d[16].push(d[17]),d[16])],d[19]=b[0],b,a.sp("4").then(function(a){return a=a,d[20]=a[0],a})},function(b){return a.sp("460",f[5],void 0,a.i64.eq(d[20],f[2])?c(Ta()):c(Sa()),d[16],void 0,!1)}]):b("Promise").resolve()},function(e){return a.i64.eq(d[8],c(Ra()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[16]=a[0],a})},function(b){return d[20]=a.i64.gt(d[9],c(Qa()))?a.i64.eq(f[2],d[16])?"You sent a disappearing message.":"You received a disappearing message.":d[15],a.sp("457",f[5],f[6],d[20],!1,f[2],!0,f[13],void 0,void 0)},function(b){return a.sp("222",f[5],f[6],f[7],f[8],d[13],f[2],d[9],f[9],void 0,void 0,f[11],d[14],!1).then(function(a){return a=a,d[17]=a[0],a})},function(c){return d[17]===!0?a.seq([function(b){return a.sp("457",f[5],f[6],d[20],!1,f[2],!1,f[13],void 0,void 0)},function(a){return a=[!0],d[19]=a[0],a}]):b("Promise").resolve((c=[!1],d[19]=c[0],c))}]):b("Promise").resolve()},function(e){return a.i64.eq(d[8],c(Pa()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[16]=a[0],a})},function(b){return a.sp("4").then(function(a){return a=a,d[17]=a[0],a})},function(b){return d[21]=a.i64.gt(d[9],c(Oa()))?a.i64.eq(f[2],d[16])?"You sent a disappearing message.":"You received a disappearing message.":a.i64.eq(f[2],d[17])?"You sent an attachment.":"You received an attachment.",a.sp("457",f[5],f[6],d[21],!1,f[2],!0,f[13],void 0,void 0)},function(b){return a.sp("222",f[5],f[6],f[7],f[8],void 0,f[2],d[9],f[9],d[13],void 0,f[11],d[14],!1).then(function(a){return a=a,d[18]=a[0],a})},function(c){return d[18]===!0?a.seq([function(b){return a.sp("457",f[5],f[6],d[21],!1,f[2],!1,f[13],void 0,void 0)},function(a){return a=[!0],d[20]=a[0],a}]):b("Promise").resolve((c=[!1],d[20]=c[0],c))},function(c){return d[20]===!0?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[22]=a[0],a})},function(b){return a.nop(50,d[22],f[5],f[6],f[7],d[15]).then(function(a){return a=a,d[23]=a[0],a})}]):b("Promise").resolve()}]):b("Promise").resolve()},function(e){return a.i64.eq(d[8],c(Na()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[16]=a[0],a})},function(b){return a.sp("4").then(function(a){return a=a,d[17]=a[0],a})},function(b){return d[21]=a.i64.gt(d[9],c(Ma()))?a.i64.eq(f[2],d[16])?"You sent a disappearing message.":"You received a disappearing message.":a.i64.eq(f[2],d[17])?"You sent a sticker.":"You received a sticker.",a.sp("457",f[5],f[6],d[21],!1,f[2],!0,f[13],void 0,void 0)},function(b){return a.sp("222",f[5],f[6],f[7],f[8],void 0,f[2],d[9],f[9],void 0,d[13],f[11],d[14],!1).then(function(a){return a=a,d[18]=a[0],a})},function(c){return d[18]===!0?a.seq([function(b){return a.sp("457",f[5],f[6],d[21],!1,f[2],!1,f[13],void 0,void 0)},function(a){return a=[!0],d[20]=a[0],a}]):b("Promise").resolve((c=[!1],d[20]=c[0],c))}]):b("Promise").resolve()},function(e){return a.i64.eq(d[8],c(La()))||a.i64.eq(d[8],c(Ka()))||a.i64.eq(d[8],c(Ja()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[16]=a[0],a})},function(e){return a.i64.neq(f[2],d[16])?a.seq([function(b){return b=[a.i64.of_float(Date.now())],d[18]=b[0],b,b=[new a.Map()],d[19]=b[0],b,b=[d[19].set("date_micros",a.i64.mul(d[18],c(Ia())))],d[27]=b[0],b,b=[d[19].set("mid",f[7])],d[28]=b[0],b,a.sp("4").then(function(a){return a=a,d[20]=a[0],a})},function(b){return a.nop(41,d[20]).then(function(a){return a=a,d[21]=a[0],a})},function(e){return d[21]===""?(e=[new a.Map()],d[27]=e[0],e,a.nop(48,c(Ha()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Empty Instance ID",void 0,d[27])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[22]=b[0],b,b=[d[22].set("user_id",d[20])],d[27]=b[0],b,b=[d[22].set("instance_id",d[21])],d[27]=b[0],b,b=[new a.Map()],d[23]=b[0],b,b=[d[23].set("from_device",d[22])],d[27]=b[0],b,b=[d[23].set("packet_type",c(Ga()))],d[28]=b[0],b,b=[d[23].set("thread_key",f[5])],d[29]=b[0],b,b=[d[23].set("queue_name","secure-message-receipt")],d[30]=b[0],b,b=[d[23].set("receipt_payload",d[19])],d[31]=b[0],b,b=[d[23].set("trace_id",f[10])],d[32]=b[0],b,b=[d[23].get("queue_name"),d[23]],d[24]=b[0],d[25]=b[1],b,b=[a.toJSON(d[23])],d[26]=b[0],b,a.sp("1",d[24]==null?"":d[24],c(Fa()),d[26],void 0,void 0,c(Ea()),void 0)},function(e){return f[10]!==void 0?(e=[new a.Map()],d[27]=e[0],e,e=[d[27].set("ls_request_type",c(Da()))],d[28]=e[0],e,e=[d[27].set("packet_type",c(Ca()))],d[29]=e[0],e,e=[d[27].set("task_label","10005")],d[30]=e[0],e,e=[d[27].set("task_queue_name","secure-message-receipt")],d[31]=e[0],e,e=[a.createArray()],d[32]=e[0],e,a.sp("451",f[10],c(Ba()),void 0,void 0,d[27],!0,!0,!1,d[32])):b("Promise").resolve()},function(b){return a.sp("447",c(Aa()),f[6],f[5],f[2],f[7],f[6])},function(b){return a.db.table(46).getArr([[f[5]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.lt(f[6],b.c)}).forEach(function(b){var d=b.update;b.item;return d({c:a.i64.sub(f[6],c(za()))})})}]):a.seq([function(b){return a.db.table(46).getArr([[f[5]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.lt(b.c,f[6])}).forEach(function(a){var b=a.update;a.item;return b({c:f[6]})})},function(b){return a.sp("461",f[5],f[6],f[6])}])},function(b){return a.sp("199",f[5],c(ya()))}]):b("Promise").resolve()}]):b("Promise").resolve():a.i64.eq(d[10],c(xa()))?a.seq([function(b){return b=[new a.Map()],d[14]=b[0],b,a.nop(48,c(wa()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Ephemeral message unsupported - setting admin message",void 0,d[14])},function(b){return a.sp("457",f[5],f[6],"Failed to receive an ephemeral message as it is unsupported on this version of Messenger.",!0,f[2],!1,f[13],void 0,void 0)},function(b){return b=[a.createArray()],d[13]=b[0],b,a.sp("460",f[5],void 0,c(va()),d[13],"Failed to receive an ephemeral message as it is unsupported on this version of Messenger.",!0)}]):a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Decryption failed or group thread not found - sending bounce",4),f[10]!==void 0?(e=[new a.Map()],d[13]=e[0],e,e=[d[13].set("ls_request_type",c(ua()))],d[14]=e[0],e,e=[d[13].set("packet_type",c(ta()))],d[15]=e[0],e,e=[d[13].set("task_label",void 0)],d[16]=e[0],e,e=[d[13].set("task_queue_name",void 0)],d[17]=e[0],e,e=[a.createArray()],d[18]=e[0],e,a.sp("451",f[10],c(sa()),void 0,c(ra()),d[13],!1,!0,!1,d[18])):b("Promise").resolve()},function(b){return a.sp("223",f[2],f[3])},function(b){return a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]&&b.d!==void 0}).next().then(function(b,c){c=b.done;b=b.value;return c?0:(b.item,a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Clear sender key on decryption errors",4),a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]}).forEach(function(a){var b=a.update;a.item;return b({d:void 0})}))})},function(e){return f[15]?a.seq([function(b){return b=[new a.Map()],d[13]=b[0],b,b=[d[13].set("status_sender_nonce",f[8])],d[29]=b[0],b,b=[d[13].set("sender_was_multi",f[0])],d[30]=b[0],b,a.sp("4").then(function(a){return a=a,d[14]=a[0],a})},function(b){return a.nop(41,d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(e){return d[15]===""?(e=[new a.Map()],d[29]=e[0],e,a.nop(48,c(qa()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Empty Instance ID",void 0,d[29])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[16]=b[0],b,b=[d[16].set("user_id",d[14])],d[29]=b[0],b,b=[d[16].set("instance_id",d[15])],d[29]=b[0],b,b=[a.createArray()],d[17]=b[0],b,b=[(d[17].push(a.i64.to_string(f[5])),d[17])],d[18]=b[0],b,b=[(d[17].push("_sm"),d[17])],d[19]=b[0],b,b=[d[17].join("")],d[20]=b[0],b,b=[new a.Map()],d[21]=b[0],b,b=[d[21].set("from_device",d[16])],d[29]=b[0],b,b=[d[21].set("packet_type",c(pa()))],d[30]=b[0],b,b=[d[21].set("to_user_id",f[2])],d[31]=b[0],b,b=[d[21].set("to_instance_id",f[3])],d[32]=b[0],b,b=[d[21].set("thread_key",f[5])],d[33]=b[0],b,b=[d[21].set("queue_name",d[20])],d[34]=b[0],b,b=[d[21].set("status_payload",d[13])],d[35]=b[0],b,b=[d[21].set("trace_id",f[10])],d[36]=b[0],b,b=[d[21].get("queue_name"),d[21]],d[22]=b[0],d[23]=b[1],b,b=[a.toJSON(d[21])],d[24]=b[0],b,a.sp("1",d[22]==null?"":d[22],c(oa()),d[24],void 0,void 0,c(na()),void 0)},function(e){return e=[a.createArray()],d[25]=e[0],e,e=[(d[25].push(a.i64.to_string(f[5])),d[25])],d[26]=e[0],e,e=[(d[25].push("_sm"),d[25])],d[27]=e[0],e,e=[d[25].join("")],d[28]=e[0],e,f[10]!==void 0?(e=[new a.Map()],d[29]=e[0],e,e=[d[29].set("ls_request_type",c(ma()))],d[30]=e[0],e,e=[d[29].set("packet_type",c(la()))],d[31]=e[0],e,e=[d[29].set("task_label","10005")],d[32]=e[0],e,e=[d[29].set("task_queue_name",d[28])],d[33]=e[0],e,e=[a.createArray()],d[34]=e[0],e,a.sp("451",f[10],c(ka()),void 0,void 0,d[29],!0,!0,!1,d[34])):b("Promise").resolve()}]):b("Promise").resolve()}])}]):a.seq([function(b){return a.sp("457",f[5],f[6],"",!1,f[2],!0,c($()),void 0,void 0)},function(e){return a.db.table(46).getArr([[f[5]]]).filter(function(b){return a.i64.eq(b.a,f[5])}).next().then(function(e,g){var $=e.done;e=e.value;return $?0:(g=e.item,a.i64.eq(g.j,c(ja()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[5]=a[0],a})},function(b){return f[0]?a.seq([function(b){return a.nop(25,d[5],f[1],f[5],f[2],f[3],f[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],d[15]=a[2],d[16]=a[3],d[17]=a[4],a})},function(a){return a=[d[13],d[14],d[15],d[16],d[17]],d[7]=a[0],d[8]=a[1],d[9]=a[2],d[10]=a[3],d[11]=a[4],a}]):a.seq([function(b){return a.nop(19,d[5],f[1],f[2],f[3],f[4],f[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],d[15]=a[2],d[16]=a[3],d[17]=a[4],a})},function(a){return a=[d[13],d[14],d[15],d[16],d[17]],d[7]=a[0],d[8]=a[1],d[9]=a[2],d[10]=a[3],d[11]=a[4],a}])},function(e){return a.i64.eq(d[11],c(ia()))?d[8]!==void 0?a.seq([function(e){return d[16]=a.notnull(d[8]),a.i64.eq(d[9],c(ha()))||a.i64.eq(d[9],c(ga()))||a.i64.eq(d[9],c(fa()))?a.seq([function(b){return a.sp("459",f[5],d[16],f[13]).then(function(a){return a=a,d[17]=a[0],a})},function(b){return a.sp("459",f[5],a.notnull(d[7]),f[13]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return a=[d[17],d[18]],d[14]=a[0],d[15]=a[1],a}]):b("Promise").resolve((e=["",""],d[14]=e[0],d[15]=e[1],e))},function(e){return a.i64.eq(d[9],c(ea()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[17]=a[0],a})},function(c){return a.i64.neq(f[2],d[17])?a.db.table(43).getArr([[[f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&b.b===f[3]}).forEach(function(a){return a["delete"]()}):b("Promise").resolve()},function(b){return a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]}).forEach(function(a){var b=a.update;a.item;return b({d:void 0,e:c(da())})})}]):b("Promise").resolve()},function(e){return a.i64.eq(d[9],c(ca()))?a.seq([function(b){return b=[a.createArray()],d[17]=b[0],b,a.db.table(7).getArr([[f[2]]]).filter(function(b){return a.i64.eq(b.a,f[2])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[""],d[18]=a[0],a):(c=b.item,a=[c.h],d[18]=a[0],a)})},function(b){return b=[(d[17].push(d[18]),d[17])],d[20]=b[0],b,a.sp("4").then(function(a){return a=a,d[21]=a[0],a})},function(b){return a.sp("460",f[5],void 0,a.i64.eq(d[21],f[2])?c(ba()):c(aa()),d[17],void 0,!1)}]):b("Promise").resolve()},function(e){return a.i64.eq(d[9],c(Z()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[17]=a[0],a})},function(b){return d[21]=a.i64.gt(d[10],c(Y()))?a.i64.eq(f[2],d[17])?"You sent a disappearing message.":"You received a disappearing message.":d[16],a.sp("457",f[5],f[6],d[21],!1,f[2],!0,f[13],void 0,void 0)},function(b){return a.sp("222",f[5],f[6],f[7],f[8],d[14],f[2],d[10],f[9],void 0,void 0,f[11],d[15],!1).then(function(a){return a=a,d[18]=a[0],a})},function(c){return d[18]===!0?a.seq([function(b){return a.sp("457",f[5],f[6],d[21],!1,f[2],!1,f[13],void 0,void 0)},function(a){return a=[!0],d[20]=a[0],a}]):b("Promise").resolve((c=[!1],d[20]=c[0],c))}]):b("Promise").resolve()},function(e){return a.i64.eq(d[9],c(X()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[17]=a[0],a})},function(b){return a.sp("4").then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[22]=a.i64.gt(d[10],c(W()))?a.i64.eq(f[2],d[17])?"You sent a disappearing message.":"You received a disappearing message.":a.i64.eq(f[2],d[18])?"You sent an attachment.":"You received an attachment.",a.sp("457",f[5],f[6],d[22],!1,f[2],!0,f[13],void 0,void 0)},function(b){return a.sp("222",f[5],f[6],f[7],f[8],void 0,f[2],d[10],f[9],d[14],void 0,f[11],d[15],!1).then(function(a){return a=a,d[19]=a[0],a})},function(c){return d[19]===!0?a.seq([function(b){return a.sp("457",f[5],f[6],d[22],!1,f[2],!1,f[13],void 0,void 0)},function(a){return a=[!0],d[21]=a[0],a}]):b("Promise").resolve((c=[!1],d[21]=c[0],c))},function(c){return d[21]===!0?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[23]=a[0],a})},function(b){return a.nop(50,d[23],f[5],f[6],f[7],d[16]).then(function(a){return a=a,d[24]=a[0],a})}]):b("Promise").resolve()}]):b("Promise").resolve()},function(e){return a.i64.eq(d[9],c(V()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[17]=a[0],a})},function(b){return a.sp("4").then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[22]=a.i64.gt(d[10],c(U()))?a.i64.eq(f[2],d[17])?"You sent a disappearing message.":"You received a disappearing message.":a.i64.eq(f[2],d[18])?"You sent a sticker.":"You received a sticker.",a.sp("457",f[5],f[6],d[22],!1,f[2],!0,f[13],void 0,void 0)},function(b){return a.sp("222",f[5],f[6],f[7],f[8],void 0,f[2],d[10],f[9],void 0,d[14],f[11],d[15],!1).then(function(a){return a=a,d[19]=a[0],a})},function(c){return d[19]===!0?a.seq([function(b){return a.sp("457",f[5],f[6],d[22],!1,f[2],!1,f[13],void 0,void 0)},function(a){return a=[!0],d[21]=a[0],a}]):b("Promise").resolve((c=[!1],d[21]=c[0],c))}]):b("Promise").resolve()},function(e){return a.i64.eq(d[9],c(T()))||a.i64.eq(d[9],c(S()))||a.i64.eq(d[9],c(R()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[17]=a[0],a})},function(e){return a.i64.neq(f[2],d[17])?a.seq([function(b){return b=[a.i64.of_float(Date.now())],d[19]=b[0],b,b=[new a.Map()],d[20]=b[0],b,b=[d[20].set("date_micros",a.i64.mul(d[19],c(Q())))],d[28]=b[0],b,b=[d[20].set("mid",f[7])],d[29]=b[0],b,a.sp("4").then(function(a){return a=a,d[21]=a[0],a})},function(b){return a.nop(41,d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(e){return d[22]===""?(e=[new a.Map()],d[28]=e[0],e,a.nop(48,c(P()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Empty Instance ID",void 0,d[28])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[23]=b[0],b,b=[d[23].set("user_id",d[21])],d[28]=b[0],b,b=[d[23].set("instance_id",d[22])],d[28]=b[0],b,b=[new a.Map()],d[24]=b[0],b,b=[d[24].set("from_device",d[23])],d[28]=b[0],b,b=[d[24].set("packet_type",c(O()))],d[29]=b[0],b,b=[d[24].set("thread_key",f[5])],d[30]=b[0],b,b=[d[24].set("queue_name","secure-message-receipt")],d[31]=b[0],b,b=[d[24].set("receipt_payload",d[20])],d[32]=b[0],b,b=[d[24].set("trace_id",f[10])],d[33]=b[0],b,b=[d[24].get("queue_name"),d[24]],d[25]=b[0],d[26]=b[1],b,b=[a.toJSON(d[24])],d[27]=b[0],b,a.sp("1",d[25]==null?"":d[25],c(N()),d[27],void 0,void 0,c(M()),void 0)},function(e){return f[10]!==void 0?(e=[new a.Map()],d[28]=e[0],e,e=[d[28].set("ls_request_type",c(L()))],d[29]=e[0],e,e=[d[28].set("packet_type",c(K()))],d[30]=e[0],e,e=[d[28].set("task_label","10005")],d[31]=e[0],e,e=[d[28].set("task_queue_name","secure-message-receipt")],d[32]=e[0],e,e=[a.createArray()],d[33]=e[0],e,a.sp("451",f[10],c(J()),void 0,void 0,d[28],!0,!0,!1,d[33])):b("Promise").resolve()},function(b){return a.sp("447",c(I()),f[6],f[5],f[2],f[7],f[6])},function(b){return a.db.table(46).getArr([[f[5]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.lt(f[6],b.c)}).forEach(function(b){var d=b.update;b.item;return d({c:a.i64.sub(f[6],c(H()))})})}]):a.seq([function(b){return a.db.table(46).getArr([[f[5]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.lt(b.c,f[6])}).forEach(function(a){var b=a.update;a.item;return b({c:f[6]})})},function(b){return a.sp("461",f[5],f[6],f[6])}])},function(b){return a.sp("199",f[5],c(G()))}]):b("Promise").resolve()}]):b("Promise").resolve():a.i64.eq(d[11],c(F()))?a.seq([function(b){return b=[new a.Map()],d[15]=b[0],b,a.nop(48,c(E()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Ephemeral message unsupported - setting admin message",void 0,d[15])},function(b){return a.sp("457",f[5],f[6],"Failed to receive an ephemeral message as it is unsupported on this version of Messenger.",!0,f[2],!1,f[13],void 0,void 0)},function(b){return b=[a.createArray()],d[14]=b[0],b,a.sp("460",f[5],void 0,c(D()),d[14],"Failed to receive an ephemeral message as it is unsupported on this version of Messenger.",!0)}]):a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Decryption failed or group thread not found - sending bounce",4),f[10]!==void 0?(e=[new a.Map()],d[14]=e[0],e,e=[d[14].set("ls_request_type",c(C()))],d[15]=e[0],e,e=[d[14].set("packet_type",c(B()))],d[16]=e[0],e,e=[d[14].set("task_label",void 0)],d[17]=e[0],e,e=[d[14].set("task_queue_name",void 0)],d[18]=e[0],e,e=[a.createArray()],d[19]=e[0],e,a.sp("451",f[10],c(A()),void 0,c(z()),d[14],!1,!0,!1,d[19])):b("Promise").resolve()},function(b){return a.sp("223",f[2],f[3])},function(b){return a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]&&b.d!==void 0}).next().then(function(b,c){c=b.done;b=b.value;return c?0:(b.item,a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Clear sender key on decryption errors",4),a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]}).forEach(function(a){var b=a.update;a.item;return b({d:void 0})}))})},function(e){return f[15]?a.seq([function(b){return b=[new a.Map()],d[14]=b[0],b,b=[d[14].set("status_sender_nonce",f[8])],d[30]=b[0],b,b=[d[14].set("sender_was_multi",f[0])],d[31]=b[0],b,a.sp("4").then(function(a){return a=a,d[15]=a[0],a})},function(b){return a.nop(41,d[15]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[16]===""?(e=[new a.Map()],d[30]=e[0],e,a.nop(48,c(y()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Empty Instance ID",void 0,d[30])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[17]=b[0],b,b=[d[17].set("user_id",d[15])],d[30]=b[0],b,b=[d[17].set("instance_id",d[16])],d[30]=b[0],b,b=[a.createArray()],d[18]=b[0],b,b=[(d[18].push(a.i64.to_string(f[5])),d[18])],d[19]=b[0],b,b=[(d[18].push("_sm"),d[18])],d[20]=b[0],b,b=[d[18].join("")],d[21]=b[0],b,b=[new a.Map()],d[22]=b[0],b,b=[d[22].set("from_device",d[17])],d[30]=b[0],b,b=[d[22].set("packet_type",c(x()))],d[31]=b[0],b,b=[d[22].set("to_user_id",f[2])],d[32]=b[0],b,b=[d[22].set("to_instance_id",f[3])],d[33]=b[0],b,b=[d[22].set("thread_key",f[5])],d[34]=b[0],b,b=[d[22].set("queue_name",d[21])],d[35]=b[0],b,b=[d[22].set("status_payload",d[14])],d[36]=b[0],b,b=[d[22].set("trace_id",f[10])],d[37]=b[0],b,b=[d[22].get("queue_name"),d[22]],d[23]=b[0],d[24]=b[1],b,b=[a.toJSON(d[22])],d[25]=b[0],b,a.sp("1",d[23]==null?"":d[23],c(w()),d[25],void 0,void 0,c(v()),void 0)},function(e){return e=[a.createArray()],d[26]=e[0],e,e=[(d[26].push(a.i64.to_string(f[5])),d[26])],d[27]=e[0],e,e=[(d[26].push("_sm"),d[26])],d[28]=e[0],e,e=[d[26].join("")],d[29]=e[0],e,f[10]!==void 0?(e=[new a.Map()],d[30]=e[0],e,e=[d[30].set("ls_request_type",c(u()))],d[31]=e[0],e,e=[d[30].set("packet_type",c(t()))],d[32]=e[0],e,e=[d[30].set("task_label","10005")],d[33]=e[0],e,e=[d[30].set("task_queue_name",d[29])],d[34]=e[0],e,e=[a.createArray()],d[35]=e[0],e,a.sp("451",f[10],c(s()),void 0,void 0,d[30],!0,!0,!1,d[35])):b("Promise").resolve()}]):b("Promise").resolve()}])}]):a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Decryption failed or group thread not found - sending bounce",4),f[10]!==void 0?(e=[new a.Map()],d[5]=e[0],e,e=[d[5].set("ls_request_type",c(r()))],d[6]=e[0],e,e=[d[5].set("packet_type",c(q()))],d[7]=e[0],e,e=[d[5].set("task_label",void 0)],d[8]=e[0],e,e=[d[5].set("task_queue_name",void 0)],d[9]=e[0],e,e=[a.createArray()],d[10]=e[0],e,a.sp("451",f[10],c(p()),void 0,c(o()),d[5],!1,!0,!1,d[10])):b("Promise").resolve()},function(b){return a.sp("223",f[2],f[3])},function(b){return a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]&&b.d!==void 0}).next().then(function(b,c){c=b.done;b=b.value;return c?0:(b.item,a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Clear sender key on decryption errors",4),a.db.table(45).getArr([[[f[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]}).forEach(function(a){var b=a.update;a.item;return b({d:void 0})}))})},function(e){return f[15]?a.seq([function(b){return b=[new a.Map()],d[5]=b[0],b,b=[d[5].set("status_sender_nonce",f[8])],d[21]=b[0],b,b=[d[5].set("sender_was_multi",f[0])],d[22]=b[0],b,a.sp("4").then(function(a){return a=a,d[6]=a[0],a})},function(b){return a.nop(41,d[6]).then(function(a){return a=a,d[7]=a[0],a})},function(e){return d[7]===""?(e=[new a.Map()],d[21]=e[0],e,a.nop(48,c(n()),"LSSecureMailboxReceiveSecureMessageStoredProcedure","Empty Instance ID",void 0,d[21])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[8]=b[0],b,b=[d[8].set("user_id",d[6])],d[21]=b[0],b,b=[d[8].set("instance_id",d[7])],d[21]=b[0],b,b=[a.createArray()],d[9]=b[0],b,b=[(d[9].push(a.i64.to_string(f[5])),d[9])],d[10]=b[0],b,b=[(d[9].push("_sm"),d[9])],d[11]=b[0],b,b=[d[9].join("")],d[12]=b[0],b,b=[new a.Map()],d[13]=b[0],b,b=[d[13].set("from_device",d[8])],d[21]=b[0],b,b=[d[13].set("packet_type",c(m()))],d[22]=b[0],b,b=[d[13].set("to_user_id",f[2])],d[23]=b[0],b,b=[d[13].set("to_instance_id",f[3])],d[24]=b[0],b,b=[d[13].set("thread_key",f[5])],d[25]=b[0],b,b=[d[13].set("queue_name",d[12])],d[26]=b[0],b,b=[d[13].set("status_payload",d[5])],d[27]=b[0],b,b=[d[13].set("trace_id",f[10])],d[28]=b[0],b,b=[d[13].get("queue_name"),d[13]],d[14]=b[0],d[15]=b[1],b,b=[a.toJSON(d[13])],d[16]=b[0],b,a.sp("1",d[14]==null?"":d[14],c(l()),d[16],void 0,void 0,c(k()),void 0)},function(e){return e=[a.createArray()],d[17]=e[0],e,e=[(d[17].push(a.i64.to_string(f[5])),d[17])],d[18]=e[0],e,e=[(d[17].push("_sm"),d[17])],d[19]=e[0],e,e=[d[17].join("")],d[20]=e[0],e,f[10]!==void 0?(e=[new a.Map()],d[21]=e[0],e,e=[d[21].set("ls_request_type",c(j()))],d[22]=e[0],e,e=[d[21].set("packet_type",c(i()))],d[23]=e[0],e,e=[d[21].set("task_label","10005")],d[24]=e[0],e,e=[d[21].set("task_queue_name",d[20])],d[25]=e[0],e,e=[a.createArray()],d[26]=e[0],e,a.sp("451",f[10],c(h()),void 0,void 0,d[21],!0,!0,!1,d[26])):b("Promise").resolve()}]):b("Promise").resolve()}]))})}])},function(b){return a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxReceiveSecureMessageV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5096246263718830728"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5096246263718830728"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageV2StoredProcedure] Started",1),a.nop(60,f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.log("[TincanLS][LSSecureMailboxReceiveSecureMessageV2StoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxReceiveThreadSenderKeyStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8227132823254815578"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["8227132823254815578"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(o()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxReceiveThreadSenderKeyStoredProcedure] Started",1),a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.nop(41,d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[1]===""?(e=[new a.Map()],d[3]=e[0],e,a.nop(48,c(n()),"LSSecureMailboxReceiveThreadSenderKeyStoredProcedure","Empty Instance ID",void 0,d[3])):b("Promise").resolve()},function(e){return a.i64.eq(f[1],d[0])&&f[2]===d[1]?(e=[new a.Map()],d[3]=e[0],e,a.nop(48,c(m()),"LSSecureMailboxReceiveThreadSenderKeyStoredProcedure","Received sender key with the same user and instace id as the local device",void 0,d[3])):a.seq([function(b){return a.nop(19,d[0],f[3],f[1],f[2],f[4],!1).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],d[5]=a[2],d[6]=a[3],d[7]=a[4],a})},function(e){return a.i64.eq(d[7],c(l()))?a.seq([function(e){return a.i64.neq(d[5],c(k()))?(e=[a.createArray()],d[9]=e[0],e,e=[(d[9].push("Incorrect salamander type"),d[9])],d[10]=e[0],e,e=[(d[9].push(a.i64.to_string(d[5])),d[9])],d[11]=e[0],e,e=[d[9].join(" ")],d[12]=e[0],e,e=[new a.Map()],d[13]=e[0],e,a.nop(48,c(j()),"LSSecureMailboxReceiveThreadSenderKeyStoredProcedure",d[12],void 0,d[13])):b("Promise").resolve()},function(b){return a.sp("457",f[0],c(i()),"",!0,d[0],!0,f[5],void 0,void 0)},function(b){return a.sp("196",d[0],d[1],f[0],f[1],f[2],!0)},function(c){return d[4]!==void 0?a.nop(21,d[0],a.notnull(d[4]),f[0],f[1],f[2]).then(function(a){return a=a,d[9]=a[0],a}):b("Promise").resolve()}]):(e=[new a.Map()],d[9]=e[0],e,a.nop(48,c(h()),"LSSecureMailboxReceiveThreadSenderKeyStoredProcedure","Dropped sender key message due to P2P decryption failure",void 0,d[9]))}])},function(b){return a.log("[TincanLS][LSSecureMailboxReceiveThreadSenderKeyStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxReceiveThreadSenderKeyV2StoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7357608542521400705"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["7357608542521400705"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(j()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxReceiveThreadSenderKeyV2StoredProcedure] Started",1),a.nop(62,f[0],f[1],f[2],f[3],f[4],f[5]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a.i64.neq(d[0],c(i()))?(e=[new a.Map()],d[1]=e[0],e,a.nop(48,c(h()),"LSSecureMailboxReceiveThreadSenderKeyV2StoredProcedure","Failed to process a received sender key.",void 0,d[1])):b("Promise").resolve()},function(b){return a.log("[TincanLS][LSSecureMailboxReceiveThreadSenderKeyV2StoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxRemoveSenderKeyStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4187576317583129825"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4187576317583129825"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(k()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxRemoveSenderKeyStoredProcedure] Started",1),a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.nop(41,d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[1]===""?(e=[new a.Map()],d[3]=e[0],e,a.nop(48,c(j()),"LSSecureMailboxRemoveSenderKeyStoredProcedure","Empty Instance ID",void 0,d[3])):b("Promise").resolve()},function(e){return a.db.table(45).getArr([[[f[2],f[3],f[4]]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&a.i64.eq(b.b,f[3])&&b.c===f[4]}).next().then(function(e,g){g=e.done;e=e.value;return g?0:(e.item,a.seq([function(b){return a.db.table(45).getArr([[[f[2],f[3],f[4]]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&a.i64.eq(b.b,f[3])&&b.c===f[4]}).forEach(function(a){return a["delete"]()})},function(e){return f[5]===!0?a.seq([function(b){return b=[a.createArray()],d[3]=b[0],b,a.db.table(7).getArr([[f[3]]]).filter(function(b){return a.i64.eq(b.a,f[3])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[""],d[4]=c[0],c):(b=a.item,c=[b.h],d[4]=c[0],c)})},function(b){return b=[(d[3].push(d[4]),d[3])],d[6]=b[0],b,a.db.table(44).getArr([[f[4]]]).filter(function(a){return a.a===f[4]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[""],d[7]=c[0],c):(b=a.item,c=[b.b],d[7]=c[0],c)})},function(b){return b=[(d[3].push(d[7]),d[3])],d[9]=b[0],b,a.sp("460",f[2],void 0,a.i64.eq(d[0],f[3])?c(i()):c(h()),d[3],void 0,!1)}]):b("Promise").resolve()}]))})},function(b){return a.log("[TincanLS][LSSecureMailboxRemoveSenderKeyStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxSendSecureMediaMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8265797872167494074"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["107"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["8265797872167494074"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(p()))},function(e){return a.seq([function(e){return a.i64.eq(a.rm,c(o()))?0:a["throw"]("LS:assert is failed. "),a.log("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started",1),a.db.table(47).getArr([[f[0]],"optimistic"]).filter(function(a){return a.g===f[0]&&a.m!==void 0}).next().then(function(e,g){var o=e.done;e=e.value;return o?(o=[a.createArray()],d[1]=o[0],o,o=[(d[1].push("Media id doesn't exist:"),d[1])],d[2]=o[0],o,o=[(d[1].push(f[0]),d[1])],d[3]=o[0],o,o=[d[1].join(" ")],d[4]=o[0],o,o=[new a.Map()],d[5]=o[0],o,a.nop(48,c(n()),"LSSecureMailboxSendSecureMediaMessageStoredProcedure",d[4],void 0,d[5])):(g=e.item,a.seq([function(b){return d[5]=g.a,d[10]=g.b,d[11]=g.c,a.sp("4").then(function(a){return a=a,d[1]=a[0],a})},function(b){return a.nop(42,d[5],d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(b){return a.nop(40,a.notnull(g.m),d[2]).then(function(a){return a=a,d[3]=a[0],a})},function(b){return a.sp("4").then(function(a){return a=a,d[4]=a[0],a})},function(b){return a.nop(44,d[4],d[5],f[0],d[3],f[1],f[2]).then(function(a){return a=a,d[6]=a[0],a})},function(c){return d[6]!==void 0?a.seq([function(b){return a.nop(39,a.notnull(d[6]),d[2]).then(function(a){return a=a,d[12]=a[0],a})},function(a){return a=[d[12]],d[8]=a[0],a}]):b("Promise").resolve((c=[void 0],d[8]=c[0],c))},function(e){return d[8]!==void 0?a.seq([function(e){return f[0]!==void 0?(e=[new a.Map()],d[15]=e[0],e,e=[d[15].set("ls_request_type",c(m()))],d[16]=e[0],e,e=[d[15].set("packet_type",void 0)],d[17]=e[0],e,e=[d[15].set("task_label",void 0)],d[18]=e[0],e,e=[d[15].set("task_queue_name",void 0)],d[19]=e[0],e,e=[a.createArray()],d[20]=e[0],e,a.sp("451",f[0],c(l()),void 0,void 0,d[15],!1,!0,!1,d[20])):b("Promise").resolve()},function(b){return a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])&&a.i64.eq(b.b,d[10])&&b.c===d[11]}).forEach(function(a){var b=a.update;a.item;return b({m:d[8],k:c(k())})})},function(b){return a.sp("4").then(function(a){return a=a,d[12]=a[0],a})},function(b){return a.nop(41,d[12]).then(function(a){return a=a,d[13]=a[0],a})},function(e){return d[13]===""?(e=[new a.Map()],d[15]=e[0],e,a.nop(48,c(j()),"LSSecureMailboxSendSecureMediaMessageStoredProcedure","Empty Instance ID",void 0,d[15])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[14]=b[0],b,b=[d[14].set("user_id",d[12])],d[15]=b[0],b,b=[d[14].set("instance_id",d[13])],d[15]=b[0],b,a.sp("443",d[14],d[5],void 0,void 0,!1)}]):a.seq([function(b){return b=[new a.Map()],d[12]=b[0],b,a.nop(48,c(i()),"LSSecureMailboxSendSecureMediaMessageStoredProcedure","Failed to serialize media upload result to attachment meta data.",void 0,d[12])},function(b){return a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])&&a.i64.eq(b.b,d[10])&&b.c===d[11]}).forEach(function(a){var b=a.update;a.item;return b({k:c(h())})})}])}]))})},function(b){return a.log("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxSetAllPendingMessageToStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6017131552576203443"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["6017131552576203443"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxSetAllPendingMessageToStatusStoredProcedure] Started",1),a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.k,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({k:e[1]})})},function(b){return a.log("[TincanLS][LSSecureMailboxSetAllPendingMessageToStatusStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSSecureMailboxSetGroupThreadParticipantsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7208769165239372749"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["7208769165239372749"]);v=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(v()))},function(e){return a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Started",1),a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(e,g){var v=e.done;e=e.value;return v?a.seq([function(b){return a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.lt(b.u,c(u()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(46).add({a:f[0],u:c(t()),l:c(s())})},function(b){return b=[a.i64.of_int32(f[1].length)],d[1]=b[0],b,b=[a.createArray()],d[13]=b[0],b,b=[(d[13].push("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Number of participants from server: "),d[13])],d[14]=b[0],b,b=[(d[13].push(a.i64.to_string(d[1])),d[13])],d[15]=b[0],b,b=[d[13].join(" ")],d[16]=b[0],b,a.log(d[16],4),b=[a.createArray()],d[2]=b[0],b,b=[a.createArray()],d[3]=b[0],b,b=[new a.Map()],d[4]=b[0],b,b=[new a.Map()],d[5]=b[0],b,b=[a.createArray()],d[6]=b[0],b,a.db.table(48).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(b){b=b.item;return d[14]=b.b,b=[(d[6].push(d[14]),d[6])],d[13]=b[0],b,b=[d[5].set(a.i64.to_string(d[14]),!0)],d[15]=b[0],b})},function(e){return e=[a.i64.of_int32(f[1].length)],d[7]=e[0],e,a.i64.gt(d[7],c(r()))?a.loopAsync(d[7],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,f[1],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return b=[d[4].set(a.i64.to_string(d[14]),!0)],d[16]=b[0],b,b=[d[5].get(a.i64.to_string(d[14])),d[5]],d[17]=b[0],d[18]=b[1],b,d[17]===void 0?(b=[(d[2].push(d[14]),d[2])],d[19]=b[0],b):0}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[6].length)],d[8]=e[0],e,a.i64.gt(d[8],c(q()))?a.loopAsync(d[8],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,d[6],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return b=[d[4].get(a.i64.to_string(d[14])),d[4]],d[16]=b[0],d[17]=b[1],b,d[16]===void 0?(b=[(d[3].push(d[14]),d[3])],d[18]=b[0],b):0}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[3].length)],d[9]=e[0],e,a.i64.gt(d[9],c(p()))?a.loopAsync(d[9],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,d[3],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return a.db.table(48).getArr([[[f[0],d[14]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[14])}).forEach(function(a){return a["delete"]()})}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[3].length)],d[10]=e[0],e,e=[a.createArray()],d[13]=e[0],e,e=[(d[13].push("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Participants removed from local db: "),d[13])],d[14]=e[0],e,e=[(d[13].push(a.i64.to_string(d[10])),d[13])],d[15]=e[0],e,e=[d[13].join(" ")],d[16]=e[0],e,a.log(d[16],4),e=[a.i64.of_int32(d[2].length)],d[11]=e[0],e,a.i64.gt(d[11],c(o()))?a.loopAsync(d[11],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,d[2],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return a.db.table(48).add({a:f[0],b:d[14]})}])}):b("Promise").resolve()},function(b){return b=[a.i64.of_int32(d[2].length)],d[12]=b[0],b,b=[a.createArray()],d[13]=b[0],b,b=[(d[13].push("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Participants added to local db: "),d[13])],d[14]=b[0],b,b=[(d[13].push(a.i64.to_string(d[12])),d[13])],d[15]=b[0],b,b=[d[13].join(" ")],d[16]=b[0],b,a.log(d[16],4),a.sp("199",f[0],c(n()))}]):(g=e.item,a.i64.eq(g.l,c(m()))?a.seq([function(b){return b=[a.i64.of_int32(f[1].length)],d[1]=b[0],b,b=[a.createArray()],d[13]=b[0],b,b=[(d[13].push("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Number of participants from server: "),d[13])],d[14]=b[0],b,b=[(d[13].push(a.i64.to_string(d[1])),d[13])],d[15]=b[0],b,b=[d[13].join(" ")],d[16]=b[0],b,a.log(d[16],4),b=[a.createArray()],d[2]=b[0],b,b=[a.createArray()],d[3]=b[0],b,b=[new a.Map()],d[4]=b[0],b,b=[new a.Map()],d[5]=b[0],b,b=[a.createArray()],d[6]=b[0],b,a.db.table(48).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(b){b=b.item;return d[14]=b.b,b=[(d[6].push(d[14]),d[6])],d[13]=b[0],b,b=[d[5].set(a.i64.to_string(d[14]),!0)],d[15]=b[0],b})},function(e){return e=[a.i64.of_int32(f[1].length)],d[7]=e[0],e,a.i64.gt(d[7],c(l()))?a.loopAsync(d[7],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,f[1],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return b=[d[4].set(a.i64.to_string(d[14]),!0)],d[16]=b[0],b,b=[d[5].get(a.i64.to_string(d[14])),d[5]],d[17]=b[0],d[18]=b[1],b,d[17]===void 0?(b=[(d[2].push(d[14]),d[2])],d[19]=b[0],b):0}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[6].length)],d[8]=e[0],e,a.i64.gt(d[8],c(k()))?a.loopAsync(d[8],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,d[6],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return b=[d[4].get(a.i64.to_string(d[14])),d[4]],d[16]=b[0],d[17]=b[1],b,d[16]===void 0?(b=[(d[3].push(d[14]),d[3])],d[18]=b[0],b):0}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[3].length)],d[9]=e[0],e,a.i64.gt(d[9],c(j()))?a.loopAsync(d[9],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,d[3],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return a.db.table(48).getArr([[[f[0],d[14]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[14])}).forEach(function(a){return a["delete"]()})}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[3].length)],d[10]=e[0],e,e=[a.createArray()],d[13]=e[0],e,e=[(d[13].push("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Participants removed from local db: "),d[13])],d[14]=e[0],e,e=[(d[13].push(a.i64.to_string(d[10])),d[13])],d[15]=e[0],e,e=[d[13].join(" ")],d[16]=e[0],e,a.log(d[16],4),e=[a.i64.of_int32(d[2].length)],d[11]=e[0],e,a.i64.gt(d[11],c(i()))?a.loopAsync(d[11],function(b){return d[13]=b,a.seq([function(b){return a.ntop("Array",3,d[2],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(b){return a.db.table(48).add({a:f[0],b:d[14]})}])}):b("Promise").resolve()},function(b){return b=[a.i64.of_int32(d[2].length)],d[12]=b[0],b,b=[a.createArray()],d[13]=b[0],b,b=[(d[13].push("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Participants added to local db: "),d[13])],d[14]=b[0],b,b=[(d[13].push(a.i64.to_string(d[12])),d[13])],d[15]=b[0],b,b=[d[13].join(" ")],d[16]=b[0],b,a.log(d[16],4),a.sp("199",f[0],c(h()))}]):b("Promise").resolve())})},function(b){return a.log("[TincanLS][LSSecureMailboxSetGroupThreadParticipantsStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxSetThreadDevicesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1462195109477538592"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1462195109477538592"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(j()))},function(e){return a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxSetThreadDevicesStoredProcedure] Started",1),a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(e,g){g=e.done;e=e.value;return g?a.log("[TincanLS][LSSecureMailboxSetThreadDevicesStoredProcedure] Thread doesn't exist. Do nothing.",4):(e.item,a.seq([function(b){return b=[a.i64.of_int32(f[1].length)],d[1]=b[0],b,b=[a.createArray()],d[9]=b[0],b,b=[(d[9].push("[TincanLS][LSSecureMailboxSetThreadDevicesStoredProcedure] Number of devices:"),d[9])],d[10]=b[0],b,b=[(d[9].push(a.i64.to_string(d[1])),d[9])],d[11]=b[0],b,b=[d[9].join(" ")],d[12]=b[0],b,a.log(d[12],4),b=[a.createArray()],d[2]=b[0],b,b=[a.createArray()],d[3]=b[0],b,b=[new a.Map()],d[4]=b[0],b,b=[new a.Map()],d[5]=b[0],b,b=[a.createArray()],d[6]=b[0],b,a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(b){var c;b=b.item;return d[12]=b.c,c=[new a.Map()],d[9]=c[0],c,c=[d[9].set("user_id",b.b)],d[13]=c[0],c,b=[d[9].set("instance_id",d[12])],d[14]=b[0],b,c=[(d[6].push(d[9]),d[6])],d[10]=c[0],c,b=[d[5].set(d[12],!0)],d[11]=b[0],b})},function(e){return e=[a.i64.of_int32(f[1].length)],d[7]=e[0],e,a.i64.gt(d[7],c(i()))?a.loopAsync(d[7],function(b){return d[9]=b,a.seq([function(b){return a.ntop("Array",3,f[1],d[9]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(b){return b=[d[10].get("user_id"),d[10]],d[12]=b[0],d[13]=b[1],b,b=[d[10].get("instance_id"),d[10]],d[14]=b[0],d[15]=b[1],b,b=[d[4].set(d[14],!0)],d[16]=b[0],b,b=[d[5].get(d[14]),d[5]],d[17]=b[0],d[18]=b[1],b,d[17]===void 0?(b=[new a.Map()],d[19]=b[0],b,b=[d[19].set("user_id",d[12])],d[21]=b[0],b,b=[d[19].set("instance_id",d[14])],d[22]=b[0],b,b=[(d[2].push(d[19]),d[2])],d[20]=b[0],b):0}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(d[6].length)],d[8]=e[0],e,a.i64.gt(d[8],c(h()))?a.loopAsync(d[8],function(b){return d[9]=b,a.seq([function(b){return a.ntop("Array",3,d[6],d[9]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(a){return a=[d[10].get("user_id"),d[10]],d[12]=a[0],d[13]=a[1],a,a=[d[10].get("instance_id"),d[10]],d[14]=a[0],d[15]=a[1],a,a=[d[4].get(d[14]),d[4]],d[16]=a[0],d[17]=a[1],a,d[16]===void 0?(a=[(d[3].push(d[10]),d[3])],d[18]=a[0],a):0}])}):b("Promise").resolve()},function(b){return a.sp("221",f[0],d[2],d[3],f[2],f[3])}]))})},function(b){return a.log("[TincanLS][LSSecureMailboxSetThreadDevicesStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxSetThreadMuteExpireTimeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3482980535141259723"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3482980535141259723"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxSetThreadMuteExpireTimeStoredProcedure] Started",1),a.db.table(46).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({e:e[1]})})},function(b){return a.log("[TincanLS][LSSecureMailboxSetThreadMuteExpireTimeStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSSecureMailboxSetThreadParticipantsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3051442275677065374"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["3051442275677065374"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return a.i64.eq(a.rm,c(h()))?0:a["throw"]("LS:assert is failed. "),a.log("[TincanLS][LSSecureMailboxSetThreadParticipantsStoredProcedure] Started",1),a.db.table(48).add({a:f[0],b:f[1]})},function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(48).add({a:f[0],b:d[0]})},function(b){return a.log("[TincanLS][LSSecureMailboxSetThreadParticipantsStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxStartSecureMediaUploadTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3604711004366395441"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["3604711004366395441"]);m=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(m()))},function(b){return a.seq([function(b){return a.i64.eq(a.rm,c(l()))?0:a["throw"]("LS:assert is failed. "),a.log("[TincanLS][LSSecureMailboxStartSecureMediaUploadTaskStoredProcedure] Started",1),a.db.table(2).add({a:void 0,b:f[0],d:a.i64.to_string(c(k())),c:f[1],e:a.i64.of_float(Date.now())})},function(b){return a.db.table(2).openCursor().filter(function(b){return b.b===f[0]&&b.d===a.i64.to_string(c(j()))&&b.c===f[1]}).sortBy([["a","DESC",a.i64.compare]]).next().then(function(b,e){var f=b.done;b=b.value;return f?a.seq([function(b){return b=[new a.Map()],d[2]=b[0],b,a.nop(48,c(i()),"LSSecureMailboxStartSecureMediaUploadTaskStoredProcedure","Failed to insert new task to task queue.",void 0,d[2])},function(a){return a=[c(h())],d[0]=a[0],a}]):(e=b.item,f=[e.a],d[0]=f[0],f)})},function(b){return a.log("[TincanLS][LSSecureMailboxStartSecureMediaUploadTaskStoredProcedure] Completed",1),b=[d[0]],e[0]=b[0],b}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxSyncRegularThreadUnreadStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8481784018119740702"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8481784018119740702"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.log("[TincanLS][LSSecureMailboxSyncRegularThreadUnreadStatusStoredProcedure] Started",1),a.log("[TincanLS][LSSecureMailboxSyncRegularThreadUnreadStatusStoredProcedure] Completed",1),a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSSecureMailboxToggleDisappearingModeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5491837561203160654"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["5491837561203160654"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(p()))},function(e){return a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxToggleDisappearingModeStoredProcedure] Started",1),d[0]=a.i64.mul(f[0],c(o())),a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(e,g){var o=e.done;e=e.value;return o?0:(g=e.item,g.W!==f[1]?a.seq([function(b){return a.db.table(9).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({V:d[0],W:f[1]})})},function(e){return a.db.table(46).getArr([[d[0]]]).filter(function(b){return a.i64.eq(b.a,d[0])}).next().then(function(o,p){var e=o.done;o=o.value;return e?a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxToggleDisappearingModeStoredProcedure] Creating disappearing thread",4),a.sp("4").then(function(a){return a=a,d[2]=a[0],a})},function(b){return a.sp("457",d[0],c(n()),"",!0,d[2],!0,a.i64.eq(g.c,c(m()))?c(l()):c(k()),f[0],f[1])}]):(p=o.item,a.seq([function(e){return d[3]=p.a,d[2]=p.l,a.i64.neq(d[2],c(j()))?a.seq([function(b){return b=[a.createArray()],d[4]=b[0],b,b=[(d[4].push("Disappearing thread has wrong thread type! Automatically fixing"),d[4])],d[5]=b[0],b,b=[(d[4].push(a.i64.to_string(d[2])),d[4])],d[6]=b[0],b,b=[d[4].join(" ")],d[7]=b[0],b,b=[new a.Map()],d[8]=b[0],b,a.nop(48,c(i()),"LSSecureMailboxToggleDisappearingModeStoredProcedure",d[7],void 0,d[8])},function(b){return a.db.table(46).openCursor().filter(function(b){return a.i64.eq(b.a,d[3])}).forEach(function(a){var b=a.update;a.item;return b({l:c(h())})})}]):b("Promise").resolve()},function(c){return a.i64.neq(p.q,f[0])||p.r!==f[1]?a.db.table(46).openCursor().filter(function(b){return a.i64.eq(b.a,d[3])}).forEach(function(a){var b=a.update;a.item;return b({q:f[0],r:f[1]})}):b("Promise").resolve()}]))})}]):b("Promise").resolve())})},function(b){return a.log("[TincanLS][LSSecureMailboxToggleDisappearingModeStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxTopUpPreKeysStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5647400058957546750"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["10004"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["5647400058957546750"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(n()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxTopUpPreKeysStoredProcedure] Started",1),b=[f[0].get("user_id"),f[0]],d[0]=b[0],d[1]=b[1],b,a.nop(56,d[0],c(m())).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return d[3]===""?(e=[new a.Map()],d[5]=e[0],e,a.nop(48,c(l()),"LSSecureMailboxTopUpPreKeysStoredProcedure","Error retrieving prekeys",void 0,d[5])):(e=[a.i64.of_int32(d[2].length)],d[5]=e[0],e,a.i64.eq(d[5],c(k()))?b("Promise").resolve(a.log("[TincanLS][LSSecureMailboxTopUpPreKeysStoredProcedure] Prekey request rate limited",4)):a.seq([function(b){return a.nop(57,d[0]).then(function(a){return a=a,d[7]=a[0],d[8]=a[1],d[9]=a[2],d[10]=a[3],a})},function(b){return d[10]===""?(b=[new a.Map()],d[12]=b[0],b,a.nop(48,c(j()),"LSSecureMailboxTopUpPreKeysStoredProcedure","Error retrieving signed prekey",void 0,d[12])):(b=[new a.Map()],d[12]=b[0],b,b=[d[12].set("from_device",f[0])],d[14]=b[0],b,b=[d[12].set("signed_prekey",d[7])],d[15]=b[0],b,b=[d[12].set("signed_prekey_id",d[9])],d[16]=b[0],b,b=[d[12].set("signed_prekey_signature",d[8])],d[17]=b[0],b,b=[d[12].set("prekey_list",d[2])],d[18]=b[0],b,b=[d[12].set("local_registration_id",d[3])],d[19]=b[0],b,b=[a.toJSON(d[12])],d[13]=b[0],b,a.sp("1","secure-message-prekeyupload",c(i()),d[13],void 0,void 0,c(h()),void 0))}]))},function(b){return a.log("[TincanLS][LSSecureMailboxTopUpPreKeysStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1535477618037088387"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["13"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["10015"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["1535477618037088387"]);u=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(u()))},function(e){return a.seq([function(b){return a.i64.eq(a.rm,c(t()))?0:a["throw"]("LS:assert is failed. "),a.log("[TincanLS][LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure] Started",1),a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(s())],d[0]=e[0],e):(b=a.item,e=[b.b],d[0]=e[0],e)})},function(e){return a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(e,g){var h=e.done;e=e.value;return h?a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure] Inserting the thread since it doesn't exist yet.",4),a.sp("4").then(function(a){return a=a,d[3]=a[0],a})},function(b){return a.nop(49,f[0],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return f[8]!==void 0?(b=[f[8]],d[7]=b[0],b):(b=[!1],d[7]=b[0],b),a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.lt(b.u,c(r()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(46).add({a:f[0],b:f[1],f:f[2],g:f[3],h:f[4],u:c(q()),l:f[6],i:d[5],q:f[7],r:d[7]})},function(e){return a.i64.eq(f[6],c(p()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[8]=a[0],a})},function(b){return a.nop(41,d[8]).then(function(a){return a=a,d[9]=a[0],a})},function(e){return d[9]===""?(e=[new a.Map()],d[13]=e[0],e,a.nop(48,c(o()),"LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure","Empty Instance ID",void 0,d[13])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[10]=b[0],b,b=[d[10].set("user_id",d[8])],d[13]=b[0],b,b=[d[10].set("instance_id",d[9])],d[14]=b[0],b,b=[new a.Map()],d[11]=b[0],b,b=[d[11].set("from_device",d[10])],d[13]=b[0],b,b=[d[11].set("thread_key",f[0])],d[14]=b[0],b,b=[a.toJSON(d[11])],d[12]=b[0],b,a.sp("1","secure-message-getgroupthreadinfo",c(n()),d[12],void 0,void 0,c(m()),void 0)}]):b("Promise").resolve()}]):(g=e.item,f[5]!==!0?a.i64.ge(f[1],d[0])?(f[8]!==void 0?(h=[f[8]],d[6]=h[0],h):(e=[g.r],d[6]=e[0],e),a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({b:f[1],f:f[2],g:f[3],h:f[4],u:c(l()),r:d[6]})})):b("Promise").resolve(a.log("[TincanLS][LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure] Not updating thread snippet and timestamp due to existing timestamp is bigger.",4)):b("Promise").resolve(a.log("[TincanLS][LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure] Not updating thread snippet and timestamp due to insert_only is set.",4)))})},function(d){return a.i64.eq(f[6],c(k()))||a.i64.eq(f[6],c(j()))?a.sp("225",f[0],a.i64.lt(f[0],c(i()))?a.i64.mul(c(h()),f[0]):f[0]):b("Promise").resolve()},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8782492178691545827"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["51"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["51"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["8782492178691545827"]);r=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(r()))},function(e){return a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure] Started",1),a.db.table(46).getArr([[f[2]]]).filter(function(b){return a.i64.eq(b.a,f[2])}).next().then(function(e,g){g=e.done;e=e.value;return g?a.log("[TincanLS][LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure] Thread doesn't exist when trying to update participant receipt timestamp. Do nothing and exit.",4):(e.item,a.seq([function(b){return a.db.table(46).getArr([[f[2]]]).filter(function(b){return a.i64.eq(b.a,f[2])}).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!1],d[1]=f[0],f):(e=b.item,f=[a.i64.eq(e.l,c(q()))],d[1]=f[0],f)})},function(e){return d[1]?b("Promise").resolve():a.sp("225",f[2],a.i64.lt(f[2],c(p()))?a.i64.mul(c(o()),f[2]):f[2])},function(b){return a.db.table(47).openCursor().filter(function(a){return a.c===f[4]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f[1]],d[3]=c[0],c):(b=a.item,c=[b.b],d[3]=c[0],c)})},function(b){return a.db.table(48).getArr([[[f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&a.i64.eq(b.b,f[3])}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[c(n())],d[5]=g[0],g):(e=b.item,g=[a.i64.eq(f[0],c(m()))?e.d:e.c],d[5]=g[0],g)})},function(e){return a.i64.gt(d[3],d[5])?a.db.table(48).getArr([[[f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&a.i64.eq(b.b,f[3])}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[new a.Map()],d[9]=g[0],g,a.nop(48,c(l()),"LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure","Thread participant does not exist when trying to update participant receipt timestamp.",void 0,d[9])):(e=b.item,a.db.table(48).openCursor().filter(function(b){return a.i64.eq(b.a,e.a)&&a.i64.eq(b.b,e.b)}).forEach(function(b){var g=b.update;b.item;return g({c:a.i64.eq(f[0],c(k()))?d[3]:e.c,d:a.i64.eq(f[0],c(j()))?d[3]:e.d})}))}):b("Promise").resolve(a.log("[TincanLS][LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure] Skipping receipt timestamp update because timestamp is older",4))},function(e){return a.i64.eq(f[0],c(i()))?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[8]=a[0],a})},function(c){return a.i64.eq(f[3],d[8])?a.seq([function(b){return a.db.table(46).getArr([[f[2]]]).filter(function(b){return a.i64.eq(b.a,f[2])&&a.i64.lt(b.c,d[3])}).forEach(function(a){var b=a.update;a.item;return b({c:d[3]})})},function(b){return a.sp("461",f[2],d[3],f[5])}]):b("Promise").resolve()},function(b){return a.nop(53,f[2],c(h()))},function(b){return a.sp("4").then(function(a){return a=a,d[9]=a[0],a})},function(b){return a.nop(64,f[2],void 0,f[3],d[9]).then(function(a){return a=a,d[10]=a[0],a})}]):b("Promise").resolve()}]))})},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdatePrekeyUploadStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2660844572961399221"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2660844572961399221"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxUpdatePrekeyUploadStatusStoredProcedure] Started",1),a.db.table(41).getArr([[e[0]]]).filter(function(a){return a.a===e[0]}).forEach(function(a){var b=a.update;a.item;return b({e:e[1]})})},function(b){return a.log("[TincanLS][LSSecureMailboxUpdatePrekeyUploadStatusStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateRegistrationStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2267822015457081605"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2267822015457081605"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxUpdateRegistrationStatusStoredProcedure] Started",1),a.db.table(41).openCursor().filter(function(a){return!0}).forEach(function(a){var b=a.update;a.item;return b({b:e[0]})})},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateRegistrationStatusStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateSecureMessageSendStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8002044964051170755"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1800000"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["8002044964051170755"]);v=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(v()))},function(e){return a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxUpdateSecureMessageSendStatusStoredProcedure] Started",1),a.db.table(47).getArr([[f[2]],"optimistic"]).filter(function(b){return a.i64.eq(b.a,f[0])&&b.c===f[2]&&b.g===f[2]}).next().then(function(e,g){var v=e.done;e=e.value;return v?(v=[a.createArray()],d[1]=v[0],v,v=[(d[1].push("[TincanLS][LSSecureMailboxUpdateSecureMessageSendStatusStoredProcedure] Secure message don't exist "),d[1])],d[2]=v[0],v,v=[(d[1].push(f[2]),d[1])],d[3]=v[0],v,v=[d[1].join(" ")],d[4]=v[0],v,a.log(d[4],4)):(g=e.item,a.seq([function(e){return d[5]=g.a,d[7]=g.c,d[4]=g.d,d[3]=g.e,d[1]=g.k,d[2]=g.o,a.i64.lt(f[3],d[1])?(e=[a.createArray()],d[8]=e[0],e,e=[(d[8].push("Should never decrement message send status. Existing value: _. New value: _"),d[8])],d[9]=e[0],e,e=[(d[8].push(a.i64.to_string(d[1])),d[8])],d[10]=e[0],e,e=[(d[8].push(a.i64.to_string(f[3])),d[8])],d[11]=e[0],e,e=[d[8].join(" ")],d[12]=e[0],e,e=[new a.Map()],d[13]=e[0],e,a.nop(48,c(u()),"LSSecureMailboxUpdateSecureMessageSendStatusStoredProcedure",d[12],void 0,d[13])):b("Promise").resolve()},function(b){return d[6]=a.i64.add(f[1],c(t())),a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])&&a.i64.eq(b.b,g.b)&&b.c===d[7]}).forEach(function(b){var e=b.update;b.item;return e({k:(a.i64.eq(d[1],c(s()))||a.i64.eq(d[1],c(r()))||a.i64.eq(d[1],c(q())))&&(a.i64.eq(f[3],c(p()))||a.i64.eq(f[3],c(o())))?d[1]:f[3],l:f[5]==null?g.l:f[5],o:f[4]===!0?a.i64.add(d[2],c(n())):d[2],u:c(m()),b:d[6]})})},function(e){return a.i64.gt(d[4]==null?c(l()):d[4],c(k()))&&a.i64.eq(f[3],c(j()))&&(a.i64.eq(d[3],void 0)||a.i64.eq(d[3],c(i())))?a.seq([function(b){return b=[a.i64.of_float(Date.now())],d[8]=b[0],b,d[9]=a.i64.add(d[8],d[4]),a.db.table(47).openCursor().filter(function(b){return a.i64.eq(b.a,d[5])&&a.i64.eq(b.b,d[6])&&b.c===d[7]}).forEach(function(b){var e=b.update;b.item;return e({e:d[9],f:a.i64.add(d[9],c(h()))})})},function(b){return a.nop(53,f[0],d[9])}]):b("Promise").resolve()}]))})},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateSecureMessageSendStatusStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateSenderKeyStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2691821726928833703"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2691821726928833703"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(o()))},function(e){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxUpdateSenderKeyStatusStoredProcedure] Started",1),a.db.table(45).getArr([[[f[0],f[1],f[2]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,f[1])&&b.c===f[2]}).next().then(function(b,e){var g=b.done;b=b.value;return g?a.log("[TincanLS][LSSecureMailboxUpdateSenderKeyStatusStoredProcedure] Sender key does not exist",4):(e=b.item,a.i64.eq(e.e,c(n()))&&a.i64.neq(f[3],c(m()))?(g=[a.createArray()],d[5]=g[0],g,b=[(d[5].push("Should not set local device _ to status _"),d[5])],d[6]=b[0],b,e=[(d[5].push(f[2]),d[5])],d[7]=e[0],e,g=[(d[5].push(a.i64.to_string(f[3])),d[5])],d[8]=g[0],g,b=[d[5].join(" ")],d[9]=b[0],b,e=[new a.Map()],d[10]=e[0],e,a.nop(48,c(l()),"LSSecureMailboxUpdateSenderKeyStatusStoredProcedure",d[9],void 0,d[10])):a.db.table(45).getArr([[[f[0],f[1],f[2]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,f[1])&&b.c===f[2]}).forEach(function(a){var b=a.update;a.item;return b({e:f[3]})}))})},function(b){return a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&(a.i64.eq(b.e,c(k()))||a.i64.eq(b.e,c(j()))||a.i64.eq(b.e,void 0))}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!0],d[0]=b[0],b):(a.item,b=[!1],d[0]=b[0],b)})},function(b){return a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).count().then(function(a){return d[2]=a})},function(e){return d[0]&&!0&&a.i64.gt(d[2],c(i()))?a.seq([function(b){return a.log("All sender keys are distributed. Send all pending messages.",4),a.sp("4").then(function(a){return a=a,d[3]=a[0],a})},function(b){return a.nop(41,d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return d[4]===""?(e=[new a.Map()],d[6]=e[0],e,a.nop(48,c(h()),"LSSecureMailboxUpdateSenderKeyStatusStoredProcedure","Empty Instance ID",void 0,d[6])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[5]=b[0],b,b=[d[5].set("user_id",d[3])],d[6]=b[0],b,b=[d[5].set("instance_id",d[4])],d[6]=b[0],b,a.sp("443",d[5],f[0],void 0,f[4],!1)}]):b("Promise").resolve()},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateSenderKeyStatusStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateServerThreadKeyStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8864077901198806255"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8864077901198806255"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxUpdateServerThreadKeyStoredProcedure] Started",1),a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[!1],d[0]=g[0],g):(e=b.item,g=[a.i64.eq(e.l,c(i()))&&a.i64.eq(e.m,f[0])],d[0]=g[0],g)})},function(b){return d[0]?a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({a:f[1]})}):(b=[new a.Map()],d[3]=b[0],b,a.nop(48,c(h()),"LSSecureMailboxUpdateServerThreadKeyStoredProcedure","Client thread key verification failed when trying to update thread key.",void 0,d[3]))},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateServerThreadKeyStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateThreadDevicesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8937041273363215626"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["8937041273363215626"]);A=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(A()))},function(e){return a.seq([function(b){return a.i64.eq(a.rm,c(z()))?0:a["throw"]("LS:assert is failed. "),a.log("[TincanLS][LSSecureMailboxUpdateThreadDevicesStoredProcedure] Started",1),a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.nop(41,d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[1]===""?(e=[new a.Map()],d[7]=e[0],e,a.nop(48,c(y()),"LSSecureMailboxUpdateThreadDevicesStoredProcedure","Empty Instance ID",void 0,d[7])):b("Promise").resolve()},function(e){return e=[new a.Map()],d[2]=e[0],e,e=[d[2].set("user_id",d[0])],d[7]=e[0],e,e=[d[2].set("instance_id",d[1])],d[8]=e[0],e,e=[a.i64.of_int32(f[2].length)],d[3]=e[0],e,e=[a.i64.of_int32(f[1].length)],d[4]=e[0],e,e=[a.createArray()],d[7]=e[0],e,e=[(d[7].push("[TincanLS][LSSecureMailboxUpdateThreadDevicesStoredProcedure] Number of devices removed:"),d[7])],d[8]=e[0],e,e=[(d[7].push(a.i64.to_string(d[3])),d[7])],d[9]=e[0],e,e=[d[7].join(" ")],d[10]=e[0],e,a.log(d[10],4),e=[a.createArray()],d[7]=e[0],e,e=[(d[7].push("[TincanLS][LSSecureMailboxUpdateThreadDevicesStoredProcedure] Number of devices added:"),d[7])],d[8]=e[0],e,e=[(d[7].push(a.i64.to_string(d[4])),d[7])],d[9]=e[0],e,e=[d[7].join(" ")],d[10]=e[0],e,a.log(d[10],4),e=[a.i64.of_int32(f[2].length)],d[5]=e[0],e,a.i64.gt(d[5],c(x()))?a.seq([function(e){return e=[a.i64.of_int32(f[2].length)],d[7]=e[0],e,a.i64.gt(d[7],c(w()))?a.loopAsync(d[7],function(e){return d[8]=e,a.seq([function(b){return a.ntop("Array",3,f[2],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(e){return e=[d[9].get("user_id"),d[9]],d[11]=e[0],d[12]=e[1],e,e=[d[9].get("instance_id"),d[9]],d[13]=e[0],d[14]=e[1],e,e=[d[2].get("user_id"),d[2]],d[15]=e[0],d[16]=e[1],e,e=[d[2].get("instance_id"),d[2]],d[17]=e[0],d[18]=e[1],e,a.i64.eq(d[15],d[11])&&d[17]===d[13]?(e=[new a.Map()],d[19]=e[0],e,a.nop(48,c(v()),"LSSecureMailboxUpdateThreadDevicesStoredProcedure","Removing self from thread participants",void 0,d[19])):b("Promise").resolve()}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(f[2].length)],d[7]=e[0],e,a.i64.gt(d[7],c(u()))?a.loopAsync(d[7],function(b){return d[8]=b,a.seq([function(b){return a.ntop("Array",3,f[2],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return b=[d[9].get("user_id"),d[9]],d[11]=b[0],d[12]=b[1],b,b=[d[9].get("instance_id"),d[9]],d[13]=b[0],d[14]=b[1],b,a.sp("197",c(t()),"",f[0],d[11],d[13],!0)},function(b){return b=[a.createArray()],d[15]=b[0],b,b=[(d[15].push("[BI] Removed Device"),d[15])],d[16]=b[0],b,b=[(d[15].push(d[13]),d[15])],d[17]=b[0],b,b=[(d[15].push(f[3]),d[15])],d[18]=b[0],b,b=[d[15].join(" ")],d[19]=b[0],b,b=[new a.Map()],d[20]=b[0],b,a.nop(48,c(s()),"LSSecureMailboxUpdateThreadDevicesStoredProcedure",d[19],void 0,d[20])}])}):b("Promise").resolve()},function(e){return e=[a.i64.of_int32(f[2].length)],d[7]=e[0],e,a.i64.gt(d[7],c(r()))?a.loopAsync(d[7],function(b){return d[8]=b,a.seq([function(b){return a.ntop("Array",3,f[2],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return b=[d[9].get("user_id"),d[9]],d[11]=b[0],d[12]=b[1],b,b=[d[9].get("instance_id"),d[9]],d[13]=b[0],d[14]=b[1],b,a.db.table(43).getArr([[[d[11],d[13]]]]).filter(function(b){return a.i64.eq(b.a,d[11])&&b.b===d[13]}).forEach(function(a){return a["delete"]()})},function(b){return b=[a.createArray()],d[15]=b[0],b,b=[(d[15].push("[BI] Removed Session"),d[15])],d[16]=b[0],b,b=[(d[15].push(d[13]),d[15])],d[17]=b[0],b,b=[(d[15].push(f[3]),d[15])],d[18]=b[0],b,b=[d[15].join(" ")],d[19]=b[0],b,b=[new a.Map()],d[20]=b[0],b,a.nop(48,c(q()),"LSSecureMailboxUpdateThreadDevicesStoredProcedure",d[19],void 0,d[20])}])}):b("Promise").resolve()},function(b){return a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(b){var e;b=b.item;return d[12]=b.b,d[13]=b.c,e=[d[2].get("user_id"),d[2]],d[7]=e[0],d[8]=e[1],e,e=[d[2].get("instance_id"),d[2]],d[9]=e[0],d[10]=e[1],e,a.i64.eq(d[7],d[12])&&d[9]===d[13]||a.i64.eq(b.e,c(p()))?a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[12])&&b.c===d[13]}).forEach(function(a){var b=a.update;a.item;return b({d:void 0,e:c(o())})}):f[4]?a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[12])&&b.c===d[13]}).forEach(function(a){var b=a.update;a.item;return b({e:c(n())})}):a.seq([function(b){return a.db.table(45).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[12])&&b.c===d[13]}).forEach(function(a){var b=a.update;a.item;return b({d:void 0,e:c(m())})})},function(b){return b=[a.createArray()],d[15]=b[0],b,b=[(d[15].push("[BI] Removed Sender Key"),d[15])],d[16]=b[0],b,b=[(d[15].push(d[13]),d[15])],d[17]=b[0],b,b=[(d[15].push(f[3]),d[15])],d[18]=b[0],b,b=[d[15].join(" ")],d[19]=b[0],b,b=[new a.Map()],d[20]=b[0],b,a.nop(48,c(l()),"LSSecureMailboxUpdateThreadDevicesStoredProcedure",d[19],void 0,d[20])}])})},function(e){return e=[a.i64.of_int32(f[1].length)],d[7]=e[0],e,a.i64.gt(d[7],c(k()))?a.loopAsync(d[7],function(b){return d[8]=b,a.seq([function(b){return a.ntop("Array",3,f[1],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return b=[d[9].get("user_id"),d[9]],d[11]=b[0],d[12]=b[1],b,b=[d[9].get("instance_id"),d[9]],d[13]=b[0],d[14]=b[1],b,a.sp("196",c(j()),"",f[0],d[11],d[13],!0)}])}):b("Promise").resolve()}]):a.seq([function(b){return b=[d[2].get("user_id"),d[2]],d[7]=b[0],d[8]=b[1],b,b=[d[2].get("instance_id"),d[2]],d[9]=b[0],d[10]=b[1],b,a.db.table(45).getArr([[[f[0],d[7],d[9]]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[7])&&b.c===d[9]}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!0],d[11]=b[0],b):(a.item,b=[!1],d[11]=b[0],b)})},function(e){return e=[a.i64.of_int32(f[1].length)],d[13]=e[0],e,a.i64.gt(d[13],c(i()))?a.loopAsync(d[13],function(b){return d[14]=b,a.seq([function(b){return a.ntop("Array",3,f[1],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(b){return b=[d[15].get("user_id"),d[15]],d[17]=b[0],d[18]=b[1],b,b=[d[15].get("instance_id"),d[15]],d[19]=b[0],d[20]=b[1],b,a.sp("196",c(h()),"",f[0],d[17],d[19],!d[11])}])}):b("Promise").resolve()}])},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateThreadDevicesStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpdateThreadStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8378743748784108770"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8378743748784108770"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxUpdateThreadStatusStoredProcedure] Started",1),a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){e=b.done;b=b.value;return e?(e=[new a.Map()],d[1]=e[0],e,a.nop(48,c(i()),"LSSecureMailboxUpdateThreadStatusStoredProcedure","Thread doesn't exist when trying to update thread status.",void 0,d[1])):(b.item,a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({j:f[1],u:c(h())})}))})},function(b){return a.log("[TincanLS][LSSecureMailboxUpdateThreadStatusStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxUpsertSyncMetadataStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2917831335692723908"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2917831335692723908"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.log("[TincanLS][LSSecureMailboxUpsertSyncMetadataStoredProcedure] Started",1),a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(50).getArr([[d[0]]]).filter(function(b){return a.i64.eq(b.a,d[0])}).next().then(function(b,c){var e=b.done;b=b.value;return e?a.db.table(50).add({a:d[0],b:f[0]}):(c=b.item,a.db.table(50).openCursor().filter(function(b){return a.i64.eq(b.a,c.a)}).forEach(function(a){var b=a.update;a.item;return b({b:f[0]})}))})},function(b){return a.log("[TincanLS][LSSecureMailboxUpsertSyncMetadataStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7770316877398350864"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["7770316877398350864"]);r=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(r()))},function(e){return a.seq([function(e){return a.log("[TincanLS][LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure] Started",1),a.db.table(47).getArr([[f[1]],"optimistic"]).filter(function(b){return b.g===f[1]&&a.i64.eq(b.a,f[0])}).next().then(function(e,g){g=e.done;e=e.value;return g?(g=[new a.Map()],d[1]=g[0],g,a.nop(48,c(q()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure","Validation of thread key failed",void 0,d[1])):(e.item,a.db.table(47).getArr([[f[1]],"optimistic"]).filter(function(a){return a.g===f[1]&&a.n===!0}).next().then(function(e,g){var q=e.done;e=e.value;return q?a.log("[TincanLS][LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure] Validation of bounce receiver failed",4):(g=e.item,a.seq([function(b){return d[5]=g.a,d[6]=g.b,d[7]=g.s==null?d[6]:g.s,a.db.table(45).getArr([[[d[5],f[2],f[3]]]]).filter(function(b){return a.i64.eq(b.a,d[5])&&a.i64.eq(b.b,f[2])&&b.c===f[3]}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[2]=a[0],a):(c=b.item,a=[c.f],d[2]=a[0],a)})},function(e){return a.i64.neq(d[2],void 0)?a.i64.gt(d[2],c(p()))&&a.i64.le(d[2],d[7])?a.db.table(46).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(h,i){var e=h.done;h=h.value;return e?(e=[new a.Map()],d[10]=e[0],e,a.nop(48,c(o()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure","Unexpectedly unable to find thread",void 0,d[10])):(i=h.item,a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[10]=a[0],a})},function(b){return a.nop(41,d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(e){return d[11]===""?(e=[new a.Map()],d[13]=e[0],e,a.nop(48,c(n()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure","Empty Instance ID",void 0,d[13])):b("Promise").resolve()},function(b){return b=[new a.Map()],d[12]=b[0],b,b=[d[12].set("user_id",d[10])],d[13]=b[0],b,b=[d[12].set("instance_id",d[11])],d[13]=b[0],b,a.sp("455",d[12],f[2],f[3],!1,d[5],d[6],g.c,g.k,!0,i.l)}]))}):a.seq([function(b){return a.i64.neq(d[2],void 0)?(b=[a.createArray()],d[10]=b[0],b,b=[(d[10].push("Device seen time _. Message time _"),d[10])],d[11]=b[0],b,b=[(d[10].push(a.i64.to_string(d[2])),d[10])],d[12]=b[0],b,b=[(d[10].push(a.i64.to_string(d[7])),d[10])],d[13]=b[0],b,b=[d[10].join(" ")],d[14]=b[0],b,b=[new a.Map()],d[15]=b[0],b,a.nop(48,c(m()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure",d[14],void 0,d[15])):(b=[a.createArray()],d[10]=b[0],b,b=[(d[10].push("Device is not in sender key table"),d[10])],d[11]=b[0],b,b=[(d[10].push(f[3]),d[10])],d[12]=b[0],b,b=[d[10].join(" ")],d[13]=b[0],b,b=[new a.Map()],d[14]=b[0],b,a.nop(48,c(l()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure",d[13],void 0,d[14]))},function(b){return b=[new a.Map()],d[10]=b[0],b,a.nop(48,c(k()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure","Validation of bounce sender failed",void 0,d[10])}]):a.seq([function(b){return a.i64.neq(d[2],void 0)?(b=[a.createArray()],d[9]=b[0],b,b=[(d[9].push("Device seen time _. Message time _"),d[9])],d[10]=b[0],b,b=[(d[9].push(a.i64.to_string(d[2])),d[9])],d[11]=b[0],b,b=[(d[9].push(a.i64.to_string(d[7])),d[9])],d[12]=b[0],b,b=[d[9].join(" ")],d[13]=b[0],b,b=[new a.Map()],d[14]=b[0],b,a.nop(48,c(j()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure",d[13],void 0,d[14])):(b=[a.createArray()],d[9]=b[0],b,b=[(d[9].push("Device is not in sender key table"),d[9])],d[10]=b[0],b,b=[(d[9].push(f[3]),d[9])],d[11]=b[0],b,b=[d[9].join(" ")],d[12]=b[0],b,b=[new a.Map()],d[13]=b[0],b,a.nop(48,c(i()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure",d[12],void 0,d[13]))},function(b){return b=[new a.Map()],d[9]=b[0],b,a.nop(48,c(h()),"LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure","Validation of bounce sender failed",void 0,d[9])}])}]))}))})},function(b){return a.log("[TincanLS][LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure] Completed",1)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSSecureMailboxVerifyLocalStateAndExitDasmTransactionIfNeededStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7675109783514094138"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7675109783514094138"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.log("[TincanLS][LSSecureMailboxVerifyLocalStateAndExitDasmTransactionIfNeededStoredProcedure] Started",1),a.log("[TincanLS][LSSecureMailboxVerifyLocalStateAndExitDasmTransactionIfNeededStoredProcedure]Required datascript is missing. Exit",2),a.log("[TincanLS][LSSecureMailboxVerifyLocalStateAndExitDasmTransactionIfNeededStoredProcedure] Completed",1),a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStickerDownloadStickerPackStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["365790594428949245"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["133"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["365790594428949245"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(122).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){e=b.done;b=b.value;return e?(e=[new a.Map()],d[1]=e[0],e,e=[d[1].set("pack_id",f[0])],d[3]=e[0],e,e=[d[1].set("sticker_width",f[1])],d[4]=e[0],e,e=[d[1].set("sticker_thumbnail_width",f[2])],d[5]=e[0],e,e=[d[1].set("scale",f[3])],d[6]=e[0],e,e=[a.toJSON(d[1])],d[2]=e[0],e,a.sp("1","sticker_pack_download",c(i()),d[2],void 0,void 0,c(h()),void 0)):(b.item,a.log("pack ID already exists",2))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueNewStickerPackDetailFetchStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1739054850600888587"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["129"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1739054850600888587"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("sticker_id",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","sticker_to_collection",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueNewStickerSearchQueryStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3706952881988289509"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["81"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["94349901002419486"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["94349901002419486"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["3706952881988289509"]);m=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(m()))},function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(124).put({a:f[0],b:c(k())})},function(b){return a.nop(11,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("query",f[0])],d[6]=b[0],b,b=[d[0].set("width",f[1])],d[7]=b[0],b,b=[d[0].set("scale",f[2])],d[8]=b[0],b,b=[d[0].set("thumbnail_width",f[3])],d[9]=b[0],b,b=[a.createArray()],d[1]=b[0],b,b=[(d[1].push("sticker_search"),d[1])],d[2]=b[0],b,b=[(d[1].push(a.i64.to_string(a.i64.random())),d[1])],d[3]=b[0],b,b=[a.toJSON(d[1])],d[4]=b[0],b,b=[a.toJSON(d[0])],d[5]=b[0],b,a.sp("1",d[4],c(i()),d[5],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueRemoveStickerPackStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8280435211624233971"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["141"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8280435211624233971"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("pack_id",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","remove_sticker_pack",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueRemoveStickerPacksStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4434376685715536125"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["203"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4434376685715536125"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("pack_ids",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","remove_sticker_packs",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueReorderStickerPacksStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3648287866458160737"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["160"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3648287866458160737"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("pack_id",f[0])],d[2]=b[0],b,b=[d[0].set("old_index",f[1])],d[3]=b[0],b,b=[d[0].set("new_index",f[2])],d[4]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","reorder_sticker_packs",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStickerQueryStickerStoreStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6040268078356100455"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["139"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6040268078356100455"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","query_sticker_store",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStickerUpsertStickerPackStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2964851560381744989"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2964851560381744989"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(122).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],i:e[8]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStickerUpsertStickerStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6133603384114059230"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6133603384114059230"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(121).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],i:e[8],j:e[9],k:e[10],l:e[11],m:e[12],n:e[13],o:e[14],p:e[15]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesClearStoryAdsTablesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3691866258121877925"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3691866258121877925"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(57).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(58).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(59).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesDeleteOptimisticStoryStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8882462003589953483"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8882462003589953483"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(54).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.le(b.J,c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesDeleteStoryAdUnitStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["421108122811875177"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["421108122811875177"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(57).openCursor().filter(function(a){return a.b===e[0]}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesDeleteStoryRepliesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4996819562728890010"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["86400000"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["86400000"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["4996819562728890010"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.seq([function(b){return a.db.table(54).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[a.i64.sub(a.i64.of_float(Date.now()),c(k()))],d[0]=f[0],f):(e=b.item,f=[e.g==null?a.i64.sub(a.i64.of_float(Date.now()),c(j())):e.g],d[0]=f[0],f)})},function(b){return a.db.table(12).openCursor().filter(function(b){return a.i64.ge(b.b,d[0])&&b.r===a.i64.to_string(f[0])}).forEach(function(b){var d=b.item;return a.db.table(12).openCursor().filter(function(b){return a.i64.eq(b.a,d.a)&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,d.b)&&b.e===d.e}).forEach(function(a){var b=a.update;a.item;return b({w:void 0,y:void 0,z:void 0,D:void 0,H:void 0,I:void 0})})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesDeleteStorySharesStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7725530919216867394"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["-1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["86400000"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["86400000"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["7725530919216867394"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(n()))},function(b){return a.seq([function(b){return a.db.table(54).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[a.i64.sub(a.i64.of_float(Date.now()),c(m()))],d[0]=f[0],f):(e=b.item,f=[e.g==null?a.i64.sub(a.i64.of_float(Date.now()),c(l())):e.g],d[0]=f[0],f)})},function(b){return a.db.table(16).openCursor().filter(function(b){return a.i64.ge(b.b,d[0])&&a.i64.eq(b.bS,f[0])}).forEach(function(b){var d=b.item;return a.db.table(16).openCursor().filter(function(b){return a.i64.eq(b.a,d.a)&&a.i64.eq(c(k()),c(j()))&&b.c===d.c&&a.i64.eq(c(i()),c(h()))&&b.e===d.e}).forEach(function(a){var b=a.update;a.item;return b({F:void 0,G:void 0,I:void 0,H:void 0,K:void 0,L:void 0,m:void 0})})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdCTAStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4975059425164631832"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4975059425164631832"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(59).put({a:e[0],c:e[2],b:e[1],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],j:e[8],k:e[9]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdCardStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6892620876917113617"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6892620876917113617"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(58).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],i:e[8],j:e[9],l:e[10],m:e[11],n:e[12],k:e[13],o:e[14],p:e[15]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdUnitStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9177306014010828764"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["9177306014010828764"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(57).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesInstagramStoryReplyIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2738025648353158854"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["188"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2738025648353158854"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("story_id",f[0])],d[2]=b[0],b,b=[d[0].set("reply_text",f[1])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","instagram_story_reply",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesIssueStoryAdsFetchStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7089980937935052714"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["38"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["7089980937935052714"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("number_of_organic_story_buckets",f[0])],d[2]=b[0],b,b=[d[0].set("number_of_recently_seen_ads",c(j()))],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","story_ads_fetch",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomCreateFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["328439686085375637"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["328439686085375637"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(63).getArr([[e[0]],"optimistic"]).filter(function(b){return b.b===e[0]&&a.i64.eq(b.l,c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomCreateSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3883144653292671449"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["3883144653292671449"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(63).getArr([[e[0]],"optimistic"]).filter(function(b){return b.b===e[0]&&a.i64.eq(b.l,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({a:e[1],d:e[2],l:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomDeleteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6161453154330867384"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6161453154330867384"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(63).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomInviteeTypeUpdateSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7385311103147570419"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["7385311103147570419"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(63).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({l:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomInviteeUpdateIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4117428229903338790"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["182"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4117428229903338790"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("room_id",f[0])],d[2]=b[0],b,b=[d[0].set("invitee_type",f[1])],d[3]=b[0],b,b=[d[0].set("added_invitee_ids",f[2])],d[4]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","room_invitee_update",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomParticipantDeleteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4400662359927319211"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4400662359927319211"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(64).getArr([[[e[0],e[1],e[2]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.b,e[1])&&a.i64.eq(b.c,e[2])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomParticipantUpsertStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["724458873471660259"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["724458873471660259"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(64).getArr([[[e[0],e[1]]],"optimistic"]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.b,e[1])&&a.i64.gt(b.h,c(i()))}).next().then(function(b){var d=b.done;b.value;return d?a.db.table(64).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:c(h())}):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomRevokeFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6780571622093869714"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["100"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6780571622093869714"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(63).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.l,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({l:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomRevokeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6924331477068614782"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["178"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["100"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["100"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["6924331477068614782"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(63).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.neq(b.l,c(k()))}).next().then(function(b,e){var f=b.done;b=b.value;return f?0:(e=b.item,a.seq([function(b){return d[2]=e.a,a.db.table(63).openCursor().filter(function(b){return a.i64.eq(b.a,d[2])}).forEach(function(a){var b=a.update;a.item;return b({l:c(j())})})},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("room_id",d[2])],d[3]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","room_revoke",c(i()),d[1],void 0,void 0,c(h()),void 0)}]))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomTruncateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8389657070905238941"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8389657070905238941"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(63).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedAttacmentCTAStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3365281940108958155"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3365281940108958155"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.db.table(16).openCursor().filter(function(b){return a.i64.eq(b.bS,e[3])&&b.t===e[1]}).forEach(function(a){var b=a.update;a.item;return b({s:e[0],t:e[2]})})},function(b){return a.db.table(19).openCursor().filter(function(b){return a.i64.eq(b.o,e[3])&&b.g===e[1]}).forEach(function(a){var b=a.update;a.item;return b({f:e[0],g:e[2]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4821559498011759275"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["179"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4821559498011759275"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.seq([function(b){return f[1]?a.sp("464",f[3],"xma_rooms_speakeasy_interested","xma_rooms_speakeasy_undo",f[0]):a.sp("464",f[3],"xma_rooms_speakeasy_undo","xma_rooms_speakeasy_interested",f[0])},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("room_id",f[0])],d[3]=b[0],b,b=[d[1].set("is_interested",f[1])],d[4]=b[0],b,b=[d[1].set("reminder_timestamp_ms",f[2])],d[5]=b[0],b,b=[d[1].set("reminder_time",c(j()))],d[6]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","room_update_interested",c(i()),d[2],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["728767710881350785"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["728767710881350785"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return e[0]?a.sp("291",e[1],e[2],c(i()),void 0,void 0,void 0,void 0):a.sp("293",e[1],e[2],c(h()))},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5429457488618421623"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["180"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5429457488618421623"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("room_id",f[0])],d[2]=b[0],b,b=[d[0].set("name",f[1])],d[3]=b[0],b,b=[d[0].set("emoji",f[2])],d[4]=b[0],b,b=[d[0].set("start_time_ms",f[3])],d[5]=b[0],b,b=[d[0].set("audience_type",f[4])],d[6]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","room_update",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3156970261238688029"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["3156970261238688029"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(63).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({e:e[1],f:e[2],g:e[3],h:e[4],k:e[5],l:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpsertStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9068178149345836325"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["9068178149345836325"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(63).getArr([[e[1]],"optimistic"]).filter(function(b){return b.b===e[1]&&a.i64.gt(b.l,c(i()))}).next().then(function(b){var d=b.done;b.value;return d?a.db.table(63).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5],g:e[6],h:e[7],i:e[11],k:e[8],j:e[12],l:c(h())}):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomsOptimisticCreateIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7358224448772070305"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["172"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["7358224448772070305"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(n()))},function(b){return a.seq([function(b){return d[3]=f[3]==null?a.i64.of_float(Date.now()):f[3],a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(63).getArr([[f[1]],"optimistic"]).filter(function(b){return b.b===f[1]&&a.i64.lt(b.l,c(m()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(63).add({a:f[0],b:f[1],c:d[0],d:f[1],f:f[2],g:d[3],e:f[4],k:f[5],i:c(l()),j:c(k()),l:c(j())})},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("optimistic_client_token",f[1])],d[4]=b[0],b,b=[d[1].set("callstart_timestamp_ms",d[3])],d[5]=b[0],b,b=[d[1].set("name",f[4])],d[6]=b[0],b,b=[d[1].set("emoji",f[2])],d[7]=b[0],b,b=[d[1].set("audience_type",f[5])],d[8]=b[0],b,b=[d[1].set("link_surface",f[6])],d[9]=b[0],b,b=[d[1].set("rooms_logging_data",f[7])],d[10]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","room_create",c(i()),d[2],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryArchiveStoryFetchIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5378041831267579567"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["132"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["5378041831267579567"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(l()))},function(e){return a.seq([function(e){return f[1]?a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[4]=a[0],a})},function(b){return a.db.table(53).getArr([[[d[4],c(k())]],"optimistic"]).filter(function(b){return a.i64.eq(b.b,d[4])&&a.i64.eq(b.c,c(j()))}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[void 0],d[5]=e[0],e):(c=b.item,a.seq([function(b){return a.db.table(54).openCursor().filter(function(b){return a.i64.eq(b.b,c.a)}).sortBy([["g","ASC",a.i64.compare]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[7]=a[0],a):(c=b.item,a=[c.g],d[7]=a[0],a)})},function(a){return a=[d[7]],d[5]=a[0],a}]))})},function(a){return a=[d[5]],d[1]=a[0],a}]):b("Promise").resolve((e=[void 0],d[1]=e[0],e))},function(b){return b=[new a.Map()],d[2]=b[0],b,b=[d[2].set("timestamp_ms",d[1])],d[4]=b[0],b,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","story_archive_range_query",c(i()),d[3],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryBucketTruncateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9189345459677111377"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["9189345459677111377"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(53).openCursor().filter(function(b){return a.i64.eq(b.c,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryComputeRingStateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9001353375687818916"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["39423"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9001353375687818916"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.seq([function(b){return a.sp("275",f[0]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(b){return a.i64.neq(d[0],void 0)?(a.i64.eq(d[0],c(j()))?(b=[c(i())],d[5]=b[0],b):(b=[c(h())],d[5]=b[0],b),b=[d[5]],d[3]=b[0],b):(b=[void 0],d[3]=b[0],b),b=[d[0],d[1],d[3]],e[0]=b[0],e[1]=b[1],e[2]=b[2],b}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryContactSyncFromBucketStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7581344540469834978"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["14342874"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["39423"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["7581344540469834978"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(o()))},function(b){return a.seq([function(b){return a.db.table(7).openCursor().filter(function(a){return!0}).forEach(function(a){var b=a.update;a.item;return b({t:void 0,D:void 0})})},function(b){return a.db.table(53).openCursor().filter(function(b){return a.i64.eq(b.c,c(n()))}).forEach(function(b){var e=b.item;return d[2]=e.f,a.i64.eq(d[2],c(m()))?(b=[c(l())],d[1]=b[0],b):(a.i64.eq(d[2],c(k()))?(b=[c(j())],d[4]=b[0],b):(b=[void 0],d[4]=b[0],b),b=[d[4]],d[1]=b[0],b),a.db.table(7).getArr([[e.b]]).filter(function(b){return a.i64.eq(b.a,e.b)&&a.i64.eq(c(i()),c(h()))}).forEach(function(a){var b=a.update;a.item;return b({D:d[2],t:d[1]})})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryCreateFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4832896373410640814"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4832896373410640814"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(54).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.J,c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryCreateIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2932578737126885330"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2932578737126885330"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("optimistic_story_id",f[0])],d[2]=b[0],b,b=[d[0].set("optimistic_client_id",f[1])],d[3]=b[0],b,b=[d[0].set("text",f[2])],d[4]=b[0],b,b=[d[0].set("media_id",f[4])],d[5]=b[0],b,b=[d[0].set("sticker_id",f[3])],d[6]=b[0],b,b=[d[0].set("copy_media",f[5])],d[7]=b[0],b,b=[d[0].set("montage_overlays",f[6])],d[8]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","story_create",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryCreationSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["446316597092590938"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["446316597092590938"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(54).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({a:e[1],c:c(i()),J:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryDeleteFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["328969582284601913"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["100"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["328969582284601913"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(54).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.J,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({J:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryDeleteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6070921040774142671"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6070921040774142671"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.sp("253",f[0])},function(b){return a.sp("284",f[0])},function(b){return a.db.table(54).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b,c){var e=b.done;b=b.value;return e?0:(c=b.item,a.seq([function(b){return d[1]=c.a,d[3]=c.b,d[2]=c.f,a.db.table(54).openCursor().filter(function(b){return a.i64.eq(b.b,d[3])&&a.i64.neq(b.a,d[1])}).next().then(function(b,c){c=b.done;b=b.value;return c?a.seq([function(b){return a.sp("261",d[2],void 0,void 0)},function(b){return a.db.table(53).getArr([[d[3]]]).filter(function(b){return a.i64.eq(b.a,d[3])}).forEach(function(a){return a["delete"]()})}]):(b.item,a.seq([function(b){return a.db.table(54).openCursor().filter(function(b){return a.i64.eq(b.a,d[1])}).forEach(function(a){return a["delete"]()})},function(b){return a.sp("276",d[2])}]))})},function(b){return a.sp("463",d[2])}]))})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryGetReadStateFromBucketStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3722014936934829097"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["3722014936934829097"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.seq([function(b){return a.db.table(53).getArr([[[f[0],c(j())]],"optimistic"]).filter(function(b){return a.i64.eq(f[0],b.b)&&a.i64.eq(c(i()),b.c)}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(h()),void 0],d[0]=e[0],d[1]=e[1],e):(b=a.item,e=[b.f,void 0],d[0]=e[0],d[1]=e[1],e)})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryInventoryReplenishStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3627716085611100747"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["131"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["60000"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["3627716085611100747"]);t=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(t()))},function(e){return a.seq([function(b){return a.db.table(53).openCursor().filter(function(b){return a.i64.eq(b.f,c(s()))}).count().then(function(a){return d[0]=a})},function(e){return a.i64.lt(d[0],f[0])?a.db.table(61).openCursor().filter(function(b){return(a.i64.eq(b.d==null?c(r()):b.d,c(q()))||a.i64.eq(b.b,c(p())))&&a.i64.lt(a.i64.of_float(Date.now()),b.c)}).next().then(function(b){var e=b.done;b.value;return e?a.seq([function(b){return a.db.table(61).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(61).add({a:a.i64.to_string(c(o())),c:a.i64.add(a.i64.of_float(Date.now()),c(n())),b:c(m())})},function(b){return b=[a.createArray()],d[1]=b[0],b,b=[(d[1].push(a.i64.to_string(c(l()))),d[1])],d[2]=b[0],b,b=[(d[1].push(a.i64.to_string(a.i64.div(a.i64.of_float(Date.now()),c(k())))),d[1])],d[3]=b[0],b,b=[d[1].join(":")],d[4]=b[0],b,b=[new a.Map()],d[5]=b[0],b,b=[d[5].set("dedup_key",d[4])],d[7]=b[0],b,b=[d[5].set("page_num",c(j()))],d[8]=b[0],b,b=[a.toJSON(d[5])],d[6]=b[0],b,a.sp("1","story_more_buckets",c(i()),d[6],void 0,void 0,c(h()),void 0)}]):0}):b("Promise").resolve()}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryMarkReadSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4495223742034006197"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["4495223742034006197"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(55).getArr([[[f[1],d[0],c(k())]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.eq(b.b,d[0])&&a.i64.eq(b.c,c(j()))&&a.i64.le(b.f,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({f:c(h())})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryMoreBucketsIssueTaskStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7555387546329920382"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["131"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["60000"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["131"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["60000"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["131"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["1000"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["60000"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["7555387546329920382"]);N=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(N()))},function(b){return a.i64.eq(f[0],c(M()))?a.db.table(61).openCursor().filter(function(b){return(a.i64.eq(b.d==null?c(L()):b.d,c(K()))||a.i64.eq(b.b,c(J())))&&a.i64.lt(a.i64.of_float(Date.now()),b.c)}).next().then(function(b){var e=b.done;b.value;return e?a.seq([function(b){return a.db.table(61).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(61).add({a:a.i64.to_string(c(I())),c:a.i64.add(a.i64.of_float(Date.now()),c(H())),b:c(G())})},function(b){return b=[a.createArray()],d[1]=b[0],b,b=[(d[1].push(a.i64.to_string(c(F()))),d[1])],d[2]=b[0],b,b=[(d[1].push(a.i64.to_string(a.i64.div(a.i64.of_float(Date.now()),c(E())))),d[1])],d[3]=b[0],b,b=[d[1].join(":")],d[4]=b[0],b,b=[new a.Map()],d[5]=b[0],b,b=[d[5].set("dedup_key",d[4])],d[7]=b[0],b,b=[d[5].set("page_num",c(D()))],d[8]=b[0],b,b=[a.toJSON(d[5])],d[6]=b[0],b,a.sp("1","story_more_buckets",c(C()),d[6],void 0,void 0,c(B()),void 0)}]):0}):a.db.table(53).openCursor().sortBy([["e","DESC",a.i64.compare]]).next().then(function(b,e){var f=b.done;b=b.value;return f?a.db.table(61).openCursor().filter(function(b){return(a.i64.eq(b.d==null?c(A()):b.d,c(z()))||a.i64.eq(b.b,c(y())))&&a.i64.lt(a.i64.of_float(Date.now()),b.c)}).next().then(function(e){var b=e.done;e.value;return b?a.seq([function(b){return a.db.table(61).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(61).add({a:a.i64.to_string(c(x())),c:a.i64.add(a.i64.of_float(Date.now()),c(w())),b:c(v())})},function(b){return b=[a.createArray()],d[2]=b[0],b,b=[(d[2].push(a.i64.to_string(c(u()))),d[2])],d[3]=b[0],b,b=[(d[2].push(a.i64.to_string(a.i64.div(a.i64.of_float(Date.now()),c(t())))),d[2])],d[4]=b[0],b,b=[d[2].join(":")],d[5]=b[0],b,b=[new a.Map()],d[6]=b[0],b,b=[d[6].set("dedup_key",d[5])],d[8]=b[0],b,b=[d[6].set("page_num",c(s()))],d[9]=b[0],b,b=[a.toJSON(d[6])],d[7]=b[0],b,a.sp("1","story_more_buckets",c(r()),d[7],void 0,void 0,c(q()),void 0)}]):0}):(e=b.item,d[2]=a.i64.add(e.e,c(p())),a.db.table(61).openCursor().filter(function(b){return(a.i64.eq(b.d==null?c(o()):b.d,c(n()))||a.i64.eq(b.b,c(m())))&&a.i64.lt(a.i64.of_float(Date.now()),b.c)}).next().then(function(e){var b=e.done;e.value;return b?a.seq([function(b){return a.db.table(61).openCursor().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(61).add({a:a.i64.to_string(d[2]),c:a.i64.add(a.i64.of_float(Date.now()),c(l())),b:c(k())})},function(b){return b=[a.createArray()],d[3]=b[0],b,b=[(d[3].push(a.i64.to_string(d[2])),d[3])],d[4]=b[0],b,b=[(d[3].push(a.i64.to_string(a.i64.div(a.i64.of_float(Date.now()),c(j())))),d[3])],d[5]=b[0],b,b=[d[3].join(":")],d[6]=b[0],b,b=[new a.Map()],d[7]=b[0],b,b=[d[7].set("dedup_key",d[6])],d[9]=b[0],b,b=[d[7].set("page_num",d[2])],d[10]=b[0],b,b=[a.toJSON(d[7])],d[8]=b[0],b,a.sp("1","story_more_buckets",c(i()),d[8],void 0,void 0,c(h()),void 0)}]):0}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticCreateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7690727908702546453"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["86400000"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["80"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["7690727908702546453"]);n=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(n()))},function(b){return a.seq([function(b){return a.db.table(53).openCursor().filter(function(b){return a.i64.eq(b.b,f[0])}).next().then(function(b,e){var g=b.done;b=b.value;return g?a.seq([function(b){return a.db.table(53).getArr([[[f[0],f[1]]],"optimistic"]).filter(function(b){return a.i64.eq(b.b,f[0])&&a.i64.eq(b.c,f[1])&&a.i64.lt(c(m()),c(l()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(53).add({a:f[0],b:f[0],c:f[1],d:""})},function(a){return a=[f[0]],d[0]=a[0],a}]):(e=b.item,g=[e.a],d[0]=g[0],g)})},function(b){return a.db.table(54).getArr([[f[2]]]).filter(function(b){return a.i64.eq(b.a,f[2])}).next().then(function(b){var e=b.done;b.value;return e?a.seq([function(b){return a.db.table(54).getArr([[f[3]],"optimistic"]).filter(function(b){return b.e===f[3]&&a.i64.lt(b.J,c(k()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(54).add({a:f[2],e:f[3],b:d[0],c:c(j()),d:f[4],f:f[5],g:a.i64.of_float(Date.now()),h:c(i()),i:f[6],j:f[7],k:f[8],l:f[9],m:f[10],n:f[11],o:f[12],p:f[13],q:f[14],r:f[15],s:f[16],t:f[17],u:f[18],v:f[19],J:c(h())})}]):0})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticDeleteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3628142286782753789"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["26"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["100"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["100"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["3628142286782753789"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(54).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.neq(b.J,c(k()))}).next().then(function(b,e){e=b.done;b=b.value;return e?0:(b.item,a.seq([function(b){return a.db.table(54).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).forEach(function(a){var b=a.update;a.item;return b({J:c(j())})})},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("story_id",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","story_delete",c(i()),d[1],void 0,void 0,c(h()),void 0)}]))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticMarkReadStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3694123025773651277"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["14342874"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["3694123025773651277"]);r=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(r()))},function(e){return a.db.table(55).openCursor().filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,f[1])}).next().then(function(e){var g=e.done;e.value;return g?a.seq([function(b){return a.db.table(55).getArr([[[f[0],f[1],c(q())]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,f[1])&&a.i64.eq(b.c,c(p()))&&a.i64.lt(b.f,c(o()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(55).add({a:f[0],b:f[1],c:c(n()),e:a.i64.of_float(Date.now()),f:c(m())})},function(e){return a.db.table(54).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.d,c(l()))}).next().then(function(f,g){var e=f.done;f=f.value;return e?0:(g=f.item,d[2]=g.b,a.db.table(54).openCursor().filter(function(b){return a.i64.eq(b.b,d[2])}).sortBy([["g","DESC",a.i64.compare]]).next().then(function(f,h){var e=f.done;f=f.value;return e?0:(h=f.item,a.i64.eq(g.a,h.a)?a.db.table(53).getArr([[d[2]]]).filter(function(b){return a.i64.eq(b.a,d[2])}).next().then(function(d,e){var b=d.done;d=d.value;return b?0:(e=d.item,a.sp("261",e.b,c(k()),c(j())))}):b("Promise").resolve())}))})},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("story_id",f[0])],d[2]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","story_mark_read",c(i()),d[1],void 0,void 0,c(h()),void 0)}]):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticPollVoteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3604036645373910120"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["70"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["3604036645373910120"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(o()))},function(b){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(55).getArr([[[f[0],d[0],c(n())]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[0])&&a.i64.eq(b.c,c(m()))&&a.i64.lt(b.f,c(l()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(55).add({b:d[0],a:f[0],c:c(k()),e:a.i64.of_float(Date.now()),d:f[1],f:c(j())})},function(b){return b=[new a.Map()],d[1]=b[0],b,b=[d[1].set("story_id",f[0])],d[3]=b[0],b,b=[d[1].set("vote_idx",f[1])],d[4]=b[0],b,b=[a.toJSON(d[1])],d[2]=b[0],b,a.sp("1","story_poll_vote",c(i()),d[2],void 0,void 0,c(h()),void 0)}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticReactStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7581084778627350926"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["76"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["7581084778627350926"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.db.table(56).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b){var e=b.done;b.value;return e?a.seq([function(b){return a.db.table(56).getArr([[f[5]],"optimistic"]).filter(function(b){return b.f===f[5]&&a.i64.lt(b.g,c(k()))}).forEach(function(a){return a["delete"]()})},function(b){return a.db.table(56).add({a:f[0],f:f[5],b:f[1],c:f[2],d:f[3],e:f[4],g:c(j())})},function(b){return b=[new a.Map()],d[0]=b[0],b,b=[d[0].set("optimistic_reaction_id",f[0])],d[2]=b[0],b,b=[d[0].set("story_id",f[1])],d[3]=b[0],b,b=[d[0].set("offline_threading_id",f[6])],d[4]=b[0],b,b=[d[0].set("reaction",f[3])],d[5]=b[0],b,b=[a.toJSON(d[0])],d[1]=b[0],b,a.sp("1","story_reaction",c(i()),d[1],void 0,void 0,c(h()),void 0)}]):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticUploadFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7981494563021810010"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["7981494563021810010"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(54).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({c:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryParticipantBucketDeleteStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5216187297196840185"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5216187297196840185"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(53).openCursor().filter(function(b){return a.i64.eq(b.b,e[0])}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryPollVoteFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4734717065242438759"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4734717065242438759"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(k()))},function(b){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(55).getArr([[[f[0],d[0],c(j())]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[0])&&a.i64.eq(b.c,c(i()))&&a.i64.le(b.f,c(h()))}).forEach(function(a){return a["delete"]()})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryPollVoteSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["850045021309264398"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["850045021309264398"]);l=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(l()))},function(b){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(b){return a.db.table(55).getArr([[[f[0],d[0],c(k())]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(b.b,d[0])&&a.i64.eq(b.c,c(j()))&&a.i64.le(b.f,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({f:c(h())})})},function(b){return a.db.table(60).getArr([[[f[0],a.i64.to_string(f[1])]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&b.b===a.i64.to_string(f[1])}).forEach(function(a){var b=a.update;a.item;return b({l:f[2],n:f[3]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryReactionFailureStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8246308195543726341"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8246308195543726341"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(56).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.g,c(h()))}).forEach(function(a){return a["delete"]()})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryReactionSuccessStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["560289855550071622"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["60"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["560289855550071622"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(56).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({a:e[1],g:c(h())})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingClearStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3288492369068958441"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3288492369068958441"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(7).openCursor().filter(function(b){return a.i64.neq(b.t,void 0)}).forEach(function(a){var b=a.update;a.item;return b({t:void 0})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingExpirationTimestampUpdateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6164387043111821194"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["86400000"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["6164387043111821194"]);o=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(o()))},function(b){return a.db.table(54).openCursor().filter(function(b){return a.i64.eq(b.f,f[0])}).sortBy([["g","DESC",a.i64.compare]]).next().then(function(b,e){var g=b.done;b=b.value;return g?a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(n()),c(m()))&&a.i64.neq(b.z,void 0)}).forEach(function(a){var b=a.update;a.item;return b({z:void 0})}):(e=b.item,d[2]=e.g,a.i64.neq(d[2],void 0)?(d[3]=a.i64.add(d[2],c(l())),a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(k()),c(j()))&&a.i64.neq(b.z,d[3])}).forEach(function(a){var b=a.update;a.item;return b({z:d[3]})})):a.db.table(7).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.neq(b.z,void 0)}).forEach(function(a){var b=a.update;a.item;return b({z:void 0})}))})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryRingLatestStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6814699691224935412"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["14342874"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["39423"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["6814699691224935412"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(q){return a.seq([function(b){return a.nop(10,c(p()))},function(g){return a.seq([function(b){return a.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return a.i64.neq(f[0],d[0])?a.seq([function(b){return a.db.table(53).openCursor().filter(function(b){return a.i64.eq(b.b,f[0])}).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[void 0,void 0],d[4]=f[0],d[5]=f[1],f):(e=b.item,a.seq([function(b){return a.db.table(54).openCursor().filter(function(b){return a.i64.eq(b.b,e.a)}).sortBy([["g","DESC",a.i64.compare]]).next().then(function(e,f){var b=e.done;e=e.value;return b?(b=[void 0,void 0],d[7]=b[0],d[8]=b[1],b):(f=e.item,a.seq([function(b){return d[14]=f.g,d[15]=f.h,a.sp("4").then(function(a){return a=a,d[10]=a[0],a})},function(b){return a.db.table(55).getArr([[[f.a,d[10],c(o())]]]).filter(function(b){return a.i64.eq(b.a,f.a)&&a.i64.eq(b.b,d[10])&&a.i64.eq(b.c,c(n()))}).next().then(function(b,e){e=b.done;b=b.value;return e?(e=[c(m()),a.i64.add(d[14]==null?c(l()):d[14],d[15]==null?c(k()):d[15])],d[11]=e[0],d[12]=e[1],e):(b.item,e=[c(j()),a.i64.add(d[14]==null?c(i()):d[14],d[15]==null?c(h()):d[15])],d[11]=e[0],d[12]=e[1],e)})},function(a){return a=[d[11],d[12]],d[7]=a[0],d[8]=a[1],a}]))})},function(a){return a=[d[7],d[8]],d[4]=a[0],d[5]=a[1],a}]))})},function(a){return a=[d[4],d[5]],d[2]=a[0],d[3]=a[1],a}]):b("Promise").resolve((e=[void 0,void 0],d[2]=e[0],d[3]=e[1],e))},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryRingRefreshStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6771442804727303580"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6771442804727303580"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.seq([function(b){return a.sp("278",f[0]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],d[2]=a[2],a})},function(b){return a.sp("261",f[0],d[0],d[2])}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryRingUpdateOnLookupStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8781985665266390046"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["39423"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["14342874"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["39423"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["8781985665266390046"]);p=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(e){return a.seq([function(b){return a.nop(10,c(p()))},function(e){return a.seq([function(b){return a.db.table(54).getArr([[f[1]]]).filter(function(b){return a.i64.eq(b.a,f[1])&&a.i64.neq(b.f,f[0])}).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[void 0,void 0],d[0]=g[0],d[1]=g[1],g):(e=b.item,a.seq([function(b){return d[10]=e.f,b=[a.createArray()],d[3]=b[0],b,b=[(d[3].push(!1),d[3])],d[4]=b[0],b,a.db.table(54).openCursor().filter(function(b){return a.i64.eq(b.f,d[10])&&a.i64.neq(b.a,f[1])}).forEach(function(b){var e=b.item;return a.seq([function(b){return a.db.table(55).openCursor().filter(function(b){return a.i64.eq(b.a,e.a)&&a.i64.eq(b.b,f[0])}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!0],d[11]=b[0],b):(a.item,b=[!1],d[11]=b[0],b)})},function(b){return a.ntop("Array",3,d[3],c(o())).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(b){return a.ntop("Array",4,d[3],c(n())).then(function(a){return a=a,d[15]=a[0],a})},function(a){return a=[(d[3].push(d[13]||d[11]),d[3])],d[16]=a[0],a}])})},function(b){return a.ntop("Array",3,d[3],c(m())).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(a){return d[5]?(a=[d[10],c(l())],d[8]=a[0],d[9]=a[1],a):(a=[d[10],c(k())],d[8]=a[0],d[9]=a[1],a),a=[d[8],d[9]],d[0]=a[0],d[1]=a[1],a}]))})},function(e){return a.i64.neq(d[0],void 0)?(a.i64.neq(d[1],void 0)?(a.i64.eq(d[1],c(j()))?(e=[c(i())],d[6]=e[0],e):(e=[c(h())],d[6]=e[0],e),e=[d[6]],d[4]=e[0],e):(e=[void 0],d[4]=e[0],e),a.sp("261",d[0],d[1],d[4])):b("Promise").resolve()}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryRingUpdateStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9043471490832319492"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["9043471490832319492"]);m=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(m()))},function(b){return a.seq([function(b){return a.db.table(7).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(l()),c(k()))}).forEach(function(a){var b=a.update;a.item;return b({t:e[1],D:e[2]})})},function(b){return a.db.table(53).getArr([[[e[0],c(j())]],"optimistic"]).filter(function(b){return a.i64.eq(b.b,e[0])&&a.i64.eq(b.c,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({f:e[2]==null?c(h()):e[2]})})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryUpdateMediaIDStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7476415981187169729"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["7476415981187169729"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.db.table(54).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(b.J,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({k:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryUpdatePostingStatusStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["293051102702347878"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["293051102702347878"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(54).getArr([[e[0]]]).filter(function(b){return a.i64.eq(b.a,e[0])}).forEach(function(a){var b=a.update;a.item;return b({c:e[1]})})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryUpsertAttributionRangeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1320984822502416993"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1320984822502416993"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[];a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryVerifyRowExistsStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4681417688737712824"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["71"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4681417688737712824"]);j=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(j()))},function(b){return a.db.table(54).getArr([[f[0]]]).filter(function(b){return a.i64.eq(b.a,f[0])}).next().then(function(b){var e=b.done;b.value;return e?(b=[a.createArray()],d[0]=b[0],b,e=[(d[0].push(f[0]),d[0])],d[1]=e[0],e,b=[new a.Map()],d[2]=b[0],b,e=[d[2].set("story_ids",d[0])],d[4]=e[0],e,b=[a.toJSON(d[2])],d[3]=b[0],b,a.sp("1","story_point_query",c(i()),d[3],void 0,void 0,c(h()),void 0)):0})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSThreadThemeUpsertGradientColorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2829991018486986652"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2829991018486986652"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(117).put({a:e[0],b:e[1],c:e[2]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSThreadThemeUpsertThemeStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7459024427168903235"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7459024427168903235"]);h=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(h()))},function(b){return a.db.table(116).put({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4]})},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSTypingSendTypingIndicatorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4230288402786761620"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4230288402786761620"]);i=function(){return a};return a}a=function(a){var c=a.n,d=[],e=[],f=a.slc(arguments,1);return a.seq([function(b){return a.seq([function(b){return a.nop(10,c(i()))},function(b){return a.seq([function(b){return b=[a.createArray()],d[0]=b[0],b,b=[(d[0].push("typing"),d[0])],d[1]=b[0],b,b=[(d[0].push(a.i64.to_string(f[0])),d[0])],d[2]=b[0],b,b=[d[0].join("_")],d[3]=b[0],b,a.db.table(5).openCursor().filter(function(a){return d[3]===a.b}).forEach(function(a){return a["delete"]()})},function(b){return b=[new a.Map()],d[4]=b[0],b,b=[d[4].set("thread_key",f[0])],d[6]=b[0],b,b=[d[4].set("is_group_thread",f[1])],d[7]=b[0],b,b=[d[4].set("is_typing",f[2])],d[8]=b[0],b,b=[a.toJSON(d[4])],d[5]=b[0],b,a.sp("6",d[3],c(h()),d[5])}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(e)}])};e.exports=a}),null);
__d("LSTypingUpdateTypingIndicatorStoredProcedure",["Promise"],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1012511946939739268"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5000"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1012511946939739268"]);k=function(){return a};return a}a=function(a){var c=a.n,d=[],e=a.slc(arguments,1);return a.seq([function(d){return a.seq([function(b){return a.nop(10,c(k()))},function(d){return a.seq([function(d){return e[2]?a.db.table(52).put({a:e[0],b:e[1],c:a.i64.add(a.i64.of_float(Date.now()),c(j()))}):b("Promise").resolve()},function(d){return e[2]?b("Promise").resolve():a.db.table(52).getArr([[[e[0],e[1]]]]).filter(function(b){return a.i64.eq(b.a,e[0])&&a.i64.eq(c(i()),c(h()))&&a.i64.eq(b.b,e[1])}).forEach(function(a){return a["delete"]()})}])},function(b){return a.nop(11,c(g()))}])},function(a){return b("Promise").resolve(d)}])};e.exports=a}),null);
__d("LSStoredProcedures",["LSCoreIssueNewTaskStoredProcedure","LSCoreIssueNewTaskAndGetTaskIDStoredProcedure","LSCoreCancelTaskByQueueNameStoredProcedure","LSCoreGetViewerFBIDStoredProcedure","LSCoreHandleFailedTaskStoredProcedure","LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure","LSCoreIssueNewFireAndForgetTaskStoredProcedure","LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure","LSCoreRemoveTaskStoredProcedure","LSCoreHandleSyncFailureStoredProcedure","LSCoreForceImmediateSyncStoredProcedure","LSCoreIssueNewErrorStoredProcedure","LSCoreRemoveErrorStoredProcedure","LSCoreTaskExistsStoredProcedure","LSCoreUpdateTaskQueueNameStoredProcedure","LSCoreUpdateTaskValueStoredProcedure","LSCoreGetCursorStoredProcedure","LSCoreUpdateOptimisticContextThreadKeysStoredProcedure","LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure","LSCoreSetRegionHintStoredProcedure","LSCoreSetBackgroundModeStoredProcedure","LSCoreBeginHandlingPendingTasksStoredProcedure","LSCoreBeginHandlingPendingTasksForQueueStoredProcedure","LSCoreHandleTaskSendSuccessForQueueStoredProcedure","LSCoreHandleTaskSendFailureForQueueStoredProcedure","LSCoreBeginHandlingSyncForSyncGroupStoredProcedure","LSCoreBeginHandlingSyncStoredProcedure","LSContactVerifyContactRowExistsStoredProcedure","LSContactDeleteThenInsertContactStoredProcedure","LSContactInsertContactStoredProcedure","LSContactOptimisticSetBlockStatusStoredProcedure","LSContactContactUploadStoredProcedure","LSContactSetContactCapabilitiesStoredProcedure","LSContactOptimisticPseudoUnblockStoredProcedure","LSContactResetOptimisticBlockStateStoredProcedure","LSMailboxLocalApplyOptimisticMessageStoredProcedure","LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxInsertOptimisticAttachmentStoredProcedure","LSMailboxUpdateOptimisticAttachmentPreviewStoredProcedure","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxIssueSendAttachmentMessageTaskStoredProcedure","LSMailboxOptimisticSendURLShareStoredProcedure","LSMailboxOptimisticSendMessageForwardStoredProcedure","LSMailboxOptimisticSendAttachmentForwardStoredProcedure","LSMailboxOptimisticSendAttachmentShareForwardStoredProcedure","LSMailboxCleanupOptimisticOrderingOfSentMessagesStoredProcedure","LSMailboxAddParticipantToGroupThreadStoredProcedure","LSMailboxAddParticipantIdToGroupThreadStoredProcedure","LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSMailboxInsertNewMessageRangeStoredProcedure","LSMailboxUpdateExistingMessageRangeStoredProcedure","LSMailboxUpdateMessageRangeV1StoredProcedure","LSMailboxUpsertAttachmentRangeStoredProcedure","LSMailboxIssueAttachmentsRangeQueryStoredProcedure","LSMailboxMessagePointQueryStoredProcedure","LSMailboxClearMessagePlaceholderRangeStoredProcedure","LSMailboxMarkThreadReadStoredProcedure","LSMailboxMarkAllThreadsReadStoredProcedure","LSMailboxUpdateTypingStoredProcedure","LSMailboxUpdateThreadSnippetFromLastMessageStoredProcedure","LSMailboxUpdateThreadSnippetStoredProcedure","LSMailboxUpdateThreadSnippetV2StoredProcedure","LSMailboxUpdateThreadSnippetAfterMessageDeletedStoredProcedure","LSMailboxDeleteMessageStoredProcedure","LSMailboxOptimisticUnsendMessageStoredProcedure","LSMailboxDeleteThreadStoredProcedure","LSMailboxDeleteMessageRequestStoredProcedure","LSMailboxOptimisticDeleteThreadStoredProcedure","LSMailboxOptimisticRemoveThreadStoredProcedure","LSMailboxTaskSerializerRemoveThreadStoredProcedure","LSMailboxSendMessageV2FailureCleanupStoredProcedure","LSMailboxUpdateDeliveryReceiptStoredProcedure","LSMailboxSyncUpdateThreadNameStoredProcedure","LSMailboxOptimisticUpdateThreadNameStoredProcedure","LSMailboxUpdateThreadImageStoredProcedure","LSMailboxOptimisticUpdateThreadThemeStoredProcedure","LSMailboxOptimisticUpdateThreadCustomEmojiStoredProcedure","LSMailboxOptimisticUpdateThreadDisappearingModeStoredProcedure","LSMailboxSetThreadImageURLStoredProcedure","LSMailboxIssueSetThreadImageTaskStoredProcedure","LSMailboxOptimisticRemoveThreadImageStoredProcedure","LSMailboxUpdateThreadParticipantAdminStatusStoredProcedure","LSMailboxOverwriteAllThreadParticipantsAdminStatusStoredProcedure","LSMailboxUpdateThreadParticipantNicknameStoredProcedure","LSMailboxUpdateThreadParticipantNicknameV2StoredProcedure","LSMailboxOptimisticUpdateThreadParticipantNicknameStoredProcedure","LSMailboxOptimisticExitFocusModeStoredProcedure","LSMailboxVerifyThreadRowExistsStoredProcedure","LSMailboxOptimisticUpdateThreadParticipantAdminStatusStoredProcedure","LSMailboxOptimisticUpsertReactionStoredProcedure","LSMailboxOptimisticRespondToAdminApprovalRequestStoredProcedure","LSMailboxUpdateDraftMessageStoredProcedure","LSMailboxLocalMarkThreadReadStoredProcedure","LSMailboxOptimisticMarkThreadReadStoredProcedure","LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure","LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure","LSMailboxGetFirstAvailableThreadNullstateCTAIDStoredProcedure","LSMailboxGetFirstAvailableFocusModeCTAIDStoredProcedure","LSMailboxUpdateThreadNullstateCTAIDStoredProcedure","LSMailboxGetThreadAttributionInfoStoredProcedure","LSMailboxSetNeedsAdminApprovalForNewParticipantStoredProcedure","LSMailboxOptimisticSetNeedsAdminApprovalForNewParticipantStoredProcedure","LSMailboxUpdateThreadApprovalModeStoredProcedure","LSMailboxInsertIntoAdminApprovalQueueStoredProcedure","LSMailboxRemoveFromAdminApprovalQueueStoredProcedure","LSMailboxRemoveAllRequestsFromAdminApprovalQueueStoredProcedure","LSMailboxUpdateParticipantSubscribeSourceTextStoredProcedure","LSMailboxInsertRtcSignalStoredProcedure","LSMailboxRtcP2PEndCallStoredProcedure","LSMailboxUpdateOrInsertRtcOngoingCallDataStoredProcedure","LSMailboxDeleteRtcOngoingCallDataStoredProcedure","LSMailboxUpsertRtcMultiwayCallInitiationConferenceNameStoredProcedure","LSMailboxDeleteRtcMultiwayCallInitiationConferenceNameStoredProcedure","LSMailboxFetchMultiwayConferenceNameStoredProcedure","LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure","LSMailboxApplyAdminMessageCTAStoredProcedure","LSMailboxUpsertSequenceIdStoredProcedure","LSMailboxSetMessageTextHasLinksStoredProcedure","LSMailboxSetMessageViewFlagsStoredProcedure","LSMailboxSetMessageDisplayedContentTypesStoredProcedure","LSMailboxUpdateThreadThemeColorStoredProcedure","LSMailboxMarkThreadUnreadStoredProcedure","LSMailboxOptimisticMarkThreadUnreadStoredProcedure","LSMailboxUpdateThreadsRangesStoredProcedure","LSMailboxThreadsRangesQueryStoredProcedure","LSMailboxHandleRepliesOnUnsendStoredProcedure","LSMailboxUpdateRepliesOnUnsendStoredProcedure","LSMailboxSetThreadCannotUnsendReasonStoredProcedure","LSMailboxRemoveParticipantFromThreadStoredProcedure","LSMailboxUpdateParentFolderReadWatermarkStoredProcedure","LSMailboxOptimisticDeleteSponsoredMessageAdStoredProcedure","LSMailboxSendCTMWelcomeMessageFromAppStoredProcedure","LSMailboxChangeViewerStatusStoredProcedure","LSMailboxSetMessagesViewedPluginStoredProcedure","LSMailboxUpdateThreadMuteSettingStoredProcedure","LSMailboxGetParentThreadKeyStoredProcedure","LSMailboxUpdateSenderIDToPersonaIDStoredProcedure","LSMailboxUpdateAdditionalThreadContextStoredProcedure","LSMailboxOptimisticIgnoreMessageRequestStoredProcedure","LSMailboxOptimisticAcceptMessageRequestStoredProcedure","LSMailboxUpsertReactionStoredProcedure","LSMailboxDeleteReactionStoredProcedure","LSMailboxDeleteAllReactionsStoredProcedure","LSMailboxCreateCtaAccountLinkEncodedUrlStoredProcedure","LSMailboxWriteCtaAccountLinkEncodedUrlStoredProcedure","LSMailboxSetThreadCapabilitiesStoredProcedure","LSMailboxProcessAccountUnlinkStoredProcedure","LSMailboxDeleteExpiredMSuggestionsStoredProcedure","LSMailboxUpdateThreadOngoingCallStateStoredProcedure","LSMailboxUpdateOngoingCallServerInfoDataStoredProcedure","LSMailboxUpsertMSuggestionsStoredProcedure","LSMailboxCreateCtaAccountLinkEncodedUrlV2StoredProcedure","LSMailboxWriteThreadCapabilitiesStoredProcedure","LSMailboxProcessCTAAccountUnlinkStoredProcedure","LSMailboxUpsertMessageStoredProcedure","LSMailboxInsertMessageStoredProcedure","LSMailboxDeleteThenInsertMessageStoredProcedure","LSMailboxUpsertFolderStoredProcedure","LSMailboxUpdateShouldRoundThreadPictureStoredProcedure","LSMailboxVerifyThreadExistsStoredProcedure","LSMailboxTaskSerializerSendMessageV2StoredProcedure","LSMailboxDeleteThenInsertThreadStoredProcedure","LSMailboxDeleteThenInsertMessageRequestStoredProcedure","LSMailboxDeleteThenInsertAdminApprovalRequestStoredProcedure","LSMailboxUpdateFolderThreadSnippetStoredProcedure","LSMailboxResetPageMessagingWindowStoredProcedure","LSMailboxSendPlatformReferralEventStoredProcedure","LSMailboxUpdateThreadsRangesV2StoredProcedure","LSMailboxUpdateThreadCustomEmojiStoredProcedure","LSMailboxApplyNewGroupThreadStoredProcedure","LSMailboxInsertAttachmentStoredProcedure","LSMailboxInsertAttachmentItemStoredProcedure","LSMailboxDeleteThenInsertAttachmentStoredProcedure","LSMailboxInsertCtaStoredProcedure","LSMailboxDeleteThenInsertFocusModeCtaStoredProcedure","LSMailboxDeleteFocusModeCtaStoredProcedure","LSMailboxUpdateReadReceiptStoredProcedure","LSMailboxIssueParticipantPointQueryStoredProcedure","LSMailboxUpdateThreadThemeStoredProcedure","LSMailboxMarkOptimisticMessageFailedStoredProcedure","LSMailboxBumpThreadStoredProcedure","LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure","LSMailboxRemoveOptimisticReactionStoredProcedure","LSMailboxRemoveOptimisticGroupThreadStoredProcedure","LSMailboxRemoveOptimisticParticipantStoredProcedure","LSMailboxUpdateHasMenuAndComposerStoredProcedure","LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure","LSMailboxOptimisticIgnoreMessageStoredProcedure","LSMailboxCreateOfflineThreadingIDStoredProcedure","LSMailboxUpsertMessagesStatusInTableStoredProcedure","LSMailboxReplaceOptimsiticMessageStoredProcedure","LSMailboxReplaceOptimisticThreadStoredProcedure","LSMailboxReplaceOptimisticReactionStoredProcedure","LSMailboxRemoveAllParticipantsForThreadStoredProcedure","LSMailboxRetryMessageRangeQueryStoredProcedure","LSMailboxOptimisticMarkThreadReadV2StoredProcedure","LSMailboxComputeParticipantCapabilitiesStoredProcedure","LSMailboxUpdateExistingThreadV2StoredProcedure","LSMailboxTaskSerializerMuteThreadV2StoredProcedure","LSMailboxOptimisticMuteThreadStoredProcedure","LSMailboxMarkFolderSeenStoredProcedure","LSMailboxClearLocalThreadPictureUrlStoredProcedure","LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure","LSMailboxCreateGroupThreadWithAdminTextStoredProcedure","LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure","LSMailboxCheckAuthoritativeMessageExistsStoredProcedure","LSMailboxAddPollOptionStoredProcedure","LSMailboxMarkMessageSendFailedAfterDeserializationErrorStoredProcedure","LSMailboxAddPollVoteStoredProcedure","LSMailboxIssuePollCreationForThreadTaskStoredProcedure","LSMailboxRemovePollVoteStoredProcedure","LSMailboxGetAttachmentFbidWithOriginalFileHashStoredProcedure","LSMailboxIssuePollUpdateForThreadStoredProcedure","LSMailboxDeletePollAttachmentStoredProcedure","LSMailboxOptimisticUpdateThreadDescriptionStoredProcedure","LSMailboxUpdateThreadDescriptionStoredProcedure","LSMailboxUpdateParticipantCapabilitiesStoredProcedure","LSMailboxUpdateThreadSnippetFromLastMessageV2StoredProcedure","LSMailboxAddPollForThreadStoredProcedure","LSMailboxDeletePollDataStoredProcedure","LSMailboxHandlePlaceholderPollDataStoredProcedure","LSMailboxVerifyPollExistsStoredProcedure","LSMailboxAddPollOptionV2StoredProcedure","LSMailboxAddPollVoteV2StoredProcedure","LSMailboxRemovePollVoteV2StoredProcedure","LSMailboxUpdatePollAdminMessageSummaryStoredProcedure","LSMailboxSetPollsThreadCapabilityStoredProcedure","LSMailboxDeleteCTAsStoredProcedure","LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","LSMailboxCreateMeetingPlanStoredProcedure","LSMailboxSecureTemplateStatusUpdateStoredProcedure","LSMailboxUpdateExtraAttachmentColumnsStoredProcedure","LSMailboxRefreshMediaSendThreadCapabilitiesStoredProcedure","LSMailboxDeleteThenInsertLinkedAccountBadgeStoredProcedure","LSMailboxUpdateEphemeralMediaStateStoredProcedure","LSMailboxUpdateOptimisticEphemeralMediaStateStoredProcedure","LSMailboxUpdateSubscriptErrorMessageStoredProcedure","LSMailboxInsertOrUpdateInThreadBannerOnUnsendStoredProcedure","LSMailboxSendPlatformReferralFireForgetEventStoredProcedure","LSSecureMailboxVerifyLocalStateAndExitDasmTransactionIfNeededStoredProcedure","LSSecureMailboxUpdateRegistrationStatusStoredProcedure","LSSecureMailboxClearSecureMailboxOtherDevicesStoredProcedure","LSSecureMailboxAddSecureMailboxOtherDeviceStoredProcedure","LSSecureMailboxUpdatePrekeyUploadStatusStoredProcedure","LSSecureMailboxInsertSenderKeyStoredProcedure","LSSecureMailboxRemoveSenderKeyStoredProcedure","LSSecureMailboxUpdateSenderKeyStatusStoredProcedure","LSSecureMailboxUpdateThreadStatusStoredProcedure","LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure","LSSecureMailboxSetThreadDevicesStoredProcedure","LSSecureMailboxProcessCreateThreadResultStoredProcedure","LSSecureMailboxProcessPreKeyResultStoredProcedure","LSSecureMailboxSetAllPendingMessageToStatusStoredProcedure","LSSecureMailboxUpdateSecureMessageSendStatusStoredProcedure","LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure","LSSecureMailboxReceiveSalamanderBounceStoredProcedure","LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure","LSSecureMailboxOptimisticEnableDeviceStoredProcedure","LSSecureMailboxOptimisticDisableDeviceStoredProcedure","LSSecureMailboxDeletePacketsFromOmnistoreStoredProcedure","LSSecureMailboxEnableDeviceSuccessResponseStoredProcedure","LSSecureMailboxReceiveThreadSenderKeyStoredProcedure","LSSecureMailboxReceiveThreadSenderKeyV2StoredProcedure","LSSecureMailboxInsertTincanSyncGroupStoredProcedure","LSSecureMailboxReceiveSecureMessageStoredProcedure","LSSecureMailboxReceiveSecureMessageV2StoredProcedure","LSSecureMailboxEnableDeviceFailedResponseStoredProcedure","LSSecureMailboxProcessErrorStoredProcedure","LSSecureMailboxProcessSendErrorStoredProcedure","LSSecureMailboxLogTraceEventWithExtraDataStoredProcedure","LSSecureMailboxSetThreadMuteExpireTimeStoredProcedure","LSSecureMailboxUpsertSyncMetadataStoredProcedure","LSSecureMailboxTopUpPreKeysStoredProcedure","LSSecureMailboxUpdateServerThreadKeyStoredProcedure","LSSecureMailboxSetGroupThreadParticipantsStoredProcedure","LSSecureMailboxReceiveMarkThreadAsUnreadStoredProcedure","LSSecureMailboxToggleDisappearingModeStoredProcedure","LSSecureMailboxOptimisticToggleDisappearingModeStoredProcedure","LSSecureMailboxSyncRegularThreadUnreadStatusStoredProcedure","LSSecureMailboxGetRegistrationStatusStoredProcedure","LSSecureMailboxClearThreadDeviceStateStoredProcedure","LSSecureMailboxEncryptAndSendSecureMessageStoredProcedure","LSSecureMailboxEncryptAndSendThreadSenderKeyStoredProcedure","LSSecureMailboxUpdateThreadDevicesStoredProcedure","LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure","LSSecureMailboxInsertSecureMessageStoredProcedure","LSSecureMailboxClearSessionStateStoredProcedure","LSSecureMailboxStartSecureMediaUploadTaskStoredProcedure","LSSecureMailboxSendSecureMediaMessageStoredProcedure","LSSecureMailboxSetThreadParticipantsStoredProcedure","LSSecureMailboxDeleteSecureMessageStoredProcedure","LSSecureMailboxFetchEncryptionKeyAndEncryptLocalContentStoredProcedure","LSSecureMailboxGetMessageForAbuseReportStoredProcedure","LSSecureMailboxInsertFormattedAdminMessageStoredProcedure","LSSecureMailboxBatchStartEphemeralCountdownStoredProcedure","LSMediaSendInsertNewMediaSendStoredProcedure","LSMediaSendRemoveMediaSendJobsStoredProcedure","LSMediaSendMarkSubJobCompletedStoredProcedure","LSMediaSendMarkSubJobCompletedV2StoredProcedure","LSMediaSendSendPhase1MultiPhotoMessageStoredProcedure","LSMediaSendSendPhase2UpdateMessageStoredProcedure","LSMediaSendResumeMediaSendJobStoredProcedure","LSMediaSendInsertPhase2PendingTaskStoredProcedure","LSMediaSendGetUploadParamsForPhase2StoredProcedure","LSMediaSendResetUseDoublePhaseConfigStoredProcedure","LSMediaSendResetSendByServerConfigIfNotDoublePhaseStoredProcedure","LSMediaSendNextPendingJobIdToScheduleStoredProcedure","LSMediaSendGetMessageAttributionParamsStoredProcedure","LSMediaSendGetIsFinalUploadingStateStoredProcedure","LSMediaSendGetMediaSendConfigStoredProcedure","LSTypingUpdateTypingIndicatorStoredProcedure","LSTypingSendTypingIndicatorStoredProcedure","LSStoriesStoryCreateFailureStoredProcedure","LSStoriesStoryOptimisticMarkReadStoredProcedure","LSStoriesStoryOptimisticDeleteStoredProcedure","LSStoriesStoryDeleteStoredProcedure","LSStoriesStoryDeleteFailureStoredProcedure","LSStoriesStoryOptimisticPollVoteStoredProcedure","LSStoriesStoryPollVoteSuccessStoredProcedure","LSStoriesStoryPollVoteFailureStoredProcedure","LSStoriesStoryOptimisticCreateStoredProcedure","LSStoriesDeleteStoryRepliesStoredProcedure","LSStoriesStoryVerifyRowExistsStoredProcedure","LSStoriesInsertNewStoryAdUnitStoredProcedure","LSStoriesInsertNewStoryAdCardStoredProcedure","LSStoriesInsertNewStoryAdCTAStoredProcedure","LSStoriesIssueStoryAdsFetchStoredProcedure","LSStoriesClearStoryAdsTablesStoredProcedure","LSStoriesDeleteStoryAdUnitStoredProcedure","LSStoriesStoryRingUpdateStoredProcedure","LSStoriesStoryRingClearStoredProcedure","LSStoriesStoryCreateIssueTaskStoredProcedure","LSStoriesStoryReactionSuccessStoredProcedure","LSStoriesStoryReactionFailureStoredProcedure","LSStoriesStoryOptimisticReactStoredProcedure","LSStoriesInstagramStoryReplyIssueTaskStoredProcedure","LSStoriesStoryRingUpdateOnLookupStoredProcedure","LSStoriesStoryMarkReadSuccessStoredProcedure","LSStoriesStoryParticipantBucketDeleteStoredProcedure","LSStoriesStoryCreationSuccessStoredProcedure","LSStoriesStoryRingExpirationTimestampUpdateStoredProcedure","LSStoriesStoryOptimisticUploadFailureStoredProcedure","LSStoriesStoryUpdatePostingStatusStoredProcedure","LSStoriesStoryBucketTruncateStoredProcedure","LSStoriesStoryRingLatestStatusStoredProcedure","LSStoriesStoryRingRefreshStoredProcedure","LSStoriesStoryArchiveStoryFetchIssueTaskStoredProcedure","LSStoriesStoryComputeRingStateStoredProcedure","LSStoriesStoryGetReadStateFromBucketStoredProcedure","LSStoriesStoryMoreBucketsIssueTaskStoredProcedure","LSStoriesStoryInventoryReplenishStoredProcedure","LSStoriesStoryContactSyncFromBucketStoredProcedure","LSStoriesStoryUpdateMediaIDStoredProcedure","LSStoriesDeleteStorySharesStoredProcedure","LSStoriesDeleteOptimisticStoryStoredProcedure","LSStoriesStoryUpsertAttributionRangeStoredProcedure","LSStoriesRoomsOptimisticCreateIssueTaskStoredProcedure","LSStoriesRoomCreateSuccessStoredProcedure","LSStoriesRoomCreateFailureStoredProcedure","LSStoriesRoomUpsertStoredProcedure","LSStoriesRoomParticipantUpsertStoredProcedure","LSStoriesRoomDeleteStoredProcedure","LSStoriesRoomParticipantDeleteStoredProcedure","LSStoriesRoomTruncateStoredProcedure","LSStoriesRoomRevokeStoredProcedure","LSStoriesRoomRevokeFailureStoredProcedure","LSStoriesRoomUpdateInterestedIssueTaskStoredProcedure","LSStoriesRoomUpdateIssueTaskStoredProcedure","LSStoriesRoomUpdateSuccessStoredProcedure","LSStoriesRoomInviteeUpdateIssueTaskStoredProcedure","LSStoriesRoomUpdateInterestedSuccessStoredProcedure","LSStoriesRoomInviteeTypeUpdateSuccessStoredProcedure","LSStoriesRoomUpdateInterestedAttacmentCTAStoredProcedure","LSSearchIssueSearchQueryStoredProcedure","LSSearchUpdateSearchQueryStatusStoredProcedure","LSSearchInsertSearchResultStoredProcedure","LSSearchIssueMessageSearchQueryStoredProcedure","LSSearchUpdateMessageSearchQueryStatusStoredProcedure","LSSearchInsertMessageSearchResultStoredProcedure","LSSearchClearMessageSearchTableStoredProcedure","LSSearchInsertSearchSectionStoredProcedure","LSSearchInsertRecentSearchStoredProcedure","LSSearchInsertRecentSearchResultStoredProcedure","LSSearchDeleteRecentSearchStoredProcedure","LSSearchDeleteAllRecentSearchesStoredProcedure","LSSearchClearTablesStoredProcedure","LSOmnistoreSettingsContactUploadUpdateSettingsSuccessStoredProcedure","LSOmnistoreSettingsContactUploadUpdateSettingsStoredProcedure","LSOmnistoreSettingsStorySettingsPreferenceUpdateSuccessStoredProcedure","LSOmnistoreSettingsStoryAudienceModeUpdateStoredProcedure","LSOmnistoreSettingsStoryArchiveModeUpdateStoredProcedure","LSOmnistoreSettingsStoryParticipantSettingsUpdateStoredProcedure","LSOmnistoreSettingsStoryParticipantSettingsUpdateRequestStoredProcedure","LSOmnistoreSettingsUpdateGlobalMuteUntilStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdateGlobalMuteUntilStoredProcedure","LSOmnistoreSettingsUpdateShowMessagePreviewStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdateShowMessagePreviewStoredProcedure","LSOmnistoreSettingsUpdateOneToOneNotificationSettingStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdateOneToOneNotificationSettingStoredProcedure","LSOmnistoreSettingsUpdateGroupNotificationSettingStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdateGroupNotificationSettingStoredProcedure","LSOmnistoreSettingsUpdateReplyReminderSettingStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdateReplyReminderSettingStoredProcedure","LSOmnistoreSettingsUpdateIsSoundOnStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdateIsSoundOnStoredProcedure","LSOmnistoreSettingsGdprConsentUpsertStoredProcedure","LSOmnistoreSettingsGetFirstAvailablePersistentMenuItemsCTAIDStoredProcedure","LSOmnistoreSettingsInsertPersistentMenuItemsForThreadStoredProcedure","LSOmnistoreSettingsUpdatePresenceSettingsInTableStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdatePresenceSettingsStoredProcedure","LSOmnistoreSettingsUpdatePresenceSettingsStoredProcedure","LSOmnistoreSettingsRemoveExistingPersistentMenuItemsStoredProcedure","LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure","LSOmnistoreSettingsOptimisticSetLockStatusStoredProcedure","LSOmnistoreSettingsInsertLockStatusStoredProcedure","LSOmnistoreSettingsCreateVideoChatLinkStoredProcedure","LSOmnistoreSettingsInsertCreatedVideoChatLinkStoredProcedure","LSOmnistoreSettingsResolveVideoChatLinkStoredProcedure","LSOmnistoreSettingsInsertResolvedVideoChatLinkStoredProcedure","LSOmnistoreSettingsNotifyVideoChatLinkJoinAttemptStoredProcedure","LSOmnistoreSettingsRequestRankedRoomParticipantsStoredProcedure","LSOmnistoreSettingsInsertAttemptedJoinerStoredProcedure","LSOmnistoreSettingsClearAttemptedJoinersStoredProcedure","LSOmnistoreSettingsUpdateRoomsUserRingabilityStoredProcedure","LSOmnistoreSettingsEnterMessengerCallRoomStoredProcedure","LSOmnistoreSettingsInsertEnterMessengerCallRoomStoredProcedure","LSOmnistoreSettingsRemoveVideoChatLinkStoredProcedure","LSOmnistoreSettingsRevokeVideoChatLinkStoredProcedure","LSOmnistoreSettingsInviteParticipantToVideoChatLinkStoredProcedure","LSOmnistoreSettingsInsertOrUpdateCowatchSessionStoredProcedure","LSOmnistoreSettingsRemoveCowatchSessionStoredProcedure","LSOmnistoreSettingsInsertOrUpdatePinnedThreadStoredProcedure","LSOmnistoreSettingsRemovePinnedThreadStoredProcedure","LSOmnistoreSettingsOptimisticallyInsertOrUpdatePinnedThreadStoredProcedure","LSOmnistoreSettingsOptimisticallyRemovePinnedThreadStoredProcedure","LSOmnistoreSettingsInsertOrUpdateSelfProfileStoredProcedure","LSOmnistoreSettingsDeleteThenInsertMessagingSettingsStoredProcedure","LSOmnistoreSettingsOptimisticallyUpdateMessagingSettingsStoredProcedure","LSOmnistoreSettingsUpdateMessagingSettingsStoredProcedure","LSOmnistoreSettingsUpsertLiveStreamMetadataStoredProcedure","LSOmnistoreSettingsInsertOrUpdateFeatureLimitStoredProcedure","LSOmnistoreSettingsRemoveFeatureLimitStoredProcedure","LSPresenceDeleteThenInsertContactPresenceStoredProcedure","LSPresenceDeleteContactPresenceStoredProcedure","LSPresenceOnDemandFetchPresenceStoredProcedure","LSPaymentsUpsertCardDetailsStoredProcedure","LSPaymentsUpsertPaymentMethodDetailsStoredProcedure","LSPaymentsUpdatePaymentMethodPreferredStoredProcedure","LSPaymentsUpsertCompletePaymentMethodStoredProcedure","LSPaymentsInsertNewPaymentMethodCardStoredProcedure","LSPaymentsOptimisticDeletePaymentCredentialStoredProcedure","LSPaymentsUpdatePaymentMethodCardStoredProcedure","LSPaymentsUpsertNewPaymentCredentialOptionStoredProcedure","LSPaymentsDeletePaymentMethodStoredProcedure","LSPaymentsDeleteAllPaymentMethodsStoredProcedure","LSPaymentsDeleteAllPaymentMethodDetailsStoredProcedure","LSPaymentsLinkPayPalAccountStoredProcedure","LSPaymentsInvalidateNewPaymentCredentialOptionsStoredProcedure","LSPaymentsRefetchNewPaymentCredentialOptionsStoredProcedure","LSPaymentsOptimisticSetPaymentMethodDefualtStoredProcedure","LSPaymentsUpsertBankPaymentMethodStoredProcedure","LSPaymentsFetchPaymentMethodsForSellerStoredProcedure","LSPaymentsUpsertPaymentEligibilityRowStoredProcedure","LSPaymentsInsertOFACBlacklistedCountriesStoredProcedure","LSPaymentsFetchP2mInvoiceDetailStoredProcedure","LSPaymentsUpsertP2mInvoiceDetailStoredProcedure","LSPaymentsInsertPriceListItemStoredProcedure","LSPaymentsDeleteAllPriceListItemStoredProcedure","LSPaymentsUpdateP2mInvoiceStatusStoredProcedure","LSPaymentsFetchP2mInvoiceStatusStoredProcedure","LSPaymentsUpsertP2mChargeResponseStoredProcedure","LSPaymentsUpdateP2mPaymentMethodCounterStoredProcedure","LSPaymentsP2mChargeStoredProcedure","LSPaymentsP2mCreateInvoiceStoredProcedure","LSPaymentsP2mCreateInvoiceV2StoredProcedure","LSPaymentsFetchSellerOnboardingStatusStoredProcedure","LSPaymentsDoUserRiskVerificationStoredProcedure","LSPaymentsPaymentUserRiskVerificationStoredProcedure","LSPaymentsUpsertUserRiskVerificationResultStoredProcedure","LSPaymentsUpsertP2PTransfersV2StoredProcedure","LSPaymentsLocalOptimisticCreateP2PRequestStoredProcedure","LSPaymentsLocalOptimisticSendP2PTransactionStoredProcedure","LSPaymentsUpdateLocalTransactionWithErrorStoredProcedure","LSPaymentsUpdateLocalRequestStoredProcedure","LSPaymentsOptimisticAcceptPaymentRequestStoredProcedure","LSPaymentsOptimisticDeclinePaymentRequestStoredProcedure","LSPaymentsUpdateRequestWithStatusStoredProcedure","LSPaymentsQueryPaymentActivityViewStoredProcedure","LSPaymentsOptimisticCancelPaymentRequestStoredProcedure","LSPaymentsOptimisticCancelTransferStoredProcedure","LSPaymentsOptimisticDeclineTransferStoredProcedure","LSPaymentsUpsertTransactionHistoryItemStoredProcedure","LSPaymentsQueryPaymentHistoryStoredProcedure","LSPaymentsInsertPaymentsTransactionDetailsStoredProcedure","LSPaymentsInsertPaymentsTransactionDetailsRowStoredProcedure","LSPaymentsInsertPaymentsTransactionDetailsCTAsStoredProcedure","LSPaymentsOptimisticInsertPasscodeRequestStoredProcedure","LSPaymentsUpdateAuthRequestResultStoredProcedure","LSPaymentsOptimisticCreatePasscodeStoredProcedure","LSPaymentsOptimisticSwitchPasscodeStoredProcedure","LSPaymentsOptimisticDeletePasscodeStoredProcedure","LSPaymentsUpsertPaymentUserAuthStoredProcedure","LSPaymentsUpsertPaymentClientAuthTokenStoredProcedure","LSPaymentsOptimisticResetPasscodeStoredProcedure","LSPaymentsOptimisticChangePasscodeStoredProcedure","LSPaymentsOptimisticCreateBiometricsNonceStoredProcedure","LSPaymentsOptimisticDeleteBiometricsNonceStoredProcedure","LSPaymentsOptimisticVerifyBiometricsNonceRequestStoredProcedure","LSPaymentsOptimisticCreateClientAuthKeyStoredProcedure","LSPaymentsOptimisticDeleteClientAuthKeyStoredProcedure","LSPaymentsOptimisticVerifyClientAuthTokenStoredProcedure","LSPaymentsDeleteAllClientAuthKeysStoredProcedure","LSPaymentsUpsertServerRequestResponseStoredProcedure","LSPaymentsOptimisticInsertServerRequestResponseStoredProcedure","LSPaymentsInsertPayPalFundingOptionsStoredProcedure","LSPaymentsDeletePayPalFundingOptionsStoredProcedure","LSPaymentsQueryPayPalFundingOptionsStoredProcedure","LSPaymentsInsertPaymentPinVerificationResultStoredProcedure","LSPaymentsUpdatePaymentPinVerificationResultStoredProcedure","LSPaymentsUpdateLocalTransactionStoredProcedure","LSPaymentsQueryThreadContactsEligibilityStoredProcedure","LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure","LSConnectivityTruncateTableAndSetShowErrorStoredProcedure","LSThreadThemeUpsertThemeStoredProcedure","LSThreadThemeUpsertGradientColorStoredProcedure","LSInThreadBannerFetchBannersStoredProcedure","LSInThreadBannerClearInThreadBannerTablesStoredProcedure","LSInThreadBannerInsertNewBannerStoredProcedure","LSInThreadBannerUpsertOverflowMenuStoredProcedure","LSInThreadBannerUpsertCTAStoredProcedure","LSInThreadBannerExecuteCTAStoredProcedure","LSInThreadBannerDeleteBannerStoredProcedure","LSInThreadBannerDeleteBannersStoredProcedure","LSStickerUpsertStickerPackStoredProcedure","LSStickerUpsertStickerStoredProcedure","LSStickerIssueNewStickerSearchQueryStoredProcedure","LSStickerIssueNewStickerPackDetailFetchStoredProcedure","LSStickerDownloadStickerPackStoredProcedure","LSStickerQueryStickerStoreStoredProcedure","LSStickerIssueRemoveStickerPackStoredProcedure","LSStickerIssueRemoveStickerPacksStoredProcedure","LSStickerIssueReorderStickerPacksStoredProcedure"],(function(a,b,c,d,e,f){a={issueNewTask:b("LSCoreIssueNewTaskStoredProcedure"),issueNewTaskAndGetTaskID:b("LSCoreIssueNewTaskAndGetTaskIDStoredProcedure"),cancelTaskByQueueName:b("LSCoreCancelTaskByQueueNameStoredProcedure"),getViewerFBID:b("LSCoreGetViewerFBIDStoredProcedure"),handleFailedTask:b("LSCoreHandleFailedTaskStoredProcedure"),executeFinallyBlockForSyncTransaction:b("LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure"),issueNewFireAndForgetTask:b("LSCoreIssueNewFireAndForgetTaskStoredProcedure"),executeFirstBlockForSyncTransaction:b("LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure"),removeTask:b("LSCoreRemoveTaskStoredProcedure"),handleSyncFailure:b("LSCoreHandleSyncFailureStoredProcedure"),forceImmediateSync:b("LSCoreForceImmediateSyncStoredProcedure"),issueNewError:b("LSCoreIssueNewErrorStoredProcedure"),removeError:b("LSCoreRemoveErrorStoredProcedure"),taskExists:b("LSCoreTaskExistsStoredProcedure"),updateTaskQueueName:b("LSCoreUpdateTaskQueueNameStoredProcedure"),updateTaskValue:b("LSCoreUpdateTaskValueStoredProcedure"),getCursor:b("LSCoreGetCursorStoredProcedure"),updateOptimisticContextThreadKeys:b("LSCoreUpdateOptimisticContextThreadKeysStoredProcedure"),updateLastSyncCompletedTimestampMsToNow:b("LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure"),setRegionHint:b("LSCoreSetRegionHintStoredProcedure"),setBackgroundMode:b("LSCoreSetBackgroundModeStoredProcedure"),beginHandlingPendingTasks:b("LSCoreBeginHandlingPendingTasksStoredProcedure"),beginHandlingPendingTasksForQueue:b("LSCoreBeginHandlingPendingTasksForQueueStoredProcedure"),handleTaskSendSuccessForQueue:b("LSCoreHandleTaskSendSuccessForQueueStoredProcedure"),handleTaskSendFailureForQueue:b("LSCoreHandleTaskSendFailureForQueueStoredProcedure"),beginHandlingSyncForSyncGroup:b("LSCoreBeginHandlingSyncForSyncGroupStoredProcedure"),beginHandlingSync:b("LSCoreBeginHandlingSyncStoredProcedure"),verifyContactRowExists:b("LSContactVerifyContactRowExistsStoredProcedure"),deleteThenInsertContact:b("LSContactDeleteThenInsertContactStoredProcedure"),insertContact:b("LSContactInsertContactStoredProcedure"),optimisticSetBlockStatus:b("LSContactOptimisticSetBlockStatusStoredProcedure"),contactUpload:b("LSContactContactUploadStoredProcedure"),setContactCapabilities:b("LSContactSetContactCapabilitiesStoredProcedure"),optimisticPseudoUnblock:b("LSContactOptimisticPseudoUnblockStoredProcedure"),resetOptimisticBlockState:b("LSContactResetOptimisticBlockStateStoredProcedure"),localApplyOptimisticMessage:b("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),localApplyOptimisticMessageWithAttachments:b("LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure"),insertOptimisticAttachment:b("LSMailboxInsertOptimisticAttachmentStoredProcedure"),updateOptimisticAttachmentPreview:b("LSMailboxUpdateOptimisticAttachmentPreviewStoredProcedure"),optimisticSendMessage:b("LSMailboxOptimisticSendMessageStoredProcedure"),issueSendAttachmentMessageTask:b("LSMailboxIssueSendAttachmentMessageTaskStoredProcedure"),optimisticSendURLShare:b("LSMailboxOptimisticSendURLShareStoredProcedure"),optimisticSendMessageForward:b("LSMailboxOptimisticSendMessageForwardStoredProcedure"),optimisticSendAttachmentForward:b("LSMailboxOptimisticSendAttachmentForwardStoredProcedure"),optimisticSendAttachmentShareForward:b("LSMailboxOptimisticSendAttachmentShareForwardStoredProcedure"),cleanupOptimisticOrderingOfSentMessages:b("LSMailboxCleanupOptimisticOrderingOfSentMessagesStoredProcedure"),addParticipantToGroupThread:b("LSMailboxAddParticipantToGroupThreadStoredProcedure"),addParticipantIdToGroupThread:b("LSMailboxAddParticipantIdToGroupThreadStoredProcedure"),optimisticRemoveParticipantsFromGroupThread:b("LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure"),insertNewMessageRange:b("LSMailboxInsertNewMessageRangeStoredProcedure"),updateExistingMessageRange:b("LSMailboxUpdateExistingMessageRangeStoredProcedure"),updateMessageRangeV1:b("LSMailboxUpdateMessageRangeV1StoredProcedure"),upsertAttachmentRange:b("LSMailboxUpsertAttachmentRangeStoredProcedure"),issueAttachmentsRangeQuery:b("LSMailboxIssueAttachmentsRangeQueryStoredProcedure"),messagePointQuery:b("LSMailboxMessagePointQueryStoredProcedure"),clearMessagePlaceholderRange:b("LSMailboxClearMessagePlaceholderRangeStoredProcedure"),markThreadRead:b("LSMailboxMarkThreadReadStoredProcedure"),markAllThreadsRead:b("LSMailboxMarkAllThreadsReadStoredProcedure"),updateTyping:b("LSMailboxUpdateTypingStoredProcedure"),updateThreadSnippetFromLastMessage:b("LSMailboxUpdateThreadSnippetFromLastMessageStoredProcedure"),updateThreadSnippet:b("LSMailboxUpdateThreadSnippetStoredProcedure"),updateThreadSnippetV2:b("LSMailboxUpdateThreadSnippetV2StoredProcedure"),updateThreadSnippetAfterMessageDeleted:b("LSMailboxUpdateThreadSnippetAfterMessageDeletedStoredProcedure"),deleteMessage:b("LSMailboxDeleteMessageStoredProcedure"),optimisticUnsendMessage:b("LSMailboxOptimisticUnsendMessageStoredProcedure"),deleteThread:b("LSMailboxDeleteThreadStoredProcedure"),deleteMessageRequest:b("LSMailboxDeleteMessageRequestStoredProcedure"),optimisticDeleteThread:b("LSMailboxOptimisticDeleteThreadStoredProcedure"),optimisticRemoveThread:b("LSMailboxOptimisticRemoveThreadStoredProcedure"),taskSerializerRemoveThread:b("LSMailboxTaskSerializerRemoveThreadStoredProcedure"),sendMessageV2FailureCleanup:b("LSMailboxSendMessageV2FailureCleanupStoredProcedure"),updateDeliveryReceipt:b("LSMailboxUpdateDeliveryReceiptStoredProcedure"),syncUpdateThreadName:b("LSMailboxSyncUpdateThreadNameStoredProcedure"),optimisticUpdateThreadName:b("LSMailboxOptimisticUpdateThreadNameStoredProcedure"),updateThreadImage:b("LSMailboxUpdateThreadImageStoredProcedure"),optimisticUpdateThreadTheme:b("LSMailboxOptimisticUpdateThreadThemeStoredProcedure"),optimisticUpdateThreadCustomEmoji:b("LSMailboxOptimisticUpdateThreadCustomEmojiStoredProcedure"),optimisticUpdateThreadDisappearingMode:b("LSMailboxOptimisticUpdateThreadDisappearingModeStoredProcedure"),setThreadImageURL:b("LSMailboxSetThreadImageURLStoredProcedure"),issueSetThreadImageTask:b("LSMailboxIssueSetThreadImageTaskStoredProcedure"),optimisticRemoveThreadImage:b("LSMailboxOptimisticRemoveThreadImageStoredProcedure"),updateThreadParticipantAdminStatus:b("LSMailboxUpdateThreadParticipantAdminStatusStoredProcedure"),overwriteAllThreadParticipantsAdminStatus:b("LSMailboxOverwriteAllThreadParticipantsAdminStatusStoredProcedure"),updateThreadParticipantNickname:b("LSMailboxUpdateThreadParticipantNicknameStoredProcedure"),updateThreadParticipantNicknameV2:b("LSMailboxUpdateThreadParticipantNicknameV2StoredProcedure"),optimisticUpdateThreadParticipantNickname:b("LSMailboxOptimisticUpdateThreadParticipantNicknameStoredProcedure"),optimisticExitFocusMode:b("LSMailboxOptimisticExitFocusModeStoredProcedure"),verifyThreadRowExists:b("LSMailboxVerifyThreadRowExistsStoredProcedure"),optimisticUpdateThreadParticipantAdminStatus:b("LSMailboxOptimisticUpdateThreadParticipantAdminStatusStoredProcedure"),optimisticUpsertReaction:b("LSMailboxOptimisticUpsertReactionStoredProcedure"),optimisticRespondToAdminApprovalRequest:b("LSMailboxOptimisticRespondToAdminApprovalRequestStoredProcedure"),updateDraftMessage:b("LSMailboxUpdateDraftMessageStoredProcedure"),localMarkThreadRead:b("LSMailboxLocalMarkThreadReadStoredProcedure"),optimisticMarkThreadRead:b("LSMailboxOptimisticMarkThreadReadStoredProcedure"),getFirstAvailableQuickReplyCTAID:b("LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure"),getFirstAvailableAttachmentCTAID:b("LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure"),getFirstAvailableThreadNullstateCTAID:b("LSMailboxGetFirstAvailableThreadNullstateCTAIDStoredProcedure"),getFirstAvailableFocusModeCTAID:b("LSMailboxGetFirstAvailableFocusModeCTAIDStoredProcedure"),updateThreadNullstateCTAID:b("LSMailboxUpdateThreadNullstateCTAIDStoredProcedure"),getThreadAttributionInfo:b("LSMailboxGetThreadAttributionInfoStoredProcedure"),setNeedsAdminApprovalForNewParticipant:b("LSMailboxSetNeedsAdminApprovalForNewParticipantStoredProcedure"),optimisticSetNeedsAdminApprovalForNewParticipant:b("LSMailboxOptimisticSetNeedsAdminApprovalForNewParticipantStoredProcedure"),updateThreadApprovalMode:b("LSMailboxUpdateThreadApprovalModeStoredProcedure"),insertIntoAdminApprovalQueue:b("LSMailboxInsertIntoAdminApprovalQueueStoredProcedure"),removeFromAdminApprovalQueue:b("LSMailboxRemoveFromAdminApprovalQueueStoredProcedure"),removeAllRequestsFromAdminApprovalQueue:b("LSMailboxRemoveAllRequestsFromAdminApprovalQueueStoredProcedure"),updateParticipantSubscribeSourceText:b("LSMailboxUpdateParticipantSubscribeSourceTextStoredProcedure"),insertRtcSignal:b("LSMailboxInsertRtcSignalStoredProcedure"),rtcP2PEndCall:b("LSMailboxRtcP2PEndCallStoredProcedure"),updateOrInsertRtcOngoingCallData:b("LSMailboxUpdateOrInsertRtcOngoingCallDataStoredProcedure"),deleteRtcOngoingCallData:b("LSMailboxDeleteRtcOngoingCallDataStoredProcedure"),upsertRtcMultiwayCallInitiationConferenceName:b("LSMailboxUpsertRtcMultiwayCallInitiationConferenceNameStoredProcedure"),deleteRtcMultiwayCallInitiationConferenceName:b("LSMailboxDeleteRtcMultiwayCallInitiationConferenceNameStoredProcedure"),fetchMultiwayConferenceName:b("LSMailboxFetchMultiwayConferenceNameStoredProcedure"),getFirstAvailableAdminMessageCTAID:b("LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure"),applyAdminMessageCTA:b("LSMailboxApplyAdminMessageCTAStoredProcedure"),upsertSequenceId:b("LSMailboxUpsertSequenceIdStoredProcedure"),setMessageTextHasLinks:b("LSMailboxSetMessageTextHasLinksStoredProcedure"),setMessageViewFlags:b("LSMailboxSetMessageViewFlagsStoredProcedure"),setMessageDisplayedContentTypes:b("LSMailboxSetMessageDisplayedContentTypesStoredProcedure"),updateThreadThemeColor:b("LSMailboxUpdateThreadThemeColorStoredProcedure"),markThreadUnread:b("LSMailboxMarkThreadUnreadStoredProcedure"),optimisticMarkThreadUnread:b("LSMailboxOptimisticMarkThreadUnreadStoredProcedure"),updateThreadsRanges:b("LSMailboxUpdateThreadsRangesStoredProcedure"),threadsRangesQuery:b("LSMailboxThreadsRangesQueryStoredProcedure"),handleRepliesOnUnsend:b("LSMailboxHandleRepliesOnUnsendStoredProcedure"),updateRepliesOnUnsend:b("LSMailboxUpdateRepliesOnUnsendStoredProcedure"),setThreadCannotUnsendReason:b("LSMailboxSetThreadCannotUnsendReasonStoredProcedure"),removeParticipantFromThread:b("LSMailboxRemoveParticipantFromThreadStoredProcedure"),updateParentFolderReadWatermark:b("LSMailboxUpdateParentFolderReadWatermarkStoredProcedure"),optimisticDeleteSponsoredMessageAd:b("LSMailboxOptimisticDeleteSponsoredMessageAdStoredProcedure"),sendCTMWelcomeMessageFromApp:b("LSMailboxSendCTMWelcomeMessageFromAppStoredProcedure"),changeViewerStatus:b("LSMailboxChangeViewerStatusStoredProcedure"),setMessagesViewedPlugin:b("LSMailboxSetMessagesViewedPluginStoredProcedure"),updateThreadMuteSetting:b("LSMailboxUpdateThreadMuteSettingStoredProcedure"),getParentThreadKey:b("LSMailboxGetParentThreadKeyStoredProcedure"),updateSenderIDToPersonaID:b("LSMailboxUpdateSenderIDToPersonaIDStoredProcedure"),updateAdditionalThreadContext:b("LSMailboxUpdateAdditionalThreadContextStoredProcedure"),optimisticIgnoreMessageRequest:b("LSMailboxOptimisticIgnoreMessageRequestStoredProcedure"),optimisticAcceptMessageRequest:b("LSMailboxOptimisticAcceptMessageRequestStoredProcedure"),upsertReaction:b("LSMailboxUpsertReactionStoredProcedure"),deleteReaction:b("LSMailboxDeleteReactionStoredProcedure"),deleteAllReactions:b("LSMailboxDeleteAllReactionsStoredProcedure"),createCtaAccountLinkEncodedUrl:b("LSMailboxCreateCtaAccountLinkEncodedUrlStoredProcedure"),writeCtaAccountLinkEncodedUrl:b("LSMailboxWriteCtaAccountLinkEncodedUrlStoredProcedure"),setThreadCapabilities:b("LSMailboxSetThreadCapabilitiesStoredProcedure"),processAccountUnlink:b("LSMailboxProcessAccountUnlinkStoredProcedure"),deleteExpiredMSuggestions:b("LSMailboxDeleteExpiredMSuggestionsStoredProcedure"),updateThreadOngoingCallState:b("LSMailboxUpdateThreadOngoingCallStateStoredProcedure"),updateOngoingCallServerInfoData:b("LSMailboxUpdateOngoingCallServerInfoDataStoredProcedure"),upsertMSuggestions:b("LSMailboxUpsertMSuggestionsStoredProcedure"),createCtaAccountLinkEncodedUrlV2:b("LSMailboxCreateCtaAccountLinkEncodedUrlV2StoredProcedure"),writeThreadCapabilities:b("LSMailboxWriteThreadCapabilitiesStoredProcedure"),processCTAAccountUnlink:b("LSMailboxProcessCTAAccountUnlinkStoredProcedure"),upsertMessage:b("LSMailboxUpsertMessageStoredProcedure"),insertMessage:b("LSMailboxInsertMessageStoredProcedure"),deleteThenInsertMessage:b("LSMailboxDeleteThenInsertMessageStoredProcedure"),upsertFolder:b("LSMailboxUpsertFolderStoredProcedure"),updateShouldRoundThreadPicture:b("LSMailboxUpdateShouldRoundThreadPictureStoredProcedure"),verifyThreadExists:b("LSMailboxVerifyThreadExistsStoredProcedure"),taskSerializerSendMessageV2:b("LSMailboxTaskSerializerSendMessageV2StoredProcedure"),deleteThenInsertThread:b("LSMailboxDeleteThenInsertThreadStoredProcedure"),deleteThenInsertMessageRequest:b("LSMailboxDeleteThenInsertMessageRequestStoredProcedure"),deleteThenInsertAdminApprovalRequest:b("LSMailboxDeleteThenInsertAdminApprovalRequestStoredProcedure"),updateFolderThreadSnippet:b("LSMailboxUpdateFolderThreadSnippetStoredProcedure"),resetPageMessagingWindow:b("LSMailboxResetPageMessagingWindowStoredProcedure"),sendPlatformReferralEvent:b("LSMailboxSendPlatformReferralEventStoredProcedure"),updateThreadsRangesV2:b("LSMailboxUpdateThreadsRangesV2StoredProcedure"),updateThreadCustomEmoji:b("LSMailboxUpdateThreadCustomEmojiStoredProcedure"),applyNewGroupThread:b("LSMailboxApplyNewGroupThreadStoredProcedure"),insertAttachment:b("LSMailboxInsertAttachmentStoredProcedure"),insertAttachmentItem:b("LSMailboxInsertAttachmentItemStoredProcedure"),deleteThenInsertAttachment:b("LSMailboxDeleteThenInsertAttachmentStoredProcedure"),insertCta:b("LSMailboxInsertCtaStoredProcedure"),deleteThenInsertFocusModeCta:b("LSMailboxDeleteThenInsertFocusModeCtaStoredProcedure"),deleteFocusModeCta:b("LSMailboxDeleteFocusModeCtaStoredProcedure"),updateReadReceipt:b("LSMailboxUpdateReadReceiptStoredProcedure"),issueParticipantPointQuery:b("LSMailboxIssueParticipantPointQueryStoredProcedure"),updateThreadTheme:b("LSMailboxUpdateThreadThemeStoredProcedure"),markOptimisticMessageFailed:b("LSMailboxMarkOptimisticMessageFailedStoredProcedure"),bumpThread:b("LSMailboxBumpThreadStoredProcedure"),moveThreadToInboxAndUpdateParent:b("LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure"),removeOptimisticReaction:b("LSMailboxRemoveOptimisticReactionStoredProcedure"),removeOptimisticGroupThread:b("LSMailboxRemoveOptimisticGroupThreadStoredProcedure"),removeOptimisticParticipant:b("LSMailboxRemoveOptimisticParticipantStoredProcedure"),updateHasMenuAndComposer:b("LSMailboxUpdateHasMenuAndComposerStoredProcedure"),localCreateOptimisticGroupThread:b("LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure"),optimisticIgnoreMessage:b("LSMailboxOptimisticIgnoreMessageStoredProcedure"),createOfflineThreadingID:b("LSMailboxCreateOfflineThreadingIDStoredProcedure"),upsertMessagesStatusInTable:b("LSMailboxUpsertMessagesStatusInTableStoredProcedure"),replaceOptimsiticMessage:b("LSMailboxReplaceOptimsiticMessageStoredProcedure"),replaceOptimisticThread:b("LSMailboxReplaceOptimisticThreadStoredProcedure"),replaceOptimisticReaction:b("LSMailboxReplaceOptimisticReactionStoredProcedure"),removeAllParticipantsForThread:b("LSMailboxRemoveAllParticipantsForThreadStoredProcedure"),retryMessageRangeQuery:b("LSMailboxRetryMessageRangeQueryStoredProcedure"),optimisticMarkThreadReadV2:b("LSMailboxOptimisticMarkThreadReadV2StoredProcedure"),computeParticipantCapabilities:b("LSMailboxComputeParticipantCapabilitiesStoredProcedure"),updateExistingThreadV2:b("LSMailboxUpdateExistingThreadV2StoredProcedure"),taskSerializerMuteThreadV2:b("LSMailboxTaskSerializerMuteThreadV2StoredProcedure"),optimisticMuteThread:b("LSMailboxOptimisticMuteThreadStoredProcedure"),markFolderSeen:b("LSMailboxMarkFolderSeenStoredProcedure"),clearLocalThreadPictureUrl:b("LSMailboxClearLocalThreadPictureUrlStoredProcedure"),localApplyOptimisticGroupThread:b("LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure"),createGroupThreadWithAdminText:b("LSMailboxCreateGroupThreadWithAdminTextStoredProcedure"),computeOptimisticThreadCapabilities:b("LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure"),checkAuthoritativeMessageExists:b("LSMailboxCheckAuthoritativeMessageExistsStoredProcedure"),addPollOption:b("LSMailboxAddPollOptionStoredProcedure"),markMessageSendFailedAfterDeserializationError:b("LSMailboxMarkMessageSendFailedAfterDeserializationErrorStoredProcedure"),addPollVote:b("LSMailboxAddPollVoteStoredProcedure"),issuePollCreationForThreadTask:b("LSMailboxIssuePollCreationForThreadTaskStoredProcedure"),removePollVote:b("LSMailboxRemovePollVoteStoredProcedure"),getAttachmentFbidWithOriginalFileHash:b("LSMailboxGetAttachmentFbidWithOriginalFileHashStoredProcedure"),issuePollUpdateForThread:b("LSMailboxIssuePollUpdateForThreadStoredProcedure"),deletePollAttachment:b("LSMailboxDeletePollAttachmentStoredProcedure"),optimisticUpdateThreadDescription:b("LSMailboxOptimisticUpdateThreadDescriptionStoredProcedure"),updateThreadDescription:b("LSMailboxUpdateThreadDescriptionStoredProcedure"),updateParticipantCapabilities:b("LSMailboxUpdateParticipantCapabilitiesStoredProcedure"),updateThreadSnippetFromLastMessageV2:b("LSMailboxUpdateThreadSnippetFromLastMessageV2StoredProcedure"),addPollForThread:b("LSMailboxAddPollForThreadStoredProcedure"),deletePollData:b("LSMailboxDeletePollDataStoredProcedure"),handlePlaceholderPollData:b("LSMailboxHandlePlaceholderPollDataStoredProcedure"),verifyPollExists:b("LSMailboxVerifyPollExistsStoredProcedure"),addPollOptionV2:b("LSMailboxAddPollOptionV2StoredProcedure"),addPollVoteV2:b("LSMailboxAddPollVoteV2StoredProcedure"),removePollVoteV2:b("LSMailboxRemovePollVoteV2StoredProcedure"),updatePollAdminMessageSummary:b("LSMailboxUpdatePollAdminMessageSummaryStoredProcedure"),setPollsThreadCapability:b("LSMailboxSetPollsThreadCapabilityStoredProcedure"),deleteCTAs:b("LSMailboxDeleteCTAsStoredProcedure"),optimisticProcessMarketplaceCallFunctionCTA:b("LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure"),createMeetingPlan:b("LSMailboxCreateMeetingPlanStoredProcedure"),secureTemplateStatusUpdate:b("LSMailboxSecureTemplateStatusUpdateStoredProcedure"),updateExtraAttachmentColumns:b("LSMailboxUpdateExtraAttachmentColumnsStoredProcedure"),refreshMediaSendThreadCapabilities:b("LSMailboxRefreshMediaSendThreadCapabilitiesStoredProcedure"),deleteThenInsertLinkedAccountBadge:b("LSMailboxDeleteThenInsertLinkedAccountBadgeStoredProcedure"),updateEphemeralMediaState:b("LSMailboxUpdateEphemeralMediaStateStoredProcedure"),updateOptimisticEphemeralMediaState:b("LSMailboxUpdateOptimisticEphemeralMediaStateStoredProcedure"),updateSubscriptErrorMessage:b("LSMailboxUpdateSubscriptErrorMessageStoredProcedure"),insertOrUpdateInThreadBannerOnUnsend:b("LSMailboxInsertOrUpdateInThreadBannerOnUnsendStoredProcedure"),sendPlatformReferralFireForgetEvent:b("LSMailboxSendPlatformReferralFireForgetEventStoredProcedure"),verifyLocalStateAndExitDasmTransactionIfNeeded:b("LSSecureMailboxVerifyLocalStateAndExitDasmTransactionIfNeededStoredProcedure"),updateRegistrationStatus:b("LSSecureMailboxUpdateRegistrationStatusStoredProcedure"),clearSecureMailboxOtherDevices:b("LSSecureMailboxClearSecureMailboxOtherDevicesStoredProcedure"),addSecureMailboxOtherDevice:b("LSSecureMailboxAddSecureMailboxOtherDeviceStoredProcedure"),updatePrekeyUploadStatus:b("LSSecureMailboxUpdatePrekeyUploadStatusStoredProcedure"),insertSenderKey:b("LSSecureMailboxInsertSenderKeyStoredProcedure"),removeSenderKey:b("LSSecureMailboxRemoveSenderKeyStoredProcedure"),updateSenderKeyStatus:b("LSSecureMailboxUpdateSenderKeyStatusStoredProcedure"),updateThreadStatus:b("LSSecureMailboxUpdateThreadStatusStoredProcedure"),prepareAndSendSecureMessage:b("LSSecureMailboxPrepareAndSendSecureMessageStoredProcedure"),setThreadDevices:b("LSSecureMailboxSetThreadDevicesStoredProcedure"),processCreateThreadResult:b("LSSecureMailboxProcessCreateThreadResultStoredProcedure"),processPreKeyResult:b("LSSecureMailboxProcessPreKeyResultStoredProcedure"),setAllPendingMessageToStatus:b("LSSecureMailboxSetAllPendingMessageToStatusStoredProcedure"),updateSecureMessageSendStatus:b("LSSecureMailboxUpdateSecureMessageSendStatusStoredProcedure"),validateAndResendBouncedMessage:b("LSSecureMailboxValidateAndResendBouncedMessageStoredProcedure"),receiveSalamanderBounce:b("LSSecureMailboxReceiveSalamanderBounceStoredProcedure"),updateParticipantReceiptTimestamp:b("LSSecureMailboxUpdateParticipantReceiptTimestampStoredProcedure"),optimisticEnableDevice:b("LSSecureMailboxOptimisticEnableDeviceStoredProcedure"),optimisticDisableDevice:b("LSSecureMailboxOptimisticDisableDeviceStoredProcedure"),deletePacketsFromOmnistore:b("LSSecureMailboxDeletePacketsFromOmnistoreStoredProcedure"),enableDeviceSuccessResponse:b("LSSecureMailboxEnableDeviceSuccessResponseStoredProcedure"),receiveThreadSenderKey:b("LSSecureMailboxReceiveThreadSenderKeyStoredProcedure"),receiveThreadSenderKeyV2:b("LSSecureMailboxReceiveThreadSenderKeyV2StoredProcedure"),insertTincanSyncGroup:b("LSSecureMailboxInsertTincanSyncGroupStoredProcedure"),receiveSecureMessage:b("LSSecureMailboxReceiveSecureMessageStoredProcedure"),receiveSecureMessageV2:b("LSSecureMailboxReceiveSecureMessageV2StoredProcedure"),enableDeviceFailedResponse:b("LSSecureMailboxEnableDeviceFailedResponseStoredProcedure"),processError:b("LSSecureMailboxProcessErrorStoredProcedure"),processSendError:b("LSSecureMailboxProcessSendErrorStoredProcedure"),logTraceEventWithExtraData:b("LSSecureMailboxLogTraceEventWithExtraDataStoredProcedure"),setThreadMuteExpireTime:b("LSSecureMailboxSetThreadMuteExpireTimeStoredProcedure"),upsertSyncMetadata:b("LSSecureMailboxUpsertSyncMetadataStoredProcedure"),topUpPreKeys:b("LSSecureMailboxTopUpPreKeysStoredProcedure"),updateServerThreadKey:b("LSSecureMailboxUpdateServerThreadKeyStoredProcedure"),setGroupThreadParticipants:b("LSSecureMailboxSetGroupThreadParticipantsStoredProcedure"),receiveMarkThreadAsUnread:b("LSSecureMailboxReceiveMarkThreadAsUnreadStoredProcedure"),toggleDisappearingMode:b("LSSecureMailboxToggleDisappearingModeStoredProcedure"),optimisticToggleDisappearingMode:b("LSSecureMailboxOptimisticToggleDisappearingModeStoredProcedure"),syncRegularThreadUnreadStatus:b("LSSecureMailboxSyncRegularThreadUnreadStatusStoredProcedure"),getRegistrationStatus:b("LSSecureMailboxGetRegistrationStatusStoredProcedure"),clearThreadDeviceState:b("LSSecureMailboxClearThreadDeviceStateStoredProcedure"),encryptAndSendSecureMessage:b("LSSecureMailboxEncryptAndSendSecureMessageStoredProcedure"),encryptAndSendThreadSenderKey:b("LSSecureMailboxEncryptAndSendThreadSenderKeyStoredProcedure"),updateThreadDevices:b("LSSecureMailboxUpdateThreadDevicesStoredProcedure"),updateOrInsertSecureThread:b("LSSecureMailboxUpdateOrInsertSecureThreadStoredProcedure"),insertSecureMessage:b("LSSecureMailboxInsertSecureMessageStoredProcedure"),clearSessionState:b("LSSecureMailboxClearSessionStateStoredProcedure"),startSecureMediaUploadTask:b("LSSecureMailboxStartSecureMediaUploadTaskStoredProcedure"),sendSecureMediaMessage:b("LSSecureMailboxSendSecureMediaMessageStoredProcedure"),setThreadParticipants:b("LSSecureMailboxSetThreadParticipantsStoredProcedure"),deleteSecureMessage:b("LSSecureMailboxDeleteSecureMessageStoredProcedure"),fetchEncryptionKeyAndEncryptLocalContent:b("LSSecureMailboxFetchEncryptionKeyAndEncryptLocalContentStoredProcedure"),getMessageForAbuseReport:b("LSSecureMailboxGetMessageForAbuseReportStoredProcedure"),insertFormattedAdminMessage:b("LSSecureMailboxInsertFormattedAdminMessageStoredProcedure"),batchStartEphemeralCountdown:b("LSSecureMailboxBatchStartEphemeralCountdownStoredProcedure"),insertNewMediaSend:b("LSMediaSendInsertNewMediaSendStoredProcedure"),removeMediaSendJobs:b("LSMediaSendRemoveMediaSendJobsStoredProcedure"),markSubJobCompleted:b("LSMediaSendMarkSubJobCompletedStoredProcedure"),markSubJobCompletedV2:b("LSMediaSendMarkSubJobCompletedV2StoredProcedure"),sendPhase1MultiPhotoMessage:b("LSMediaSendSendPhase1MultiPhotoMessageStoredProcedure"),sendPhase2UpdateMessage:b("LSMediaSendSendPhase2UpdateMessageStoredProcedure"),resumeMediaSendJob:b("LSMediaSendResumeMediaSendJobStoredProcedure"),insertPhase2PendingTask:b("LSMediaSendInsertPhase2PendingTaskStoredProcedure"),getUploadParamsForPhase2:b("LSMediaSendGetUploadParamsForPhase2StoredProcedure"),resetUseDoublePhaseConfig:b("LSMediaSendResetUseDoublePhaseConfigStoredProcedure"),resetSendByServerConfigIfNotDoublePhase:b("LSMediaSendResetSendByServerConfigIfNotDoublePhaseStoredProcedure"),nextPendingJobIdToSchedule:b("LSMediaSendNextPendingJobIdToScheduleStoredProcedure"),getMessageAttributionParams:b("LSMediaSendGetMessageAttributionParamsStoredProcedure"),getIsFinalUploadingState:b("LSMediaSendGetIsFinalUploadingStateStoredProcedure"),getMediaSendConfig:b("LSMediaSendGetMediaSendConfigStoredProcedure"),updateTypingIndicator:b("LSTypingUpdateTypingIndicatorStoredProcedure"),sendTypingIndicator:b("LSTypingSendTypingIndicatorStoredProcedure"),storyCreateFailure:b("LSStoriesStoryCreateFailureStoredProcedure"),storyOptimisticMarkRead:b("LSStoriesStoryOptimisticMarkReadStoredProcedure"),storyOptimisticDelete:b("LSStoriesStoryOptimisticDeleteStoredProcedure"),storyDelete:b("LSStoriesStoryDeleteStoredProcedure"),storyDeleteFailure:b("LSStoriesStoryDeleteFailureStoredProcedure"),storyOptimisticPollVote:b("LSStoriesStoryOptimisticPollVoteStoredProcedure"),storyPollVoteSuccess:b("LSStoriesStoryPollVoteSuccessStoredProcedure"),storyPollVoteFailure:b("LSStoriesStoryPollVoteFailureStoredProcedure"),storyOptimisticCreate:b("LSStoriesStoryOptimisticCreateStoredProcedure"),deleteStoryReplies:b("LSStoriesDeleteStoryRepliesStoredProcedure"),storyVerifyRowExists:b("LSStoriesStoryVerifyRowExistsStoredProcedure"),insertNewStoryAdUnit:b("LSStoriesInsertNewStoryAdUnitStoredProcedure"),insertNewStoryAdCard:b("LSStoriesInsertNewStoryAdCardStoredProcedure"),insertNewStoryAdCTA:b("LSStoriesInsertNewStoryAdCTAStoredProcedure"),issueStoryAdsFetch:b("LSStoriesIssueStoryAdsFetchStoredProcedure"),clearStoryAdsTables:b("LSStoriesClearStoryAdsTablesStoredProcedure"),deleteStoryAdUnit:b("LSStoriesDeleteStoryAdUnitStoredProcedure"),storyRingUpdate:b("LSStoriesStoryRingUpdateStoredProcedure"),storyRingClear:b("LSStoriesStoryRingClearStoredProcedure"),storyCreateIssueTask:b("LSStoriesStoryCreateIssueTaskStoredProcedure"),storyReactionSuccess:b("LSStoriesStoryReactionSuccessStoredProcedure"),storyReactionFailure:b("LSStoriesStoryReactionFailureStoredProcedure"),storyOptimisticReact:b("LSStoriesStoryOptimisticReactStoredProcedure"),instagramStoryReplyIssueTask:b("LSStoriesInstagramStoryReplyIssueTaskStoredProcedure"),storyRingUpdateOnLookup:b("LSStoriesStoryRingUpdateOnLookupStoredProcedure"),storyMarkReadSuccess:b("LSStoriesStoryMarkReadSuccessStoredProcedure"),storyParticipantBucketDelete:b("LSStoriesStoryParticipantBucketDeleteStoredProcedure"),storyCreationSuccess:b("LSStoriesStoryCreationSuccessStoredProcedure"),storyRingExpirationTimestampUpdate:b("LSStoriesStoryRingExpirationTimestampUpdateStoredProcedure"),storyOptimisticUploadFailure:b("LSStoriesStoryOptimisticUploadFailureStoredProcedure"),storyUpdatePostingStatus:b("LSStoriesStoryUpdatePostingStatusStoredProcedure"),storyBucketTruncate:b("LSStoriesStoryBucketTruncateStoredProcedure"),storyRingLatestStatus:b("LSStoriesStoryRingLatestStatusStoredProcedure"),storyRingRefresh:b("LSStoriesStoryRingRefreshStoredProcedure"),storyArchiveStoryFetchIssueTask:b("LSStoriesStoryArchiveStoryFetchIssueTaskStoredProcedure"),storyComputeRingState:b("LSStoriesStoryComputeRingStateStoredProcedure"),storyGetReadStateFromBucket:b("LSStoriesStoryGetReadStateFromBucketStoredProcedure"),storyMoreBucketsIssueTask:b("LSStoriesStoryMoreBucketsIssueTaskStoredProcedure"),storyInventoryReplenish:b("LSStoriesStoryInventoryReplenishStoredProcedure"),storyContactSyncFromBucket:b("LSStoriesStoryContactSyncFromBucketStoredProcedure"),storyUpdateMediaID:b("LSStoriesStoryUpdateMediaIDStoredProcedure"),deleteStoryShares:b("LSStoriesDeleteStorySharesStoredProcedure"),deleteOptimisticStory:b("LSStoriesDeleteOptimisticStoryStoredProcedure"),storyUpsertAttributionRange:b("LSStoriesStoryUpsertAttributionRangeStoredProcedure"),roomsOptimisticCreateIssueTask:b("LSStoriesRoomsOptimisticCreateIssueTaskStoredProcedure"),roomCreateSuccess:b("LSStoriesRoomCreateSuccessStoredProcedure"),roomCreateFailure:b("LSStoriesRoomCreateFailureStoredProcedure"),roomUpsert:b("LSStoriesRoomUpsertStoredProcedure"),roomParticipantUpsert:b("LSStoriesRoomParticipantUpsertStoredProcedure"),roomDelete:b("LSStoriesRoomDeleteStoredProcedure"),roomParticipantDelete:b("LSStoriesRoomParticipantDeleteStoredProcedure"),roomTruncate:b("LSStoriesRoomTruncateStoredProcedure"),roomRevoke:b("LSStoriesRoomRevokeStoredProcedure"),roomRevokeFailure:b("LSStoriesRoomRevokeFailureStoredProcedure"),roomUpdateInterestedIssueTask:b("LSStoriesRoomUpdateInterestedIssueTaskStoredProcedure"),roomUpdateIssueTask:b("LSStoriesRoomUpdateIssueTaskStoredProcedure"),roomUpdateSuccess:b("LSStoriesRoomUpdateSuccessStoredProcedure"),roomInviteeUpdateIssueTask:b("LSStoriesRoomInviteeUpdateIssueTaskStoredProcedure"),roomUpdateInterestedSuccess:b("LSStoriesRoomUpdateInterestedSuccessStoredProcedure"),roomInviteeTypeUpdateSuccess:b("LSStoriesRoomInviteeTypeUpdateSuccessStoredProcedure"),roomUpdateInterestedAttacmentCTA:b("LSStoriesRoomUpdateInterestedAttacmentCTAStoredProcedure"),issueSearchQuery:b("LSSearchIssueSearchQueryStoredProcedure"),updateSearchQueryStatus:b("LSSearchUpdateSearchQueryStatusStoredProcedure"),insertSearchResult:b("LSSearchInsertSearchResultStoredProcedure"),issueMessageSearchQuery:b("LSSearchIssueMessageSearchQueryStoredProcedure"),updateMessageSearchQueryStatus:b("LSSearchUpdateMessageSearchQueryStatusStoredProcedure"),insertMessageSearchResult:b("LSSearchInsertMessageSearchResultStoredProcedure"),clearMessageSearchTable:b("LSSearchClearMessageSearchTableStoredProcedure"),insertSearchSection:b("LSSearchInsertSearchSectionStoredProcedure"),insertRecentSearch:b("LSSearchInsertRecentSearchStoredProcedure"),insertRecentSearchResult:b("LSSearchInsertRecentSearchResultStoredProcedure"),deleteRecentSearch:b("LSSearchDeleteRecentSearchStoredProcedure"),deleteAllRecentSearches:b("LSSearchDeleteAllRecentSearchesStoredProcedure"),clearTables:b("LSSearchClearTablesStoredProcedure"),contactUploadUpdateSettingsSuccess:b("LSOmnistoreSettingsContactUploadUpdateSettingsSuccessStoredProcedure"),contactUploadUpdateSettings:b("LSOmnistoreSettingsContactUploadUpdateSettingsStoredProcedure"),storySettingsPreferenceUpdateSuccess:b("LSOmnistoreSettingsStorySettingsPreferenceUpdateSuccessStoredProcedure"),storyAudienceModeUpdate:b("LSOmnistoreSettingsStoryAudienceModeUpdateStoredProcedure"),storyArchiveModeUpdate:b("LSOmnistoreSettingsStoryArchiveModeUpdateStoredProcedure"),storyParticipantSettingsUpdate:b("LSOmnistoreSettingsStoryParticipantSettingsUpdateStoredProcedure"),storyParticipantSettingsUpdateRequest:b("LSOmnistoreSettingsStoryParticipantSettingsUpdateRequestStoredProcedure"),updateGlobalMuteUntil:b("LSOmnistoreSettingsUpdateGlobalMuteUntilStoredProcedure"),optimisticallyUpdateGlobalMuteUntil:b("LSOmnistoreSettingsOptimisticallyUpdateGlobalMuteUntilStoredProcedure"),updateShowMessagePreview:b("LSOmnistoreSettingsUpdateShowMessagePreviewStoredProcedure"),optimisticallyUpdateShowMessagePreview:b("LSOmnistoreSettingsOptimisticallyUpdateShowMessagePreviewStoredProcedure"),updateOneToOneNotificationSetting:b("LSOmnistoreSettingsUpdateOneToOneNotificationSettingStoredProcedure"),optimisticallyUpdateOneToOneNotificationSetting:b("LSOmnistoreSettingsOptimisticallyUpdateOneToOneNotificationSettingStoredProcedure"),updateGroupNotificationSetting:b("LSOmnistoreSettingsUpdateGroupNotificationSettingStoredProcedure"),optimisticallyUpdateGroupNotificationSetting:b("LSOmnistoreSettingsOptimisticallyUpdateGroupNotificationSettingStoredProcedure"),updateReplyReminderSetting:b("LSOmnistoreSettingsUpdateReplyReminderSettingStoredProcedure"),optimisticallyUpdateReplyReminderSetting:b("LSOmnistoreSettingsOptimisticallyUpdateReplyReminderSettingStoredProcedure"),updateIsSoundOn:b("LSOmnistoreSettingsUpdateIsSoundOnStoredProcedure"),optimisticallyUpdateIsSoundOn:b("LSOmnistoreSettingsOptimisticallyUpdateIsSoundOnStoredProcedure"),gdprConsentUpsert:b("LSOmnistoreSettingsGdprConsentUpsertStoredProcedure"),getFirstAvailablePersistentMenuItemsCTAID:b("LSOmnistoreSettingsGetFirstAvailablePersistentMenuItemsCTAIDStoredProcedure"),insertPersistentMenuItemsForThread:b("LSOmnistoreSettingsInsertPersistentMenuItemsForThreadStoredProcedure"),updatePresenceSettingsInTable:b("LSOmnistoreSettingsUpdatePresenceSettingsInTableStoredProcedure"),optimisticallyUpdatePresenceSettings:b("LSOmnistoreSettingsOptimisticallyUpdatePresenceSettingsStoredProcedure"),updatePresenceSettings:b("LSOmnistoreSettingsUpdatePresenceSettingsStoredProcedure"),removeExistingPersistentMenuItems:b("LSOmnistoreSettingsRemoveExistingPersistentMenuItemsStoredProcedure"),issueInsertPersistentMenuItemsForThreadTask:b("LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure"),optimisticSetLockStatus:b("LSOmnistoreSettingsOptimisticSetLockStatusStoredProcedure"),insertLockStatus:b("LSOmnistoreSettingsInsertLockStatusStoredProcedure"),createVideoChatLink:b("LSOmnistoreSettingsCreateVideoChatLinkStoredProcedure"),insertCreatedVideoChatLink:b("LSOmnistoreSettingsInsertCreatedVideoChatLinkStoredProcedure"),resolveVideoChatLink:b("LSOmnistoreSettingsResolveVideoChatLinkStoredProcedure"),insertResolvedVideoChatLink:b("LSOmnistoreSettingsInsertResolvedVideoChatLinkStoredProcedure"),notifyVideoChatLinkJoinAttempt:b("LSOmnistoreSettingsNotifyVideoChatLinkJoinAttemptStoredProcedure"),requestRankedRoomParticipants:b("LSOmnistoreSettingsRequestRankedRoomParticipantsStoredProcedure"),insertAttemptedJoiner:b("LSOmnistoreSettingsInsertAttemptedJoinerStoredProcedure"),clearAttemptedJoiners:b("LSOmnistoreSettingsClearAttemptedJoinersStoredProcedure"),updateRoomsUserRingability:b("LSOmnistoreSettingsUpdateRoomsUserRingabilityStoredProcedure"),enterMessengerCallRoom:b("LSOmnistoreSettingsEnterMessengerCallRoomStoredProcedure"),insertEnterMessengerCallRoom:b("LSOmnistoreSettingsInsertEnterMessengerCallRoomStoredProcedure"),removeVideoChatLink:b("LSOmnistoreSettingsRemoveVideoChatLinkStoredProcedure"),revokeVideoChatLink:b("LSOmnistoreSettingsRevokeVideoChatLinkStoredProcedure"),inviteParticipantToVideoChatLink:b("LSOmnistoreSettingsInviteParticipantToVideoChatLinkStoredProcedure"),insertOrUpdateCowatchSession:b("LSOmnistoreSettingsInsertOrUpdateCowatchSessionStoredProcedure"),removeCowatchSession:b("LSOmnistoreSettingsRemoveCowatchSessionStoredProcedure"),insertOrUpdatePinnedThread:b("LSOmnistoreSettingsInsertOrUpdatePinnedThreadStoredProcedure"),removePinnedThread:b("LSOmnistoreSettingsRemovePinnedThreadStoredProcedure"),optimisticallyInsertOrUpdatePinnedThread:b("LSOmnistoreSettingsOptimisticallyInsertOrUpdatePinnedThreadStoredProcedure"),optimisticallyRemovePinnedThread:b("LSOmnistoreSettingsOptimisticallyRemovePinnedThreadStoredProcedure"),insertOrUpdateSelfProfile:b("LSOmnistoreSettingsInsertOrUpdateSelfProfileStoredProcedure"),deleteThenInsertMessagingSettings:b("LSOmnistoreSettingsDeleteThenInsertMessagingSettingsStoredProcedure"),optimisticallyUpdateMessagingSettings:b("LSOmnistoreSettingsOptimisticallyUpdateMessagingSettingsStoredProcedure"),updateMessagingSettings:b("LSOmnistoreSettingsUpdateMessagingSettingsStoredProcedure"),upsertLiveStreamMetadata:b("LSOmnistoreSettingsUpsertLiveStreamMetadataStoredProcedure"),insertOrUpdateFeatureLimit:b("LSOmnistoreSettingsInsertOrUpdateFeatureLimitStoredProcedure"),removeFeatureLimit:b("LSOmnistoreSettingsRemoveFeatureLimitStoredProcedure"),deleteThenInsertContactPresence:b("LSPresenceDeleteThenInsertContactPresenceStoredProcedure"),deleteContactPresence:b("LSPresenceDeleteContactPresenceStoredProcedure"),onDemandFetchPresence:b("LSPresenceOnDemandFetchPresenceStoredProcedure"),upsertCardDetails:b("LSPaymentsUpsertCardDetailsStoredProcedure"),upsertPaymentMethodDetails:b("LSPaymentsUpsertPaymentMethodDetailsStoredProcedure"),updatePaymentMethodPreferred:b("LSPaymentsUpdatePaymentMethodPreferredStoredProcedure"),upsertCompletePaymentMethod:b("LSPaymentsUpsertCompletePaymentMethodStoredProcedure"),insertNewPaymentMethodCard:b("LSPaymentsInsertNewPaymentMethodCardStoredProcedure"),optimisticDeletePaymentCredential:b("LSPaymentsOptimisticDeletePaymentCredentialStoredProcedure"),updatePaymentMethodCard:b("LSPaymentsUpdatePaymentMethodCardStoredProcedure"),upsertNewPaymentCredentialOption:b("LSPaymentsUpsertNewPaymentCredentialOptionStoredProcedure"),deletePaymentMethod:b("LSPaymentsDeletePaymentMethodStoredProcedure"),deleteAllPaymentMethods:b("LSPaymentsDeleteAllPaymentMethodsStoredProcedure"),deleteAllPaymentMethodDetails:b("LSPaymentsDeleteAllPaymentMethodDetailsStoredProcedure"),linkPayPalAccount:b("LSPaymentsLinkPayPalAccountStoredProcedure"),invalidateNewPaymentCredentialOptions:b("LSPaymentsInvalidateNewPaymentCredentialOptionsStoredProcedure"),refetchNewPaymentCredentialOptions:b("LSPaymentsRefetchNewPaymentCredentialOptionsStoredProcedure"),optimisticSetPaymentMethodDefualt:b("LSPaymentsOptimisticSetPaymentMethodDefualtStoredProcedure"),upsertBankPaymentMethod:b("LSPaymentsUpsertBankPaymentMethodStoredProcedure"),fetchPaymentMethodsForSeller:b("LSPaymentsFetchPaymentMethodsForSellerStoredProcedure"),upsertPaymentEligibilityRow:b("LSPaymentsUpsertPaymentEligibilityRowStoredProcedure"),insertOFACBlacklistedCountries:b("LSPaymentsInsertOFACBlacklistedCountriesStoredProcedure"),fetchP2mInvoiceDetail:b("LSPaymentsFetchP2mInvoiceDetailStoredProcedure"),upsertP2mInvoiceDetail:b("LSPaymentsUpsertP2mInvoiceDetailStoredProcedure"),insertPriceListItem:b("LSPaymentsInsertPriceListItemStoredProcedure"),deleteAllPriceListItem:b("LSPaymentsDeleteAllPriceListItemStoredProcedure"),updateP2mInvoiceStatus:b("LSPaymentsUpdateP2mInvoiceStatusStoredProcedure"),fetchP2mInvoiceStatus:b("LSPaymentsFetchP2mInvoiceStatusStoredProcedure"),upsertP2mChargeResponse:b("LSPaymentsUpsertP2mChargeResponseStoredProcedure"),updateP2mPaymentMethodCounter:b("LSPaymentsUpdateP2mPaymentMethodCounterStoredProcedure"),p2mCharge:b("LSPaymentsP2mChargeStoredProcedure"),p2mCreateInvoice:b("LSPaymentsP2mCreateInvoiceStoredProcedure"),p2mCreateInvoiceV2:b("LSPaymentsP2mCreateInvoiceV2StoredProcedure"),fetchSellerOnboardingStatus:b("LSPaymentsFetchSellerOnboardingStatusStoredProcedure"),doUserRiskVerification:b("LSPaymentsDoUserRiskVerificationStoredProcedure"),paymentUserRiskVerification:b("LSPaymentsPaymentUserRiskVerificationStoredProcedure"),upsertUserRiskVerificationResult:b("LSPaymentsUpsertUserRiskVerificationResultStoredProcedure"),upsertP2PTransfersV2:b("LSPaymentsUpsertP2PTransfersV2StoredProcedure"),localOptimisticCreateP2PRequest:b("LSPaymentsLocalOptimisticCreateP2PRequestStoredProcedure"),localOptimisticSendP2PTransaction:b("LSPaymentsLocalOptimisticSendP2PTransactionStoredProcedure"),updateLocalTransactionWithError:b("LSPaymentsUpdateLocalTransactionWithErrorStoredProcedure"),updateLocalRequest:b("LSPaymentsUpdateLocalRequestStoredProcedure"),optimisticAcceptPaymentRequest:b("LSPaymentsOptimisticAcceptPaymentRequestStoredProcedure"),optimisticDeclinePaymentRequest:b("LSPaymentsOptimisticDeclinePaymentRequestStoredProcedure"),updateRequestWithStatus:b("LSPaymentsUpdateRequestWithStatusStoredProcedure"),queryPaymentActivityView:b("LSPaymentsQueryPaymentActivityViewStoredProcedure"),optimisticCancelPaymentRequest:b("LSPaymentsOptimisticCancelPaymentRequestStoredProcedure"),optimisticCancelTransfer:b("LSPaymentsOptimisticCancelTransferStoredProcedure"),optimisticDeclineTransfer:b("LSPaymentsOptimisticDeclineTransferStoredProcedure"),upsertTransactionHistoryItem:b("LSPaymentsUpsertTransactionHistoryItemStoredProcedure"),queryPaymentHistory:b("LSPaymentsQueryPaymentHistoryStoredProcedure"),insertPaymentsTransactionDetails:b("LSPaymentsInsertPaymentsTransactionDetailsStoredProcedure"),insertPaymentsTransactionDetailsRow:b("LSPaymentsInsertPaymentsTransactionDetailsRowStoredProcedure"),insertPaymentsTransactionDetailsCTAs:b("LSPaymentsInsertPaymentsTransactionDetailsCTAsStoredProcedure"),optimisticInsertPasscodeRequest:b("LSPaymentsOptimisticInsertPasscodeRequestStoredProcedure"),updateAuthRequestResult:b("LSPaymentsUpdateAuthRequestResultStoredProcedure"),optimisticCreatePasscode:b("LSPaymentsOptimisticCreatePasscodeStoredProcedure"),optimisticSwitchPasscode:b("LSPaymentsOptimisticSwitchPasscodeStoredProcedure"),optimisticDeletePasscode:b("LSPaymentsOptimisticDeletePasscodeStoredProcedure"),upsertPaymentUserAuth:b("LSPaymentsUpsertPaymentUserAuthStoredProcedure"),upsertPaymentClientAuthToken:b("LSPaymentsUpsertPaymentClientAuthTokenStoredProcedure"),optimisticResetPasscode:b("LSPaymentsOptimisticResetPasscodeStoredProcedure"),optimisticChangePasscode:b("LSPaymentsOptimisticChangePasscodeStoredProcedure"),optimisticCreateBiometricsNonce:b("LSPaymentsOptimisticCreateBiometricsNonceStoredProcedure"),optimisticDeleteBiometricsNonce:b("LSPaymentsOptimisticDeleteBiometricsNonceStoredProcedure"),optimisticVerifyBiometricsNonceRequest:b("LSPaymentsOptimisticVerifyBiometricsNonceRequestStoredProcedure"),optimisticCreateClientAuthKey:b("LSPaymentsOptimisticCreateClientAuthKeyStoredProcedure"),optimisticDeleteClientAuthKey:b("LSPaymentsOptimisticDeleteClientAuthKeyStoredProcedure"),optimisticVerifyClientAuthToken:b("LSPaymentsOptimisticVerifyClientAuthTokenStoredProcedure"),deleteAllClientAuthKeys:b("LSPaymentsDeleteAllClientAuthKeysStoredProcedure"),upsertServerRequestResponse:b("LSPaymentsUpsertServerRequestResponseStoredProcedure"),optimisticInsertServerRequestResponse:b("LSPaymentsOptimisticInsertServerRequestResponseStoredProcedure"),insertPayPalFundingOptions:b("LSPaymentsInsertPayPalFundingOptionsStoredProcedure"),deletePayPalFundingOptions:b("LSPaymentsDeletePayPalFundingOptionsStoredProcedure"),queryPayPalFundingOptions:b("LSPaymentsQueryPayPalFundingOptionsStoredProcedure"),insertPaymentPinVerificationResult:b("LSPaymentsInsertPaymentPinVerificationResultStoredProcedure"),updatePaymentPinVerificationResult:b("LSPaymentsUpdatePaymentPinVerificationResultStoredProcedure"),updateLocalTransaction:b("LSPaymentsUpdateLocalTransactionStoredProcedure"),queryThreadContactsEligibility:b("LSPaymentsQueryThreadContactsEligibilityStoredProcedure"),deleteAllAndInsertConnectivityStatus:b("LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure"),truncateTableAndSetShowError:b("LSConnectivityTruncateTableAndSetShowErrorStoredProcedure"),upsertTheme:b("LSThreadThemeUpsertThemeStoredProcedure"),upsertGradientColor:b("LSThreadThemeUpsertGradientColorStoredProcedure"),fetchBanners:b("LSInThreadBannerFetchBannersStoredProcedure"),clearInThreadBannerTables:b("LSInThreadBannerClearInThreadBannerTablesStoredProcedure"),insertNewBanner:b("LSInThreadBannerInsertNewBannerStoredProcedure"),upsertOverflowMenu:b("LSInThreadBannerUpsertOverflowMenuStoredProcedure"),upsertCTA:b("LSInThreadBannerUpsertCTAStoredProcedure"),executeCTA:b("LSInThreadBannerExecuteCTAStoredProcedure"),deleteBanner:b("LSInThreadBannerDeleteBannerStoredProcedure"),deleteBanners:b("LSInThreadBannerDeleteBannersStoredProcedure"),upsertStickerPack:b("LSStickerUpsertStickerPackStoredProcedure"),upsertSticker:b("LSStickerUpsertStickerStoredProcedure"),issueNewStickerSearchQuery:b("LSStickerIssueNewStickerSearchQueryStoredProcedure"),issueNewStickerPackDetailFetch:b("LSStickerIssueNewStickerPackDetailFetchStoredProcedure"),downloadStickerPack:b("LSStickerDownloadStickerPackStoredProcedure"),queryStickerStore:b("LSStickerQueryStickerStoreStoredProcedure"),issueRemoveStickerPack:b("LSStickerIssueRemoveStickerPackStoredProcedure"),issueRemoveStickerPacks:b("LSStickerIssueRemoveStickerPacksStoredProcedure"),issueReorderStickerPacks:b("LSStickerIssueReorderStickerPacksStoredProcedure")};e.exports=a}),null);
__d("LSVersion",[],(function(a,b,c,d,e,f){"use strict";e.exports="3114302811986692"}),null);