if (self.CavalryLogger) { CavalryLogger.start_js(["oOIx2"]); }

__d("MWChatCurrentlyOpenTab.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.openTabState;if(a!==void 0)return a.threadID}f.get=a}),null);
__d("MWChatHeadCompose.bs",["fbt","bs_curry","React","gkx","stylex","MWChatTabState.bs","MWChatOpenNewTab.bs","MWChatCloseNewTab.bs","CometTooltip.react","useMWIsCometHomePage","MWChatHeadComposeIcon.bs","MWChatCurrentlyOpenTab.bs","MessengerWebEntryPoint","MWChatHeadContacts.react","MWChatTabContainerNewPreload.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i={compose:{alignItems:"bp9cbjyn",backgroundColor:"ovq5dppa",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",height:"m7zwrmfr",justifyContent:"taijpn5t",position:"l9j0dhe7",width:"tmrshh9y"},dropShadow:{boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"}}};function a(a){var c=b("bs_curry")._1(b("MWChatOpenNewTab.bs").useHook,b("MessengerWebEntryPoint").NEW_MESSAGE_BUTTON),d=b("bs_curry")._1(b("MWChatCloseNewTab.bs").useHook,b("MessengerWebEntryPoint").NEW_MESSAGE_BUTTON);a=b("MWChatTabState.bs").useHook_DEPRECATED(0);var e=b("MWChatCurrentlyOpenTab.bs").get(a);a=a.openTabState;var f=a!==void 0?a.isSearchView:!1;a=h.useCallback(function(a){if(e!==void 0&&!(e||f))return b("bs_curry")._1(d,0);else return b("bs_curry")._1(c,void 0)},[c,d,e,f]);var j=b("MWChatTabContainerNewPreload.bs").useHook(0),k=function(a){return[i.compose,i.dropShadow]},l=b("useMWIsCometHomePage")();if(b("gkx")("1526694")&&!l)return h.jsx(b("MWChatHeadContacts.react"),{onPress:a,xstyle:k});else{l=g._("Tin nh\u1eafn m\u1edbi");return h.jsx(b("CometTooltip.react"),{tooltip:l.toString(),align:"middle",position:"start",children:h.jsx(b("MWChatHeadComposeIcon.bs").make,{label:l,onHoverIn:j[0],onHoverOut:j[1],onPress:a,xstyle:k})})}}c=a;f.styles=i;f.make=c}),null);
__d("MWChatHeadConstants.bs",[],(function(a,b,c,d,e,f){"use strict";a=58;f.pixels_between_chat_heads=a}),null);
__d("MWChatHeadsArrowStyles.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";a={gradientLTR:{backgroundImage:"rvdht4aw"},gradientRTL:{backgroundImage:"hv4tdetg"},openChatArrowPointer:{borderTopEndRadius:"hcy7w5mv",bottom:"lfi1tu6t",height:"gl3lb2sf",opacity:"pedkr2u6",position:"pmk7jnqg",start:"kgydm29w",transitionDuration:"kmdw4o4n",transitionProperty:"flx89l3n",width:"hhz5lgdu",pointerEvents:"hzruof5a"},openChatArrowPointerHidden:{opacity:"b5wmifdl"}};f.styles=a}),null);
__d("MWChatHiddenChatHeads.bs",["MWChatTabReducer.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.chatHeads.slice().slice(b("MWChatTabReducer.bs").maxChatHeads)}f.get=a}),null);
__d("MWChatVisibleChatHeads.bs",["MWChatTabReducer.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.chatHeads.slice().reverse().slice(-b("MWChatTabReducer.bs").maxChatHeads|0)}f.get=a}),null);
__d("MWChatHeadsArrow.bs",["React","Locale","bs_caml_obj","bs_caml_int32","stylex","MWChatTabState.bs","MWChatHeadConstants.bs","recoverableViolation","MWChatHiddenChatHeads.bs","MWChatCurrentlyOpenTab.bs","MWChatHeadsArrowStyles.bs","MWChatVisibleChatHeads.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){a=b("Locale").isRTL();var c=b("MWChatTabState.bs").useHook_DEPRECATED(0),d=b("MWChatCurrentlyOpenTab.bs").get(c),e=b("MWChatVisibleChatHeads.bs").get(c);c=b("MWChatHiddenChatHeads.bs").get(c);c=c.length>0;var f=d!==void 0&&!d?!0:!1;if(d!==void 0){d=d;if(d){var i=d[0];d=e.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,i)});d===-1?(b("recoverableViolation")("currently open thread id should be in list of open chat tabs","messenger_comet"),e=void 0):e=d+1|0}else e=0}else e=void 0;if(e!==void 0){d=b("bs_caml_int32").imul(b("bs_caml_int32").imul(-1,e+(c&&!f?1:0)|0),b("MWChatHeadConstants.bs").pixels_between_chat_heads);e=a?-45:45;c="translateY("+(String(d)+("px) rotate("+(String(e)+"deg)")));return h.jsx("div",{className:(g||(g=b("stylex")))(b("MWChatHeadsArrowStyles.bs").styles.openChatArrowPointer,a?b("MWChatHeadsArrowStyles.bs").styles.gradientRTL:b("MWChatHeadsArrowStyles.bs").styles.gradientLTR),style:{transform:c}})}else return h.jsx("div",{className:(g||(g=b("stylex")))(b("MWChatHeadsArrowStyles.bs").styles.openChatArrowPointer,b("MWChatHeadsArrowStyles.bs").styles.openChatArrowPointerHidden)})}c=a;f.make=c}),null);
__d("MWChatTabSync.bs",["React","MWChatTabContext.bs","MWChatTabDispatcher.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWChatTabContext.bs").context);g.useEffect(function(){if(c!==void 0)return b("MWChatTabDispatcher.bs").subscribe(c)},[c]);return 0}f.useHook=a}),null);
__d("MWChatThreadIDFromState.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.openTabState;if(a!==void 0)return a.threadID}f.getThreadIDFromState=a}),null);
__d("MWChatSingleTabMain.bs",["bs_block","bs_curry","React","gkx","MWThread.bs","JSResource","stylex","bs_caml_option","requireCond","MWChatTabSync.bs","MWChatTabState.bs","MWChatThreadId.bs","MWChatHeadsArrow.bs","MWUIChatTabState.bs","MWChatHeadCompose.bs","BootloaderResource","MWChatHiddenChatHeads.bs","MWChatInteractionUUID.bs","CometPlaceholder.react","MWChatVisibleChatHeads.bs","MWChatThreadIDFromState.bs","CometErrorBoundary.react","MWChatTabContainerShared.bs","MWChatTabContainerLoading.bs","MessengerInteractionContext.bs","MWChatSolidReactionSettingSync.bs","CometHeroInteractionWithDiv.react","CometTransientDialogProvider.react","CometContextualLayerAnchorRoot.react","useCometDisplayTimingTrackerForInteraction","cr:1465917","cr:1504998"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{position:"poy2od1o",bottom:"i09qtzwb",end:"n7fi1qx3"},hidden:{display:"mkhogb32"},chatHeads:{alignItems:"bp9cbjyn",bottom:"cij46092",display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7"},container:{position:"l9j0dhe7",transform:"fh5enmmv"},tray:{position:"l9j0dhe7",zIndex:"du4w35lb"},dockedToBottomRight:{bottom:"lfi1tu6t",end:"cypi58rs",position:"pmk7jnqg"},aboveChatHeads:{position:"l9j0dhe7",zIndex:"tkr6xdv7"}},j=b("JSResource")("MWChatHeads.bs").__setRef("MWChatSingleTabMain.bs");function a(a,b,c){return{threadIds:a,hiddenThreadIds:b}}function k(a){return h.createElement(b("BootloaderResource").read(j).make,a)}d={reasonResource:j,makeProps:a,make:k};var l=b("JSResource")("MWChatTabContainerNew.bs").__setRef("MWChatSingleTabMain.bs");function m(a,c,d,e,f,g,h){h={hasContent:a,isSearchView:d,isTabFocused:e,searchInitialParticipant:g};c!==void 0&&(h.isMultitab=b("bs_caml_option").valFromOption(c));f!==void 0&&(h.useSidebarChatStyles=b("bs_caml_option").valFromOption(f));return h}function n(a){return h.createElement(b("BootloaderResource").read(l).make,a)}e={reasonResource:l,makeProps:m,make:n};function o(a){a=a.showChat;var c=b("MWChatTabState.bs").useHook_DEPRECATED(0),d=h.useMemo(function(){return b("MWChatVisibleChatHeads.bs").get(c)},[c]),e=h.useMemo(function(){return b("MWChatHiddenChatHeads.bs").get(c)},[c]),f=b("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0),j=b("useCometDisplayTimingTrackerForInteraction")("ChatHead",!1),l=h.useContext(b("MessengerInteractionContext.bs").context),o=h.useMemo(function(){return b("MWChatThreadIDFromState.bs").getThreadIDFromState(c)},[c]);l=b("MWChatInteractionUUID.bs").getInteractionUUIDFromInteraction(l,o);o=c.openTabState;if(o!==void 0){o=o;var p=o.hasContent,q=o.isTabFocused,r=o.threadID;if(r){var s=r[0];s=h.jsx(b("MWThread.bs").make,{id:s,children:h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:b("bs_block").__(1,[s]),children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("CometErrorBoundary.react"),{fallback:function(a){return null},children:h.jsx(b("cr:1465917").make,{isTabFocused:q,hasContent:p,isMultitab:!1,useSidebarChatStyles:!1},b("MWChatThreadId.bs").getMercuryID(s))})})})},b("MWThread.bs").key(s))}else s=h.jsx(n,m(p,void 0,o.isSearchView,q,void 0,o.searchInitialParticipant,0),"local");p={children:h.jsxs(h.Fragment,{children:[s,h.jsx(b("MWChatHeadsArrow.bs").make,{})]}),className:(g||(g=b("stylex")))(b("MWChatTabContainerShared.bs").styles.chatTabContainer)};q=h.jsx(b("CometPlaceholder.react"),{children:(p["data-visualcompletion"]="ignore-dynamic",h.jsx("div",p)),fallback:h.jsx(b("MWChatTabContainerLoading.bs").make,{threadID:r?r[0]:void 0})})}else q=null;return h.jsx("div",{children:h.jsx(b("CometContextualLayerAnchorRoot.react"),{children:h.jsxs("div",{children:[h.jsx("div",{children:h.jsx(b("CometContextualLayerAnchorRoot.react"),{children:h.jsx("div",{children:h.jsx(b("CometHeroInteractionWithDiv.react"),{children:q,interactionUUID:l,interactionDesc:"MWChatMain",pageletName:"ChatTab",excludeFromMainVC:!0}),ref:f,className:(g||(g=b("stylex")))(i.tray)})}),className:g(i.aboveChatHeads)}),h.jsxs("div",{children:[h.jsx("ul",{children:d.length!==0?h.jsx(b("CometPlaceholder.react"),{children:h.jsx(k,{threadIds:d,hiddenThreadIds:e}),fallback:null}):null,className:g(i.chatHeads)}),h.jsx(b("MWChatHeadCompose.bs").make,{})],ref:j,className:g(i.dockedToBottomRight)})],className:g(i.container)})}),className:g(i.root,a?!1:i.hidden)})}a={make:o};function c(a){a=a.showChat;b("bs_curry")._1(b("cr:1504998").useHook,0);b("MWChatTabSync.bs").useHook(0);b("MWChatSolidReactionSettingSync.bs").useHook(0);if(b("gkx")("1329969"))if(a)return h.jsx(o,{showChat:a});else return null;else return h.jsx(o,{showChat:a})}var p=b("MWChatTabContainerShared.bs").styles,q=b("cr:1465917");c=c;f.styles=i;f.shareStyles=p;f.LazyMWChatHeads=d;f.LazyMWChatTabContainerNew=e;f.$MWChatTabContainerWithEarlierLoading$OR$MWChatTabContainerWithoutPreloading$requireCond=b("cr:1465917");f.TabContainer=q;f.View=a;f.$MWLSChatInit$OR$MWMSChatInit$requireCond=b("cr:1504998");f.make=c}),null);
__d("MWChatSingleTab.bs",["React","MWChatSingleTabMain.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.showChat;return g.jsx(b("MWChatSingleTabMain.bs").make,{showChat:a})}c=a;f.make=c}),null);
__d("MWChatSingleTab.re",["MWChatSingleTab.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MWChatSingleTab.bs").make;f.make=a}),null);
__d("MWChatSingleTab.react",["MWChatSingleTab.re"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatSingleTab.re").make;e.exports=a}),null);
__d("MWChatSingleTabCloseNewTab.bs",["React","MWChatTabContext.bs","MWChatTabDispatcher.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatTabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");if(d!==void 0)return b("MWChatTabDispatcher.bs").dispatch(void 0,d,3);else return 0},[d,c])}f.useHook=a}),null);
__d("MWChatSingleTabCollapseTab.bs",["bs_block","React","MWChatTabContext.bs","MWChatTabDispatcher.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatTabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");if(d!==void 0)return b("MWChatTabDispatcher.bs").dispatch(void 0,d,b("bs_block").__(4,[a]));else return 0},[d,c])}f.useHook=a}),null);
__d("MWChatSingleTabOpenNewSearchTab.bs",["React","MWChatTabContext.bs","MessengerWebEvent","MWChatTabDispatcher.bs","MessengerWebStgTypedLoggerLite.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatTabContext.bs").context);return g.useCallback(function(e){c(Date.now(),"","messenger");b("MessengerWebStgTypedLoggerLite.bs").log({entry_point:a,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB});if(d!==void 0)return b("MWChatTabDispatcher.bs").dispatch(void 0,d,0);else return 0},[a,d,c])}f.useHook=a}),null);
__d("MWChatSingleTabOpenNewTab.bs",["bs_block","React","BanzaiODS","MWChatTabContext.bs","MWChatStateThread.bs","MessengerWebEvent","MWChatTabDispatcher.bs","MessengerInteractionContext.bs","useMWChatOpenTabTraceProvider","MessengerWebStgTypedLoggerLite.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useMWChatOpenTabTraceProvider")(),d=b("useCometFeedNoRoutingNavigationEventLogger")(),e=g.useContext(b("MWChatTabContext.bs").context),f=g.useContext(b("MessengerInteractionContext.bs").context);return g.useCallback(function(g){d(Date.now(),"","messenger");b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_new");b("MessengerWebStgTypedLoggerLite.bs").log({entry_point:a,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB});return c(function(a){f==null||f.addInteraction(b("MWChatStateThread.bs").toString(0),a);if(e!==void 0)return b("MWChatTabDispatcher.bs").dispatch(void 0,e,b("bs_block").__(0,[g]));else return 0},"new_message",a)},[a,e,d,f,c])}f.useHook=a}),null);
__d("MWChatSingleTabOpenTabFromNewMessage.bs",["bs_block","React","BanzaiODS","MWChatTabContext.bs","MWChatTabDispatcher.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatTabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");if(d!==void 0)return b("MWChatTabDispatcher.bs").dispatch(!1,d,b("bs_block").__(2,[a]));else return 0},[d,c])}f.useHook=a}),null);