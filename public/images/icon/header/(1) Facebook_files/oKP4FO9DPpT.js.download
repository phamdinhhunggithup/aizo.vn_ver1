if (self.CavalryLogger) { CavalryLogger.start_js(["Z8jOP"]); }

__d("MessengerEmojiConfig",[],(function(a,b,c,d,e,f){e.exports={emoji_colors:[0,127995,127996,127997,127998,127999]}}),null);
__d("CometMediaViewerComposer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerComposer_media",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoViewerTaggedProductsSection_photo"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerComposer_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerComposer_textWithEntities",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Event",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],type:"TextWithEntities",abstractKey:null}}();e.exports=a}),null);
__d("useCometComposerHandler",["CometComposerPluginsDispatchContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useContext(b("CometComposerPluginsDispatchContext"));g.useEffect(function(){c({handler:a,type:"install_handler"});return function(){return c({handler:a,type:"uninstall_handler"})}},[c,a])}}),null);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){e.exports={names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":trans:":"transflag",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",poop:"1f4a9",transflag:"1f3f3_200d_26a7",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",transflag:":trans:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/}}),null);
__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),null);
__d("SkinToneEmoji.bs",["bs_caml_array","EmojiFormat.bs","MessengerEmojiConfig"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case"1f385":case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f442":case"1f443":case"1f446":case"1f447":case"1f448":case"1f449":case"1f44a":case"1f44b":case"1f44c":case"1f44d":case"1f44e":case"1f44f":case"1f450":case"1f466":case"1f467":case"1f468":case"1f469":case"1f46e":case"1f470":case"1f471":case"1f472":case"1f473":case"1f474":case"1f475":case"1f476":case"1f477":case"1f478":case"1f47c":case"1f481":case"1f482":case"1f483":case"1f485":case"1f486":case"1f487":case"1f4aa":case"1f575":case"1f590":case"1f595":case"1f596":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64c":case"1f64d":case"1f64e":case"1f64f":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"1f6c0":case"1f918":case"261d":case"26f9":case"270a":case"270b":case"270c":case"270d":return!0;default:return!1}}function h(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){if(h(a)===0)return a;else return a.slice(0,a.length-1|0)}function k(a){var c=b("MessengerEmojiConfig").emoji_colors;c=c.filter(function(b){return b===a});return c.length!==0}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0?l(a):l(a.slice(0,a.length-1|0));if(c!==0)if(b===0)return a.slice(0,a.length-1|0);else return i(a.slice(0,a.length-2|0));else return a}function a(a,b){if(b!==0){var c=h(a),d=c===0?a.slice(0):a.slice(0,a.length-1|0),e=l(d);if(e!==0)return a;else{e=d.concat([b]);if(c===0)return e;else return e.concat([c])}}else return a}function c(a){return m(j(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(j(a))))}e=65039;f.emoji_modifier_code=e;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isToneModifier=k;f.getTone=l;f.removeTone=m;f.applyTone=a;f.removeAllModifiers=c;f.hasVariations=d}),null);
__d("MessengerEmojiTransitionMapping.bs",["bs_caml_array","EmojiFormat.bs","SkinToneEmoji.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f3cc":case"1f46e":case"1f46f":case"1f471":case"1f473":case"1f477":case"1f481":case"1f482":case"1f486":case"1f487":case"1f575":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64d":case"1f64e":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"26f9":return!0;default:return!1}}function h(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){if(h(a)===0)return a;else return a.slice(0,a.length-1|0)}function k(a){if(a===9792)return!0;else return a===9794}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0?l(a):l(a.slice(0,a.length-1|0));if(c!==0)if(b===0)return a.slice(0,a.length-2|0);else return i(a.slice(0,a.length-3|0));else return a}function n(a,b){if(b!==0){var c=h(a),d=c===0?a.slice(0):a.slice(0,a.length-1|0),e=l(d);if(e!==0)return a;else{e=d.concat([8205,b]);if(c===0)return e;else return e.concat([c])}}else return a}function a(a){return n(a,9792)}function c(a){return m(b("SkinToneEmoji.bs").removeTone(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a))))}function e(a){a=b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a)));switch(a){case"1f46a":case"1f48f":case"1f491":return!0;default:return!1}}var o=65039,p=9792,q=9794,r=8205;f.emoji_modifier_code=o;f.gender_female=p;f.gender_male=q;f.zero_join=r;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isGenderModifier=k;f.getGender=l;f.removeGender=m;f.applyGender=n;f.makeFemale=a;f.removeAllModifiers=c;f.hasGender=d;f.isBlacklisted=e}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("Utf16",[],(function(a,b,c,d,e,f){a={decode:function(a){switch(a.length){case 1:return a.charCodeAt(0);case 2:return 65536|(a.charCodeAt(0)-55296)*1024|a.charCodeAt(1)-56320;default:return null}},encode:function(a){if(a<65536)return String.fromCharCode(a);else return String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+a%1024)}};e.exports=a}),null);
__d("MessengerSupportedEmojiUtils",["cx","EmojiImageURL","EmojiLikeConstants","EmojiRenderer","EmoticonEmojiList","FBEmojiAliases","FBEmojiResource","Image.react","MessengerEmojiTransitionMapping.bs","MessengerHotlikeEmoji.bs","MessengerSupportedEmoji","React","SupportedEmoji3","SupportedFacebookEmoji","Utf16","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=/_fe0f/g,j=new RegExp("(\r\n|[ \r\n]|\\s)");a={getSupportedEmojiKey:function(a){if(!a)return null;var c=null,d=this.parse(a);if(d.length===1&&d[0].length===a.length){a=d[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(i,"")}if(c){d=b("FBEmojiAliases")[c];d&&(c=d.replace(i,""))}return this.isSupportedEmojiKey(c)?c:null},isSupportedEmoji:function(a){return!!this.getSupportedEmojiKey(a)},isSupportedEmojiKey:function(a){if(!a)return!1;if(!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var c=function(a){var c=b("FBEmojiAliases")[a];return c?c.replace(i,""):a}(a);return!!b("SupportedFacebookEmoji")[c]||!!b("SupportedEmoji3")[c]}return!!b("MessengerSupportedEmoji").emoji[a]},isMessengerSupportedEmojiKey:function(a){return!!(a&&b("MessengerSupportedEmoji").emoji[a])},getSupportedEmojiCodesArray:function(a){if(!a)return null;var c=this.parse(a);if(c.length===1&&c[0].length===a.length){a=c[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(i,"");if(this.isSupportedEmojiKey(c))return a}return null},getEmojiKeyFromCodes:function(a){a=a.map(function(a){return a.toString(16)}).join("_").replace(i,"");var c=b("FBEmojiAliases")[a];return c?c.replace(i,""):a},getClassSizeMap:function(){var a,c=b("EmojiLikeConstants").size;return a={},a[c.XSMALL]="_2560",a[c.SMALL]="_1ifu",a[c.MEDIUM]="_19_r",a[c.LARGE]="_19_s",a},getEmojiMatchObj:function(a){a=this.parse(a,1);if(a.length!==1)return null;var c=a[0].emoji,d=a[0].emoji.map(function(a){return b("Utf16").decode(a)});b("MessengerEmojiTransitionMapping.bs").hasGender(d)&&!b("MessengerEmojiTransitionMapping.bs").getGender(d)&&(d=b("MessengerEmojiTransitionMapping.bs").makeFemale(d));d=d.map(function(a){return a.toString(16)}).join("_").replace(i,"");return{emoji_key:d,emoji_str:c.join(""),is_supported:this.isSupportedEmojiKey(d),offset:a[0].offset,length:a[0].length}},getNewEmojiData:function(a,c){if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[c];c=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return c==null?null:{emoji:h.jsx(b("Image.react"),{className:d,src:c}),emoji_key:a,url:c}},getHotLikeEmojiDataTransition:function(a,c){if(!a)return null;a=this.getSupportedEmojiKey(a,!0);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);var e=c===b("EmojiLikeConstants").size.MEDIUM?b("EmojiLikeConstants").size.LARGE:c;b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[e];e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return e==null?null:{emoji:h.jsx(b("Image.react"),{className:d,src:e}),emoji_key:a,url:e}},getHotLikeEmojiData:function(a,c){if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);var e=c===b("EmojiLikeConstants").size.MEDIUM?b("EmojiLikeConstants").size.LARGE:c;b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[e];e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return e==null?null:{emoji:h.jsx(b("Image.react"),{className:d,src:e}),emoji_key:a,url:e}},getEmojiOnlyContents:function(a){a=a||"";var c=[],d=function(a){var b=j.exec(a),d="";while(b&&b.length&&b.index===0)d+=b[0],a=a.replace(j,""),b=j.exec(a);d.length>0&&c.push({text:d});return a};while(!0){a=d(a);var e=b("EmoticonEmojiList").noncapturingRegexp.exec(a);if(e&&e.index===0){var f=b("EmoticonEmojiList").names[e[1]];f=b("EmoticonEmojiList").emote2emojis[f];c.push({emojiKey:f,text:e[1]});a=a.replace(e[1],"")}else break}while(a.length>0&&a.trim().length>0){a=d(a);f=this.getEmojiMatchObj(a);if(f&&f.is_supported)c.push({emojiKey:f.emoji_key,text:f.emoji_str}),a=a.replace(f.emoji_str,"");else return null}return c},getUrl:function(a,c){a=a.replace(i,"");c=this.transferSize(c);if(!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var d=b("FBEmojiAliases")[a];d&&(a=d.replace(i,""));return!this.isSupportedEmojiKey(a)?null:new(b("FBEmojiResource"))(a).getImageURL(b("EmojiLikeConstants").sizeMap[c])}return!b("MessengerSupportedEmoji").emoji[a]?null:b("EmojiImageURL").getMessengerURL(a,b("EmojiLikeConstants").sizeMap[c])},containsEmoji:function(a){return this.parse(a,1).length===1},parse:function(a,c){return b("EmojiRenderer").parse(a,c)},transferSize:function(a){return b("EmojiLikeConstants").sizeMapTransfer[a]||a}};e.exports=a}),null);
__d("insertMessengerEmojiIntoContentState",["DraftModifier","EmojiFormat.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=c.createEntity("EMOJI","IMMUTABLE",{type:a});f=f.getLastCreatedEntityKey();var g=d.isCollapsed();if(g)return b("DraftModifier").insertText(c,d,b("EmojiFormat.bs").codeStringToUnicode(a),e,f);else return b("DraftModifier").replaceText(c,d,b("EmojiFormat.bs").codeStringToUnicode(a),e,f)}e.exports=a}),null);
__d("handleBeforeInputForMessengerEmoji",["EditorState","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c)return a;c=b("MessengerSupportedEmojiUtils").getEmojiMatchObj(c);if(!c||!c.is_supported)return a;c=b("insertMessengerEmojiIntoContentState")(c.emoji_key,a.getCurrentContent(),d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-characters")}e.exports=a}),null);
__d("CometComposerEmojiPickerTrigger.react",["CometLazyPopoverTrigger.react","JSResource","CometPopoverLoadingState.react","EmojiRenderer","EmojiSpan.react","React","emptyFunction","handleBeforeInputForMessengerEmoji","useCometComposerDecorator","useCometComposerHandler","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("JSResource")("CometEmojiPickerCard.react").__setRef("CometComposerEmojiPickerTrigger.react"),h=b("React"),i={component:b("EmojiSpan.react"),priority:0,props:{size:16},strategy:function(a,c){b("EmojiRenderer").parse(a.getText()).forEach(function(a){var b=a.length;a=a.offset;c(a,a+b)})}};function j(a){return{handleBeforeInput:function(c,d){c=b("handleBeforeInputForMessengerEmoji")(d,c);if(c!==d){a({draftEditorState:c,type:"update_draft_editor_state"});return"handled"}return"not-handled"},priority:0}}function a(a){var c=a.align;c=c===void 0?"middle":c;var d=a.children,e=a.onVisibilityChange;e=e===void 0?b("emptyFunction"):e;a=a.position;a=a===void 0?"above":a;b("useCometComposerDecorator")(i);var f=b("useComposerViewStateDispatcher")(),k=h.useMemo(function(){return j(f)},[f]);b("useCometComposerHandler")(k);return h.jsx(b("CometLazyPopoverTrigger.react"),{align:c,fallback:h.jsx(b("CometPopoverLoadingState.react"),{minWidth:320,withArrow:!0}),onVisibilityChange:e,popoverProps:{},popoverResource:g,position:a,children:d})}}),null);
__d("createPlainBlocksFromText",["CharacterMetadata","ContentBlock","immutable","generateRandomKey","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat,i=b("CharacterMetadata").EMPTY;function a(a){return a.map(function(a){a=b("sanitizeDraftText")(a);var c=a.length;return new(b("ContentBlock"))({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(i,c))})})}e.exports=a}),null);
__d("createCometComposerEditorStateFromTextWithEntities",["ContentState","DraftModifier","EditorState","SelectionState","UnicodeUtils","createPlainBlocksFromText","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a,c,d){d=d===void 0?{}:d;var e=d.allowUndo;e===void 0?!1:e;e=d.splitIntoBlocks;d=e===void 0?!1:e;if(a.ranges.length===0)return{__type:"plain-text",hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:a.text};e=a.ranges;a=a.text;d=d?a.split(/(\r\n?|\n)/g):[a];var f=0,h=[],i=[];d.forEach(function(a,c){c%2===0&&(h.push(a),i.push(f)),f+=(g||(g=b("UnicodeUtils"))).strlen(a)});var j=b("createPlainBlocksFromText")(h);a=e.reduce(function(a,d,e){e=c(d,a);if(e==null)return a;var f=e.getLastCreatedEntityKey(),h=d.offset;d=h+d.length;var k,l,m,n;for(var o=0;o<i.length;o++){var p=i[o],q=i[o+1],r=q===void 0;(r||h>=p&&h<q)&&(k=j[o],l=h-p);if(r||d>=p&&d<q){m=j[o];n=d-p;break}}if(k==null||m==null){b("recoverableViolation")("createEditorStateWithRanges has failed to find the achor and focus of this entity","CometComposer");return a}r=(g||(g=b("UnicodeUtils"))).substr(k.getText(),0,l);q=r.length;p=g.substr(m.getText(),0,n);d=p.length;h=new(b("SelectionState"))({anchorKey:k.getKey(),anchorOffset:q,focusKey:m.getKey(),focusOffset:d,hasFocus:!1,isBackward:!1});return b("DraftModifier").applyEntity(e,h,f)},b("ContentState").createFromBlockArray(j));return{__type:"editor-state-based",draftEditorState:b("EditorState").createWithContent(a)}}}),null);
__d("CometMediaViewerComposerEmojiButton.react",["ix","fbt","CometComposerEmojiPickerTrigger.react","CometPressable.react","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){return i.jsx(b("CometComposerEmojiPickerTrigger.react"),{align:"end",position:"below",children:function(a,c){return i.jsx(b("CometPressable.react"),{"aria-label":h._("Ch\u00e8n m\u1ed9t bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac"),display:"inline",onPress:c,overlayDisabled:!0,ref:a,children:i.jsx("div",{className:"b3onmgus pby63qed ph5uu5jm ecm0bbzt",children:i.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("642533"),16)})})})}})}}),null);
__d("CometMediaViewerComposer.react",["fbt","requireCond","requireDeferred","CometButton_DEPRECATED.react","CometComposer.react","CometComposerEditor.react","CometMediaViewerComposerEmojiButton.react","CometMediaViewerPhotoActions","CometMediaViewerVideoActions","CometRelay","React","TetraText.react","createCometComposerEditorStateFromTextWithEntities","createCometComposerMentionsEntity","createComposerDeferredPlugin","getDeferredComposerTransformer","reduceComposerViewStateToCreationData","stylex","cr:1536687","CometMediaViewerComposer_media.graphql","CometMediaViewerComposer_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;d=(c=b("CometRelay")).createSuspenseFragmentContainer_DEPRECATED;c.graphql;var j=c.useFragment,k=c.useRelayEnvironment,l=b("React");f=b("React");var m=f.useCallback,n=f.useState,o=b("createComposerDeferredPlugin")((c=b("requireDeferred"))("CometPhotoViewerTaggedProductsSection.react")),p=b("createComposerDeferredPlugin")(c("CometComposerMisinformationLinkDetectorPlugin.react")),q=b("createComposerDeferredPlugin")(c("CometMediaViewerComposerMentionsPlugin.react"));f=c("composerMessageMediaViewerTransform");var r=[b("getDeferredComposerTransformer")(f)];function s(a){if(a==null)return{__type:"plain-text",hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""};var c=a.text;a=(a=a==null?void 0:a.ranges)!=null?a:[];var d=[];for(var e=0;e<a.length;e++){var f=a[e];f!=null&&f.offset!=null&&f.length!=null&&f.entity!=null&&f.entity.__typename!=null&&d.push({entity:f.entity,entity_is_weak_reference:f==null?void 0:f.entity_is_weak_reference,length:f.length,offset:f.offset})}return b("createCometComposerEditorStateFromTextWithEntities")({ranges:d,text:(f=c)!=null?f:""},function(a,c){a=a.entity;var d=a.__typename;a=a.id;return(d==="User"||d==="Page"||d==="Event"||d==="Group")&&a!=null?b("createCometComposerMentionsEntity")(a,!1,c):null})}function a(a){var c=n(!1),d=c[0],e=c[1],f=k();c=n(null);var i=c[0],t=c[1];c=a.media;var u=a.mediaType,v=a.message,w=a.nodeID,x=a.setIsEditing,y=j(h!==void 0?h:h=b("CometMediaViewerComposer_media.graphql"),c);c=m(function(){return s(v)},[v]);var z=m(function(a){var c=u==="video"?b("CometMediaViewerVideoActions"):b("CometMediaViewerPhotoActions"),d="",g=a==null?void 0:a.editorState;g!=null&&(g.__type==="editor-state-based"?d=g.draftEditorState.getCurrentContent().getPlainText():d=g.text);b("reduceComposerViewStateToCreationData")(a,r,{id:w,message:{text:d}},function(a){t(null),e(!0),c.edit({environment:f,input:{id:w,message:a.message},onCompleted:function(){x!=null&&x(!1)},onError:function(){x!=null&&x(!1)}})})},[u,w,f,x]),A=i!=null?Object.keys(i):[];return l.jsx("div",{children:l.jsx(b("CometComposer.react"),{beginningViewState:{editorState:c()},onSubmitCommit:z,children:function(c){return l.jsxs(l.Fragment,{children:[i&&A.length>0?l.jsx("div",{children:A.map(function(a,c){return l.jsx(b("TetraText.react"),{color:"negative",type:"body3",children:i[a]},c)})}):null,l.jsx(q,{nodeID:w,position:"below"}),l.jsx(b("cr:1536687"),{}),l.jsx(p,{composerType:"feed"}),l.jsxs("div",{className:"pxsmfnpt n851cfcs i1fnvgqd cbu4d94t j83agx80 oo9gr5id",children:[l.jsx(b("CometComposerEditor.react"),{placeholder:"Add a description",readOnly:d}),l.jsx("div",{className:"bkfpd7mw j83agx80",children:l.jsx(b("CometMediaViewerComposerEmojiButton.react"),{})}),l.jsx(o,{isEditMode:!0,photo:y})]}),l.jsxs("div",{className:"j83agx80",children:[l.jsx("div",{children:a.submitButton({disabled:d,submitForm:c})}),l.jsx("div",{className:"b3onmgus",children:l.jsx(b("CometButton_DEPRECATED.react"),{disabled:d,onClick:function(){x!=null&&x(!1)},use:"secondary",children:g._("H\u1ee7y")})})]})]})}})})}e.exports=d(a,{message:i!==void 0?i:i=b("CometMediaViewerComposer_textWithEntities.graphql")})}),null);
__d("useCometMediaViewerComposerMentionsStrategyResolver",["React","createCometAtSignMentionStrategy","createCometCapitalizedNameMentionStrategy","useCometMediaViewerComposerMentionsDataSource","useCometMentionsStrategyResolver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("useCometMediaViewerComposerMentionsDataSource")({config:{bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user","group","event","page"]}},existingIDs:[],limit:5,photoID:a}),d=b("useCometMediaViewerComposerMentionsDataSource")({config:{bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user"]}},existingIDs:[],limit:5,photoID:a});a=g.useMemo(function(){return[{dataSource:c,searchStrategy:b("createCometAtSignMentionStrategy")({minMatchLength:1})},{dataSource:d,searchStrategy:b("createCometCapitalizedNameMentionStrategy")({minMatchLength:3})}]},[c,d]);return b("useCometMentionsStrategyResolver")(a)}}),null);
__d("CometMediaViewerComposerMentionsPlugin.react",["CometComposerMentionsPlugin.react","FeedComposerCometMentionsTypeheadListItem.react","React","createCometComposerMentionsEntity","getCometComposerMentionsSearch","useCometMediaViewerComposerMentionsStrategyResolver","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){return a.getLabel()}function i(a,c){return b("createCometComposerMentionsEntity")(c.getKey(),!1,a)}function a(a){var c=a.currentBlockKey,d=a.nodeID;a=a.position;a=a===void 0?"above":a;d=b("useCometMediaViewerComposerMentionsStrategyResolver")(d);return g.jsx(b("CometComposerMentionsPlugin.react"),{currentBlockKey:c,getReplacementString:h,getSearchText:b("getCometComposerMentionsSearch"),onMentionCreateContentState:i,position:a,priority:1,strategyResolver:d,viewItemStrategyRenderer:b("FeedComposerCometMentionsTypeheadListItem.react")})}c=b("withComposerViewStatePart")(a,function(a){a=a==null?void 0:a.editorState;a=a!=null&&a.__type==="editor-state-based"?a.draftEditorState:null;return{currentBlockKey:a!=null?a.getSelection().getStartKey():null}});e.exports=c}),null);
__d("composerMessageMediaViewerTransform",["cometComposerMentionsBlockToEntity","getPlainTextFromDeferredDraftEditorState","transformDraftEditorStateToTextWithEntities"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){a=a.editorState;if(a==null)d(c);else if(a.__type==="plain-text")d(babelHelpers["extends"]({},c,{message:{text:b("getPlainTextFromDeferredDraftEditorState")(a)}}));else if(a.__type==="editor-state-based"){a=a.draftEditorState;a=b("transformDraftEditorStateToTextWithEntities")(a,[b("cometComposerMentionsBlockToEntity")]);d(babelHelpers["extends"]({},c,{message:a}))}}}),null);
__d("CometMediaOptionsClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","comet_media_options_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometMediaRemoveTagFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","comet_media_remove_tag");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometMediaTagFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","comet_media_tag");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometMediaVpvdFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","comet_media_vpvd");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);